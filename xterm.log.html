<!--
 *****************************************************************************
 * this file is part of xterm                                                *
 *                                                                           *
 * Copyright 1997-2012,2013 by Thomas E. Dickey                              *
 *                                                                           *
 * All Rights Reserved                                                       *
 *                                                                           *
 * Permission is hereby granted, free of charge, to any person obtaining a   *
 * copy of this software and associated documentation files (the             *
 * "Software"), to deal in the Software without restriction, including       *
 * without limitation the rights to use, copy, modify, merge, publish,       *
 * distribute, sublicense, and/or sell copies of the Software, and to        *
 * permit persons to whom the Software is furnished to do so, subject to     *
 * the following conditions:                                                 *
 *                                                                           *
 * The above copyright notice and this permission notice shall be included   *
 * in all copies or substantial portions of the Software.                    *
 *                                                                           *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS   *
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF                *
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.    *
 * IN NO EVENT SHALL THE ABOVE LISTED COPYRIGHT HOLDER(S) BE LIABLE FOR ANY  *
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,      *
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE         *
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.                    *
 *                                                                           *
 * Except as contained in this notice, the name(s) of the above copyright    *
 * holders shall not be used in advertising or otherwise to promote the      *
 * sale, use or other dealings in this Software without prior written        *
 * authorization.                                                            *
 *****************************************************************************
  $XTermId: xterm.log.html,v 1.1351 2013/05/28 00:01:55 tom Exp $
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">

  <title>XTERM - Change Log</title>
  <link rev="MADE" href="mailto:dickey@invisible-island.net">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <link rel="SHORTCUT ICON" href="/img/icons/xterm.ico" type=
  "image/x-icon">
</head>

<body>
  <hr>

  <p>Copyright &copy; 1997-2012,2013 by <a href=
  "mailto:dickey@invisible-island.net">Thomas E. Dickey</a></p>
  <hr>

  <h1>Contents</h1>

  <p><a href=
  "http://invisible-island.net/xterm/xterm.log.html">Here</a> is
  the latest version of this file.</p>

  <p>It began as a list of the changes that I made for xterm, using
  the notes that I added when submitting a patch. You should note
  that other changes were made as well, by other people, to fix
  bugs and correct ifdef's for portability. Until mid-2006, most of
  these were summarized in the XFree86 <a href=
  "http://cvsweb.xfree86.org/cvsweb/xc/programs/Xserver/hw/xfree86/CHANGELOG">
  CHANGELOG</a>).</p>

  <ul>
    <li><a href="#xterm_293">Patch #293 - 2013/05/27</a></li>

    <li><a href="#xterm_292">Patch #292 - 2013/04/25</a></li>

    <li><a href="#xterm_291">Patch #291 - 2013/02/26</a></li>

    <li><a href="#xterm_290">Patch #290 - 2013/02/12</a></li>

    <li><a href="#xterm_289">Patch #289 - 2013/02/08</a></li>

    <li><a href="#xterm_288">Patch #288 - 2013/01/09</a></li>

    <li><a href="#xterm_287">Patch #287 - 2012/11/25</a></li>

    <li><a href="#xterm_286">Patch #286 - 2012/10/29</a></li>

    <li><a href="#xterm_285">Patch #285 - 2012/10/23</a></li>

    <li><a href="#xterm_284">Patch #284 - 2012/10/14</a></li>

    <li><a href="#xterm_283">Patch #283 - 2012/10/09</a></li>

    <li><a href="#xterm_282">Patch #282 - 2012/09/28</a></li>

    <li><a href="#xterm_281">Patch #281 - 2012/06/26</a></li>

    <li><a href="#xterm_280">Patch #280 - 2012/06/24</a></li>

    <li><a href="#xterm_279">Patch #279 - 2012/05/10</a></li>

    <li><a href="#xterm_278">Patch #278 - 2012/01/18</a></li>

    <li><a href="#xterm_277">Patch #277 - 2012/01/07</a></li>

    <li><a href="#xterm_276">Patch #276 - 2011/10/10</a></li>

    <li><a href="#xterm_275">Patch #275 - 2011/09/11</a></li>

    <li><a href="#xterm_274">Patch #274 - 2011/09/05</a></li>

    <li><a href="#xterm_273">Patch #273 - 2011/08/25</a></li>

    <li><a href="#xterm_272">Patch #272 - 2011/08/24</a></li>

    <li><a href="#xterm_271">Patch #271 - 2011/07/14</a></li>

    <li><a href="#xterm_270">Patch #270 - 2011/04/26</a></li>

    <li><a href="#xterm_269">Patch #269 - 2011/02/19</a></li>

    <li><a href="#xterm_268">Patch #268 - 2011/02/10</a></li>

    <li><a href="#xterm_267">Patch #267 - 2010/11/20</a></li>

    <li><a href="#xterm_266">Patch #266 - 2010/10/24</a></li>

    <li><a href="#xterm_265">Patch #265 - 2010/10/22</a></li>

    <li><a href="#xterm_264">Patch #264 - 2010/10/14</a></li>

    <li><a href="#xterm_263">Patch #263 - 2010/10/13</a></li>

    <li><a href="#xterm_262">Patch #262 - 2010/8/30</a></li>

    <li><a href="#xterm_261">Patch #261 - 2010/6/28</a></li>

    <li><a href="#xterm_260">Patch #260 - 2010/6/20</a></li>

    <li><a href="#xterm_259">Patch #259 - 2010/6/5</a></li>

    <li><a href="#xterm_258">Patch #258 - 2010/5/1</a></li>

    <li><a href="#xterm_257">Patch #257 - 2010/4/22</a></li>

    <li><a href="#xterm_256">Patch #256 - 2010/3/6</a></li>

    <li><a href="#xterm_255">Patch #255 - 2010/1/21</a></li>

    <li><a href="#xterm_254">Patch #254 - 2010/1/6</a></li>

    <li><a href="#xterm_253">Patch #253 - 2009/12/10</a></li>

    <li><a href="#xterm_252">Patch #252 - 2009/12/7</a></li>

    <li><a href="#xterm_251">Patch #251 - 2009/11/11</a></li>

    <li><a href="#xterm_250">Patch #250 - 2009/10/13</a></li>

    <li><a href="#xterm_249">Patch #249 - 2009/10/1</a></li>

    <li><a href="#xterm_248">Patch #248 - 2009/9/11</a></li>

    <li><a href="#xterm_247">Patch #247 - 2009/8/30</a></li>

    <li><a href="#xterm_246">Patch #246 - 2009/8/16</a></li>

    <li><a href="#xterm_245">Patch #245 - 2009/8/12</a></li>

    <li><a href="#xterm_244">Patch #244 - 2009/8/9</a></li>

    <li><a href="#xterm_243">Patch #243 - 2009/3/28</a></li>

    <li><a href="#xterm_242">Patch #242 - 2009/2/15</a></li>

    <li><a href="#xterm_241">Patch #241 - 2009/1/26</a></li>

    <li><a href="#xterm_240">Patch #240 - 2009/1/25</a></li>

    <li><a href="#xterm_239">Patch #239 - 2009/1/8</a></li>

    <li><a href="#xterm_238">Patch #238 - 2008/12/30</a></li>

    <li><a href="#xterm_237">Patch #237 - 2008/09/14</a></li>

    <li><a href="#xterm_236">Patch #236 - 2008/07/27</a></li>

    <li><a href="#xterm_235">Patch #235 - 2008/04/20</a></li>

    <li><a href="#xterm_234">Patch #234 - 2008/03/02</a></li>

    <li><a href="#xterm_233">Patch #233 - 2008/02/24</a></li>

    <li><a href="#xterm_232">Patch #232 - 2008/01/30</a></li>

    <li><a href="#xterm_231">Patch #231 - 2008/01/05</a></li>

    <li><a href="#xterm_230">Patch #230 - 2007/12/31</a></li>

    <li><a href="#xterm_229">Patch #229 - 2007/8/12</a></li>

    <li><a href="#xterm_228">Patch #228 - 2007/7/22</a></li>

    <li><a href="#xterm_227">Patch #227 - 2007/6/27</a></li>

    <li><a href="#xterm_226">Patch #226 - 2007/6/17</a></li>

    <li><a href="#xterm_225">Patch #225 - 2007/3/24</a></li>

    <li><a href="#xterm_224">Patch #224 - 2007/2/11</a></li>

    <li><a href="#xterm_223">Patch #223 - 2006/11/30</a></li>

    <li><a href="#xterm_222">Patch #222 - 2006/10/17</a></li>

    <li><a href="#xterm_221">Patch #221 - 2006/10/1</a></li>

    <li><a href="#xterm_220">Patch #220 - 2006/9/10</a></li>

    <li><a href="#xterm_219">Patch #219 - 2006/9/4</a></li>

    <li><a href="#xterm_218">Patch #218 - 2006/8/27</a></li>

    <li><a href="#xterm_217">Patch #217 - 2006/8/20</a></li>

    <li><a href="#xterm_216">Patch #216 - 2006/8/3</a></li>

    <li><a href="#xterm_215">Patch #215 - 2006/6/19 - XFree86
    4.6.99.2</a></li>

    <li><a href="#xterm_214">Patch #214 - 2006/6/18 - XFree86
    4.6.99.2</a></li>

    <li><a href="#xterm_213">Patch #213 - 2006/4/30 - XFree86
    4.5.99.905</a></li>

    <li><a href="#xterm_212">Patch #212 - 2006/4/9 - XFree86
    4.5.99.904</a></li>

    <li><a href="#xterm_211">Patch #211 - 2006/3/19 - XFree86
    4.5.99.902</a></li>

    <li><a href="#xterm_210">Patch #210 - 2006/3/12 - XFree86
    4.5.99.902</a></li>

    <li><a href="#xterm_209">Patch #209 - 2006/2/12 - XFree86
    4.5.99.22</a></li>

    <li><a href="#xterm_208">Patch #208 - 2006/1/3 - XFree86
    4.5.99.19</a></li>

    <li><a href="#xterm_207">Patch #207 - 2005/11/13 - XFree86
    4.5.99.16</a></li>

    <li><a href="#xterm_206">Patch #206 - 2005/11/3 - XFree86
    4.5.99.15</a></li>

    <li><a href="#xterm_205">Patch #205 - 2005/9/18 - XFree86
    4.5.99.12</a></li>

    <li><a href="#xterm_204">Patch #204 - 2005/8/4 - XFree86
    4.5.99.9</a></li>

    <li><a href="#xterm_203">Patch #203 - 2005/7/6 - XFree86
    4.5.99.7</a></li>

    <li><a href="#xterm_202">Patch #202 - 2005/5/2 - XFree86
    4.5.99.3</a></li>

    <li><a href="#xterm_201">Patch #201 - 2005/4/21 - XFree86
    4.5.99.2</a></li>

    <li><a href="#xterm_200">Patch #200 - 2005/2/6 - XFree86
    4.4.99.23</a></li>

    <li><a href="#xterm_199">Patch #199 - 2005/1/17 - XFree86
    4.4.99.22</a></li>

    <li><a href="#xterm_198">Patch #198 - 2005/1/13 - XFree86
    4.4.99.21</a></li>

    <li><a href="#xterm_197">Patch #197 - 2004/11/30 - XFree86
    4.4.99.19</a></li>

    <li><a href="#xterm_196">Patch #196 - 2004/8/15 - XFree86
    4.4.99.12</a></li>

    <li><a href="#xterm_195">Patch #195 - 2004/8/8 - XFree86
    4.4.99.11</a></li>

    <li><a href="#xterm_194">Patch #194 - 2004/7/27 - XFree86
    4.4.99.11</a></li>

    <li><a href="#xterm_193">Patch #193 - 2004/7/19 - XFree86
    4.4.99.10</a></li>

    <li><a href="#xterm_192">Patch #192 - 2004/7/12 - XFree86
    4.4.99.9</a></li>

    <li><a href="#xterm_191">Patch #191 - 2004/6/6 - XFree86
    4.4.99.7</a></li>

    <li><a href="#xterm_190">Patch #190 - 2004/5/25 - XFree86
    4.4.99.6</a></li>

    <li><a href="#xterm_189">Patch #189 - 2004/5/16 - XFree86
    4.4.99.6</a></li>

    <li><a href="#xterm_188">Patch #188 - 2004/5/12 - XFree86
    4.4.99.6</a></li>

    <li><a href="#xterm_187">Patch #187 - 2004/4/27 - XFree86
    4.4.99.4</a></li>

    <li><a href="#xterm_186">Patch #186 - 2004/4/18 - XFree86
    4.4.99.4</a></li>

    <li><a href="#xterm_185">Patch #185 - 2004/3/3 - XFree86
    4.4</a></li>

    <li><a href="#xterm_184">Patch #184 - 2003/12/31 - XFree86
    4.3.99.903</a></li>

    <li><a href="#xterm_183">Patch #183 - 2003/12/26 - XFree86
    4.3.99.903</a></li>

    <li><a href="#xterm_182">Patch #182 - 2003/12/2 - XFree86
    4.3.99.901</a></li>

    <li><a href="#xterm_181">Patch #181 - 2003/10/26 - XFree86
    4.3.99.15</a></li>

    <li><a href="#xterm_180">Patch #180 - 2003/10/12 - XFree86
    4.3.99.15</a></li>

    <li><a href="#xterm_179">Patch #179 - 2003/5/21 - XFree86
    4.3.99.5</a></li>

    <li><a href="#xterm_178">Patch #178 - 2003/5/18 - XFree86
    4.3.99.5</a></li>

    <li><a href="#xterm_177">Patch #177 - 2003/3/23 - XFree86
    4.3.0</a></li>

    <li><a href="#xterm_176">Patch #176 - 2003/3/22 - XFree86
    4.3.0</a></li>

    <li><a href="#xterm_175">Patch #175 - 2003/3/9 - XFree86
    4.3.0</a></li>

    <li><a href="#xterm_174">Patch #174 - 2003/2/25 - XFree86
    4.2.99.903</a></li>

    <li><a href="#xterm_173">Patch #173 - 2003/2/6 - XFree86
    4.2.99.902</a></li>

    <li><a href="#xterm_172">Patch #172 - 2002/12/27 - XFree86
    4.2.99.3</a></li>

    <li><a href="#xterm_171">Patch #171 - 2002/12/12 - XFree86
    4.2.99.3</a></li>

    <li><a href="#xterm_170">Patch #170 - 2002/10/13 - XFree86
    4.2.1</a></li>

    <li><a href="#xterm_169">Patch #169 - 2002/10/5 - XFree86
    4.2.1</a></li>

    <li><a href="#xterm_168">Patch #168 - 2002/9/29 - XFree86
    4.2.1</a></li>

    <li><a href="#xterm_167">Patch #167 - 2002/8/24 - XFree86
    4.2.0</a></li>

    <li><a href="#xterm_166">Patch #166 - 2002/3/25 - XFree86
    4.2.0</a></li>

    <li><a href="#xterm_165">Patch #165 - 2002/1/5 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_164">Patch #164 - 2001/11/13 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_163">Patch #163 - 2001/11/04 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_162">Patch #162 - 2001/10/23 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_161">Patch #161 - 2001/10/10 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_160">Patch #160 - 2001/10/7 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_159">Patch #159 - 2001/9/19 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_158">Patch #158 - 2001/9/8 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_157">Patch #157 - 2001/6/18 - XFree86
    4.1.0</a></li>

    <li><a href="#xterm_156">Patch #156 - 2001/4/28 - XFree86
    4.0.3</a></li>

    <li><a href="#xterm_155">Patch #155 - 2001/4/20 - XFree86
    4.0.3</a></li>

    <li><a href="#xterm_154">Patch #154 - 2001/4/11 - XFree86
    4.0.3</a></li>

    <li><a href="#xterm_153">Patch #153 - 2001/3/29 - XFree86
    4.0.3</a></li>

    <li><a href="#xterm_152">Patch #152 - 2001/3/13 - XFree86
    4.0.2</a></li>

    <li><a href="#xterm_151">Patch #151 - 2001/3/10 - XFree86
    4.0.2</a></li>

    <li><a href="#xterm_150">Patch #150 - 2000/12/29 - XFree86
    4.0.2</a></li>

    <li><a href="#xterm_149">Patch #149 - 2000/12/6 - XFree86
    4.0.1h</a></li>

    <li><a href="#xterm_148">Patch #148 - 2000/10/31 - XFree86
    4.0.1d</a></li>

    <li><a href="#xterm_147">Patch #147 - 2000/10/26 - XFree86
    4.0.1c</a></li>

    <li><a href="#xterm_146">Patch #146 - 2000/9/12 - XFree86
    4.0.1c</a></li>

    <li><a href="#xterm_145">Patch #145 - 2000/9/11 - XFree86
    4.0.1c</a></li>

    <li><a href="#xterm_144">Patch #144 - 2000/8/23 - XFree86
    4.0.1b</a></li>

    <li><a href="#xterm_143">Patch #143 - 2000/8/19 - XFree86
    4.0.1b</a></li>

    <li><a href="#xterm_142">Patch #142 - 2000/8/18 - XFree86
    4.0.1b</a></li>

    <li><a href="#xterm_141">Patch #141 - 2000/8/14 - XFree86
    4.0.1b</a></li>

    <li><a href="#xterm_140">Patch #140 - 2000/7/23 - XFree86
    4.0.1</a></li>

    <li><a href="#xterm_139">Patch #139 - 2000/6/17 - XFree86
    4.0d</a></li>

    <li><a href="#xterm_138">Patch #138 - 2000/6/15 - XFree86
    4.0c</a></li>

    <li><a href="#xterm_137">Patch #137 - 2000/6/10 - XFree86
    4.0b</a></li>

    <li><a href="#xterm_136">Patch #136 - 2000/6/3 - XFree86
    4.0b</a></li>

    <li><a href="#xterm_135">Patch #135 - 2000/5/29 - XFree86
    4.0b</a></li>

    <li><a href="#xterm_134">Patch #134 - 2000/5/28 - XFree86
    4.0b</a></li>

    <li><a href="#xterm_133">Patch #133 - 2000/5/2 - XFree86
    4.0a</a></li>

    <li><a href="#xterm_132">Patch #132 - 2000/4/11 - XFree86
    4.0a</a></li>

    <li><a href="#xterm_131">Patch #131 - 2000/3/3 - XFree86
    3.9.18b</a></li>

    <li><a href="#xterm_130">Patch #130 - 2000/3/1 - XFree86
    3.9.18a</a></li>

    <li><a href="#xterm_129">Patch #129 - 2000/2/26 - XFree86
    3.9.18a</a></li>

    <li><a href="#xterm_128">Patch #128 - 2000/2/17 - XFree86
    3.9.18</a></li>

    <li><a href="#xterm_127">Patch #127 - 2000/2/12 - XFree86
    3.9.17e</a></li>

    <li><a href="#xterm_126">Patch #126 - 2000/2/8 - XFree86
    3.9.17c</a></li>

    <li><a href="#xterm_125">Patch #125 - 2000/1/31 - XFree86
    3.9.17c</a></li>

    <li><a href="#xterm_124">Patch #124 - 2000/1/27 - XFree86
    3.9.17b</a></li>

    <li><a href="#xterm_123">Patch #123 - 2000/1/22 - XFree86
    3.9.17a</a></li>

    <li><a href="#xterm_122">Patch #122 - 1999/12/28 - XFree86
    3.9.16f</a></li>

    <li><a href="#xterm_121">Patch #121 - 1999/11/14 - XFree86
    3.9.16c</a></li>

    <li><a href="#xterm_120">Patch #120 - 1999/10/28 - XFree86
    3.9.16c</a></li>

    <li><a href="#xterm_119">Patch #119 - 1999/10/16 - XFree86
    3.9.16c</a></li>

    <li><a href="#xterm_118">Patch #118 - 1999/10/5 - XFree86
    3.9.16b</a></li>

    <li><a href="#xterm_117">Patch #117 - 1999/9/29 - XFree86
    3.9.16b</a></li>

    <li><a href="#xterm_116">Patch #116 - 1999/9/25 - XFree86
    3.9.16a</a></li>

    <li><a href="#xterm_115">Patch #115 - 1999/9/18 - XFree86
    3.9.16a</a></li>

    <li><a href="#xterm_114">Patch #114 - 1999/9/15 - XFree86
    3.9.16</a></li>

    <li><a href="#xterm_113">Patch #113 - 1999/8/15 - XFree86
    3.9.15b</a></li>

    <li><a href="#xterm_112">Patch #112 - 1999/7/17 - XFree86
    3.9Pw</a></li>

    <li><a href="#xterm_111">Patch #111 - 1999/7/10 - XFree86
    3.9Pw</a></li>

    <li><a href="#xterm_110">Patch #110 - 1999/6/29 - XFree86
    3.9Pu</a></li>

    <li><a href="#xterm_109">Patch #109 - 1999/6/23 - XFree86
    3.9Pt</a></li>

    <li><a href="#xterm_108">Patch #108 - 1999/6/19 - XFree86
    3.9Ps</a></li>

    <li><a href="#xterm_107">Patch #107 - 1999/6/12 - XFree86
    3.9Pq</a></li>

    <li><a href="#xterm_106">Patch #106 - 1999/6/9 - XFree86
    3.9Pq</a></li>

    <li><a href="#xterm_105">Patch #105 - 1999/6/5 - XFree86
    3.9Pp</a></li>

    <li><a href="#xterm_104">Patch #104 - 1999/5/30 - XFree86
    3.9Pn</a></li>

    <li><a href="#xterm_103">Patch #103 - 1999/5/14 - XFree86
    3.9Pm</a></li>

    <li><a href="#xterm_102">Patch #102 - 1999/5/12 - XFree86
    3.9Pm</a></li>

    <li><a href="#xterm_101">Patch #101 - 1999/5/10 - XFree86
    3.9Pm</a></li>

    <li><a href="#xterm_100">Patch #100 - 1999/5/3 - XFree86
    3.9Pl</a></li>

    <li><a href="#xterm_99">Patch #99 - 1999/5/2 - XFree86
    3.9Pk</a></li>

    <li><a href="#xterm_98">Patch #98 - 1999/4/26 - XFree86
    3.9Pk</a></li>

    <li><a href="#xterm_97">Patch #97 - 1999/4/25 - XFree86
    3.9Pk</a></li>

    <li><a href="#xterm_96">Patch #96 - 1999/4/19 - XFree86
    3.9Pj</a></li>

    <li><a href="#xterm_95">Patch #95 - 1999/4/5 - XFree86
    3.9Ph</a></li>

    <li><a href="#xterm_94">Patch #94 - 1999/3/27 - XFree86
    3.9Pf</a></li>

    <li><a href="#xterm_93">Patch #93 - 1999/3/14 - XFree86
    3.9Pd</a></li>

    <li><a href="#xterm_92">Patch #92 - 1999/2/5 - XFree86
    3.9Nz</a></li>

    <li><a href="#xterm_91">Patch #91 - 1999/1/21 - XFree86
    3.9Nw</a></li>

    <li><a href="#xterm_90">Patch #90 - 1998/12/13 - XFree86
    3.9Nq</a></li>

    <li><a href="#xterm_89">Patch #89 - 1998/11/20 - XFree86
    3.9Nm</a></li>

    <li><a href="#xterm_88">Patch #88 - 1998/10/31 - XFree86 3.9Nk
    and 3.3.2h</a></li>

    <li><a href="#xterm_87">Patch #87 - 1998/10/21 - XFree86 3.9Nj
    and 3.3.2f</a></li>

    <li><a href="#xterm_86">Patch #86 - 1998/10/14 - XFree86 3.9Nj
    and 3.3.2e</a></li>

    <li><a href="#xterm_85">Patch #85 - 1998/10/12 - XFree86 3.9Nj
    and 3.3.2e</a></li>

    <li><a href="#xterm_84">Patch #84 - 1998/10/9 - XFree86 3.9Ni
    and 3.3.2e</a></li>

    <li><a href="#sync_83">Resync #83 - 1998/10/7 - XFree86
    3.3.2e</a></li>

    <li><a href="#xterm_83">Patch #83 - 1998/8/25 - XFree86
    3.9Nb</a></li>

    <li><a href="#xterm_82">Patch #82 - 1998/7/15 - XFree86
    3.9Aj</a></li>

    <li><a href="#xterm_81">Patch #81 - 1998/7/14 - XFree86
    3.9Aj</a></li>

    <li><a href="#xterm_80">Patch #80 - 1998/6/29 - XFree86
    3.9Ai</a></li>

    <li><a href="#xterm_79">Patch #79 - 1998/6/28 - XFree86
    3.9Ai</a></li>

    <li><a href="#xterm_78">Patch #78 - 1998/6/3 - XFree86 3.9Ah
    and 3.3.2</a></li>

    <li><a href="#xterm_77">Patch #77 - 1998/5/26 - XFree86 3.9Ah
    and 3.3.2</a></li>

    <li><a href="#xterm_76">Patch #76 - 1998/5/8 - XFree86 3.9Ah
    and 3.3.2</a></li>

    <li><a href="#xterm_75">Patch #75 - 1998/5/7 - XFree86 3.9Ah
    and 3.3.2</a></li>

    <li><a href="#xterm_74">Patch #74 - 1998/4/27 - XFree86 3.9Ag
    and 3.3.2</a></li>

    <li><a href="#xterm_73">Patch #73 - 1998/4/25 - XFree86 3.9Ag
    and 3.3.2</a></li>

    <li><a href="#xterm_72">Patch #72 - 1998/4/17 - XFree86 3.9Ag
    and 3.3.2</a></li>

    <li><a href="#xterm_71">Patch #71 - 1998/4/12 - XFree86 3.9Ag
    and 3.3.2</a></li>

    <li><a href="#xterm_70">Patch #70 - 1998/3/29 - XFree86 3.9Af
    and 3.3.2</a></li>

    <li><a href="#xterm_69">Patch #69 - 1998/3/16 - XFree86 3.9Ad
    and 3.3.2</a></li>

    <li><a href="#xterm_68">Patch #68 - 1998/3/4 - XFree86 3.9Ad
    and 3.3.1z</a></li>

    <li><a href="#xterm_67">Patch #67 - 1998/2/23 - XFree86 3.9Ad
    and 3.3.1e</a></li>

    <li><a href="#xterm_66">Patch #66 - 1998/2/16 - XFree86 3.9Ad
    and 3.3.1d</a></li>

    <li><a href="#xterm_65">Patch #65 - 1998/2/14 - XFree86 3.9Ad
    and 3.3.1c</a></li>

    <li><a href="#xterm_64">Patch #64 - 1998/2/8 - XFree86
    3.9Ad</a></li>

    <li><a href="#xterm_63">Patch #63 - 1998/2/5 - XFree86
    3.9Ad</a></li>

    <li><a href="#xterm_62">Patch #62 - 1998/1/23 - XFree86
    3.9Ac</a></li>

    <li><a href="#xterm_61">Patch #61 - 1998/1/17 - XFree86
    3.9Ac</a></li>

    <li><a href="#xterm_60">Patch #60 - 1998/1/10 - XFree86
    3.9Ab</a></li>

    <li><a href="#xterm_59">Patch #59 - 1998/1/5 - XFree86
    3.9Ab</a></li>

    <li><a href="#xterm_58">Patch #58 - 1998/1/3 - XFree86
    3.9Ab</a></li>

    <li><a href="#xterm_57">Patch #57 - 1997/12/26 - XFree86
    3.9Aa</a></li>

    <li><a href="#xterm_56">Patch #56 - 1997/11/28 - XFree86
    3.9x</a></li>

    <li><a href="#xterm_55">Patch #55 - 1997/11/25 - XFree86
    3.9x</a></li>

    <li><a href="#xterm_54">Patch #54 - 1997/10/17 - XFree86
    3.9s</a></li>

    <li><a href="#xterm_53">Patch #53 - 1997/10/12 - XFree86
    3.9r</a></li>

    <li><a href="#xterm_52">Patch #52 - 1997/9/29 - XFree86
    3.9q</a></li>

    <li><a href="#xterm_51">Patch #51 - 1997/9/15 - XFree86
    3.9p</a></li>

    <li><a href="#xterm_50">Patch #50 - 1997/8/22 - XFree86
    3.9m</a></li>

    <li><a href="#xterm_49">Patch #49 - 1997/8/10 - XFree86
    3.9k</a></li>

    <li><a href="#xterm_48">Patch #48 - 1997/7/26 - XFree86
    3.9j</a></li>

    <li><a href="#xterm_47">Patch #47 - 1997/7/13 - XFree86
    3.9i</a></li>

    <li><a href="#xterm_46">Patch #46 - 1997/7/4 - XFree86
    3.9h</a></li>

    <li><a href="#xterm_45">Patch #45 - 1997/7/2 - XFree86
    3.9h</a></li>

    <li><a href="#xterm_44">Patch #44 - 1997/6/22 - XFree86
    3.9g</a></li>

    <li><a href="#xterm_43">Patch #43 - 1997/6/10 - XFree86
    3.9d</a></li>

    <li><a href="#xterm_42">Patch #42 - 1997/6/8 - XFree86
    3.2Xl</a></li>

    <li><a href="#xterm_41">Patch #41 - 1997/5/28 - XFree86
    3.2Xl</a></li>

    <li><a href="#xterm_40">Patch #40 - 1997/5/26 - XFree86
    3.2Xl</a></li>

    <li><a href="#xterm_39">Patch #39 - 1997/5/24 - XFree86
    3.2Xl</a></li>

    <li><a href="#xterm_38">Patch #38 - 1997/5/22 - XFree86
    3.2Xh</a></li>

    <li><a href="#xterm_37">Patch #37 - 1997/5/7 - XFree86
    3.9a</a></li>

    <li><a href="#xterm_36">Patch #36 - 1997/1/16 - XFree86
    3.2r</a></li>

    <li><a href="#xterm_35">Patch #35 - 1997/1/7 - XFree86
    3.2o</a></li>

    <li><a href="#xterm_34">Patch #34 - 1997/1/5 - XFree86
    3.2o</a></li>

    <li><a href="#xterm_33">Patch #33 - 1996/11/24 - XFree86
    3.2</a></li>

    <li><a href="#xterm_32">Patch #32 - 1996/11/21 - XFree86
    3.2</a></li>

    <li><a href="#xterm_31">Patch #31 - 1996/11/16 - XFree86
    3.2</a></li>

    <li><a href="#xterm_30">Patch #30 - 1996/11/16 - XFree86
    3.2</a></li>

    <li><a href="#xterm_29">Patch #29 - 1996/9/15 - XFree86
    3.1.2Gb</a></li>

    <li><a href="#xterm_28">Patch #28 - 1996/8/31 - XFree86
    3.1.2F</a></li>

    <li><a href="#xterm_27">Patch #27 - 1996/8/21 - XFree86
    3.1.2Ek</a></li>

    <li><a href="#xterm_26">Patch #26 - 1996/8/20 - XFree86
    3.1.2Ei</a></li>

    <li><a href="#xterm_25">Patch #25 - 1996/8/18 - XFree86
    3.1.2Ei</a></li>

    <li><a href="#xterm_24">Patch #24 - 1996/8/11 - XFree86
    3.1.2Ee</a></li>

    <li><a href="#xterm_23">Patch #23 - 1996/7/31 - XFree86
    3.1.2Ec</a></li>

    <li><a href="#xterm_22">Patch #22 - 1996/7/26 - XFree86
    3.1.2Ec</a></li>

    <li><a href="#xterm_21">Patch #21 - 1996/7/24 - XFree86
    3.1.2Ec</a></li>

    <li><a href="#xterm_20">Patch #20 - 1996/7/24 - XFree86
    3.1.2Ec</a></li>

    <li><a href="#xterm_19">Patch #19 - 1996/7/21 - XFree86
    3.1.2Ec</a></li>

    <li><a href="#xterm_18">Patch #18 - 1996/7/18 - XFree86
    3.1.2Ec</a></li>

    <li><a href="#xterm_17">Patch #17 - 1996/7/2 - XFree86
    3.1.2Eb</a></li>

    <li><a href="#xterm_16">Patch #16 - 1996/6/25 - XFree86
    3.1.2Ea</a></li>

    <li><a href="#xterm_15">Patch #15 - 1996/5/29 - XFree86
    3.1.2E</a></li>

    <li><a href="#xterm_14">Patch #14 - 1996/5/12 - XFree86
    3.1.2Dj</a></li>

    <li><a href="#xterm_13">Patch #13 - 1996/4/23 - XFree86
    3.1.2Df</a></li>

    <li><a href="#xterm_12">Patch #12 - 1996/3/16 - XFree86
    3.1.2Dc</a></li>

    <li><a href="#xterm_11">Patch #11 - 1996/3/5 - XFree86
    3.1.2Db</a></li>

    <li><a href="#xterm_10">Patch #10 - 1996/2/14 - XFree86
    3.1.2Cd</a></li>

    <li><a href="#xterm_09">Patch #9 - 1996/2/10 - XFree86
    3.1.2Cb</a></li>

    <li><a href="#xterm_08">Patch #8 - 1996/2/9 - XFree86
    3.1.2Cb</a></li>

    <li><a href="#xterm_07">Patch #7 - 1996/1/28 - XFree86
    3.1.2n</a></li>

    <li><a href="#xterm_06">Patch #6 - 1996/1/8</a></li>

    <li><a href="#xterm_05">Patch #5 - 1996/1/7</a></li>

    <li><a href="#xterm_04">Patch #4 - 1996/1/7</a></li>

    <li><a href="#xterm_03">Patch #3 - 1996/1/7</a></li>

    <li><a href="#xterm_02">Patch #2 - 1996/1/7</a></li>

    <li><a href="#xterm_01">Patch #1 - 1996/1/6</a></li>
  </ul>

  <h1><a name="xterm_293" id="xterm_293">Patch #293 -
  2013/05/27</a></h1>

  <ul>
    <li>modify sample xterm.spec to use newer icon</li>

    <li>add configure option <code>--with-icon-symlink</code> to
    work around systems which map icon requests for to a single
    "xterm" icon, but neglect to install the icon needed for window
    decorations (report by H Merijn Brand).</li>

    <li>improve parameterizing of sample xterm.spec</li>

    <li>amend fix for printer from <a href="#xterm_280">patch
    #280</a>, removing a reset of the signal handler for
    <code>SIGCHLD</code> (report by Joe Julian).</li>

    <li>set environment variable <code>XTERM_FILTER</code> if a
    locale-filter is used.</li>

    <li>enable <code>DEBUG</code> logic when
    <code>--enable-trace</code> configure option is given.</li>

    <li>improve description of <code>initialFont</code>,
    <code>set-vt-font</code> and <code>set-tex-text</code> in
    manpage (Debian #707899).</li>

    <li>fix regression from <a href="#xterm_292">patch #292</a>;
    selecting a word that ended at the right margin without
    wrapping would not select the last cell (report by Christian
    Weisgerber).</li>
  </ul>

  <h1><a name="xterm_292" id="xterm_292">Patch #292 -
  2013/04/25</a></h1>

  <ul>
    <li>add limit-check when double-click selects a word; if the
    saved-lines were scrolled back and the word selected wrapped at
    the screen's lower right corner, an assertion was triggered
    (patch by Taketo Kabe).</li>

    <li>correct limit-check in <code>unsaveEditBufLines</code>,
    fixing a case where enlarging the terminal size could show a
    blank line where there actually is available text (patch by
    Bertram Felgenhauer).</li>

    <li>add <code>PasteControls</code> feature to
    <code>allowWindowOps</code> which by default disallows pasting
    control characters other than formatting such as carriage
    return (discussion with Hayaki Saito).</li>

    <li>fix typo in ctlseqs.ms for DECRQM response (patch by
    Emanuele Giaquinta).</li>

    <li>update default shown in configure <code>--help</code>
    message for <code>--with-terminal-id</code> option (patch by
    Andres Perera).</li>

    <li>rename script/preprocessor variables used for substituting
    the <code>backarrowKey</code> default value for consistency
    (patch by Andres Perera).</li>

    <li>set umask to 077 before creating debugging-trace
    files.</li>

    <li>add configure option <code>--disable-openpty</code> to
    control whether openpty() may be used in preference to
    posix_openpt().</li>

    <li>improve workaround from <a href="#xterm_279">patch #279</a>
    for BSD systems which do not complete initialization until both
    sides of the pseudoterminal are opened, by preferring openpty()
    function over posix_openpt() when available (report by
    Christian Weisgerber).</li>
  </ul>

  <h1><a name="xterm_291" id="xterm_291">Patch #291 -
  2013/02/26</a></h1>

  <ul>
    <li>add validity check for xterm widget parameter to
    <code>AlternateScroll</code> function, needed to handle wheel
    mouse events in the scrollbar area since <a href=
    "#xterm_282">patch #282</a> changes which introduced
    <code>alternateScroll</code> feature (Redhat #874327).</li>
  </ul>

  <h1><a name="xterm_290" id="xterm_290">Patch #290 -
  2013/02/12</a></h1>

  <ul>
    <li>revert of <a href="#xterm_282">patch #282</a> change was
    incomplete (report by Jim Reisert).</li>

    <li>fix typo in manpage (report by Vincent Lefevre).</li>
  </ul>

  <h1><a name="xterm_289" id="xterm_289">Patch #289 -
  2013/02/08</a></h1>

  <ul>
    <li>revert the <a href="#xterm_282">patch #282</a> change which
    restored "lost" text after shrinking/growing the screen size.
    If the screen was updated between the two resizing operations,
    unexpected text might be shown at the end (report/testcase by
    Joe Peterson).</li>

    <li>reverse the arrow-keys sent for
    <code>alternateScroll</code> to match the usage in browsers
    (suggested by Dieter Roelants).</li>

    <li>modify mouse reports to consistently indicate motion events
    whether or not a button is pressed. Old behavior (since
    <a href="#xterm_127">patch #127</a> modified encoding for wheel
    mouse) showed only that the button was released if no button
    had been pressed (report by Andy Koppe).</li>

    <li>correct and improve behavior for SGR 1006 mouse protocol on
    button release in any-event mode. Initial implementation in
    <a href="#xterm_277">patch #277</a> left internal state showing
    the last button pressed when reporting motion events. It now
    keeps track of all buttons which have been pressed and
    released, showing the lowest remaining button by number in the
    response (reports by Hayaki Saito, Andy Koppe).</li>

    <li>fix inconsistency between <code>TermColors</code> and
    <code>OscTextColors</code> enums which interchanged values for
    tektronix cursor color and highlight foreground in control
    sequences in <a href="#xterm_225">patch #225</a> (report/patch
    by Peder Stray).</li>

    <li>fix inconsistent use of noreturn-attribute in
    <code>Exit</code> function which interfered with analysis by
    clang.</li>

    <li>remove incorrect <code>free</code> used in computation of
    <code>XTERM_SHELL</code> variable, from Coverity fixes in
    <a href="#xterm_288">patch #288</a> (FreeBSD #175782).</li>

    <li>add <code>--with-valgrind</code> option to configure script
    for consistency with my other programs.</li>

    <li>update table of ambiguous width characters in wcwidth.c
    based on Unicode 6.2.0</li>

    <li>update table of combining characters in wcwidth.c based on
    Unicode 6.2.0</li>

    <li>update precompose.c based on Unicode 6.2.0</li>
  </ul>

  <h1><a name="xterm_288" id="xterm_288">Patch #288 -
  2013/01/09</a></h1>

  <ul>
    <li>fix a special case in <code>ShowCursor</code> where the
    foreground and background colors of the current position are
    the same. In that case, choose the further of the window's
    foreground and background colors for the cursor color.</li>

    <li>modify <code>alternateScroll</code> feature added in
    <a href="#xterm_282">patch #282</a> to use either
    <code>CSI</code> or <code>SS3</code> according to the cursor
    keys application mode setting, to simplify using it in vi, etc.
    (suggested by Dietar Roelants).</li>

    <li>revise manpage for <code>resize</code> to clarify the
    changes which <code>resize</code> may make to the terminal
    settings as well as to the terminal itself.</li>

    <li>remove code such as <code>struct ttysize</code>, used for
    SunOS 3 and 4.</li>

    <li>modify configure script and makefile to check for
    <code>groff</code> and suppress groff-specific rules if groff
    is not found.</li>

    <li>modify ctlseqs.ms and makefile to work around bugs in
    <code>grohtml</code> which cause ".png" files to be truncated
    when producing html documentation.</li>

    <li>modify suffix rules for "make docs" to make the names of
    the generated ".png" files predictable, helping to work around
    longstanding problems with this feature of groff&mdash;none of
    its releases work for <em>all</em> of xterm's tables..</li>

    <li>correct typo in ctlseqs.ms for DECIC and DECDC; the
    character preceding the final "<code>~</code>" is an ASCII
    single-quote "<code>'</code>" rather than a space (report by
    Paul LeoNerd Evans).</li>

    <li>update CF_GCC_VERSION macro, handling both Debian and
    Darwin.</li>

    <li>improve configure script checks for the
    <code>--with-desktop-category</code> option. After <a href=
    "#xterm_280">patch #280</a> changes, if no value was given for
    this option, and no existing desktop files found for
    comparison, the incorrect "auto" value was passed into the
    generated desktop file (report by Julien Cristau).</li>

    <li>modify sample build-scripts to disable check for
    <code>imake</code> due to code-rot in Xorg.</li>

    <li>add <code>-v</code> command-line option to
    <code>resize</code>, reporting the same version string as
    <code>xterm</code> and the two shell-wrappers.</li>

    <li>make name-transformation apply to other occurrences of
    <code>resize</code>, other manpages.</li>

    <li>special-case the name-transformation in xterm's manpage in
    the NAME section so that the result works with
    <code>makewhatis</code> (report by Julien Cristau).</li>

    <li>modify install-rules for manpages to put each program's
    respective transformed name into the header rather than
    xterm's.</li>

    <li>remove deprecated files: proto.h, os2main.c</li>

    <li>minor fixes based on Coverity scan, including:

      <ul>
        <li>correct caching of Atom value for the font menu's
        "Selection" entry.</li>

        <li>ensure that utmp/utmpx calls do not depend upon
        trailing nulls in the <code>ut_id</code> and
        <code>ut_line</code> values.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_287" id="xterm_287">Patch #287 -
  2012/11/25</a></h1>

  <ul>
    <li>fix a case where in_put() loop could continue when it has
    found an X event rather than the pty, causing the pty-read to
    be delayed (patch by Balazs Kezes).</li>

    <li>add option to <code>pointerMode</code> resource and
    corresponding control sequences to allow text-cursor to remain
    hidden if the pointer leaves/enters the window via accelerator
    keys. Ordinary motion within the window restores the pointer
    (prompted by patch by Balazs Kezes).</li>

    <li>remove special case of modifiers for the
    <code>Mode_switch</code> and <code>XK_ISO_Level3_Shift</code>
    from <a href="#xterm_223">patch #223</a>. Verified that the
    conflict which this was intended to resolve does not happen for
    normal compose- or modeswitch-handling (prompted by patch by
    Balazs Kezes, Debian #638694).</li>

    <li>modify the handling of focus-change events to ignore those
    whose detail is <code>NotifyPointer</code>, since those are
    sent in addition to focus-change events directed to the old/new
    windows having focus (prompted by patch by Balazs Kezes to
    prevent the urgency-hint from being reset in this
    scenario).</li>

    <li>modify description of <code>iconName</code> in manpage to
    make it clearer that this resource does not specify the
    filename of an icon (discussion with Ian Collier).</li>

    <li>modify <code>iconHint</code> resource to allow suppressing
    the built-in icon by setting this to "none" (discussion with
    Ian Collier).</li>

    <li>make <code>-iconic</code> option work with the toolbar
    configuration.</li>

    <li>correct initialization of window manager hints used to set
    the icon-pixmap. That detail from <a href="#xterm_282">patch
    #282</a> overwrote state used to control the
    <code>-iconic</code> command-line option (report by Ian
    Collier).</li>

    <li>fix paste64 feature for the case where the selection comes
    from the current terminal. The selection callback can happen
    after the reply is partly built, making it necessary to flush
    the reply-buffer to keep things in the proper order (report by
    Ailin Nemui).</li>

    <li>reject command-line options which are longer than the
    options in xterm's table, to avoid mismatches (Redhat
    #875305).</li>

    <li>correct attribution for <a href="#xterm_282">patch #282</a>
    changes.</li>
  </ul>

  <h1><a name="xterm_286" id="xterm_286">Patch #286 -
  2012/10/29</a></h1>

  <ul>
    <li>fix <code>minstall.in</code> to work with "make docs" rule,
    so that patch number appears in the corresponding generated
    documentation.</li>

    <li>modify <code>minstall.in</code> to keep the name shown in
    the heading consistent with any renaming, e.g., for
    test-builds.</li>

    <li>check for misconfigured <code>printerCommand</code>
    resource on the first use, warn and disable it if it does not
    specify an executable command (Debian #691642).</li>

    <li>improve check for window-manager name needed to establish
    usable default for activeIcon resource. This works around a
    scenario where <code>gdm</code> does incomplete cleanup,
    leaving window properties that refer to windows which no longer
    exist (Redhat #869959).</li>
  </ul>

  <h1><a name="xterm_285" id="xterm_285">Patch #285 -
  2012/10/23</a></h1>

  <ul>
    <li>add/adapt FreeBSD ports files for test-building.</li>

    <li>modify <code>minstall.sh</code> to use the patch-number and
    date in the manpage footer.</li>

    <li>add check for failure to allocate the fg/bg colors at
    startup, e.g., misconfiguration. Work around by setting both to
    the default colors (suggested by Scott Bertilson).</li>

    <li>amend change for <a href="#xterm_280">patch #280</a> which
    added <code>modifyKeyboard</code>, to make
    <code>modifyOtherKeys</code> work (report by Ailin Nemui).</li>

    <li>add <code>query-colors.pl</code> example for
    OSC&nbsp;4.</li>

    <li>correct mis-applied fix for minstall.sh (report by Miroslav
    Lichvar).</li>
  </ul>

  <h1><a name="xterm_284" id="xterm_284">Patch #284 -
  2012/10/14</a></h1>

  <ul>
    <li>amend configurability changes for icons from <a href=
    "#xterm_283">patch #283</a>, moving the new functionality to
    the <code>iconHint</code> resource to avoid conflict with
    existing uses of the <code>iconName</code> resource in the
    <code>Shell</code> widget (report by Emanuel Haupt).</li>

    <li>fix documentation errata (reports by Miroslav Lichvar):

      <ul>
        <li>correct manpage default for <code>allowTcapOps</code>
        (see <a href="#xterm_243">patch #243</a></li>

        <li>modify documentation for configure
        <code>--enable-backarrow-key</code> to match the script
        (see <a href="#xterm_280">patch #280</a>).</li>

        <li>fix typo in <code>minstall.sh</code> in <a href=
        "#xterm_283">patch #283</a>, which made the leading-cap
        "Xterm" become "xterm" (patch by Miroslav).</li>
      </ul>
    </li>

    <li>fix two typos in configure.in from <a href=
    "#xterm_283">patch #283</a> changes; one broke the
    <code>--regex</code> configure option (report by H Merijn
    Brand).</li>
  </ul>

  <h1><a name="xterm_283" id="xterm_283">Patch #283 -
  2012/10/09</a></h1>

  <ul>
    <li>modify makefile and script to generate appropriate renaming
    s/xterm/xterm-dev/ for test-package's manpage.</li>

    <li>improve makefile rules for installing/uninstalling pixmap
    files, to include the newer mini- and filled- variants.</li>

    <li>clarify change in manpage regarding <a href=
    "#xterm_282">patch #282</a> change to always set a
    window-decoration icon, even if <code>iconName</code> is not
    set.</li>

    <li>add a fourth flavor of window-decoration icons,
    "filled-xterm" for a monochrome xterm with filled
    interior.</li>

    <li>use shape-mask to improve contrast of the window-decoration
    icons.</li>

    <li>minor changes to icon colors to improve contrast on
    bright-mud backgrounds.</li>

    <li>drop configure checks for memmove versus bcopy, and
    strerror function; all currently tested platforms support
    these.</li>

    <li>cleanup configure macros, as done in byacc 20121003.</li>

    <li>improve configurability of the built-in icon selectable via
    the <code>iconName</code> resource.</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_282" id="xterm_282">Patch #282 -
  2012/09/28</a></h1>

  <ul>
    <li>improve configure check for
    <code>XkbKeycodeToKeysym</code>, fixing a regression on some
    older systems in the <a href="#xterm_280">patch #280</a>
    changes.</li>

    <li>add clarification in manpage for
    <code>alwaysBoldMode</code> and <code>veryBoldColors</code>
    resources (prompted by Derek Martin question about using the
    former with TrueType fonts).</li>

    <li>add <code>alternateScroll</code> resource and corresponding
    control sequences which modify the <code>scroll-forw</code> and
    <code>scroll-back</code> actions: when the alternate screen is
    displayed, wheel mouse up/down will send cursor keys (Debian
    #683942).</li>

    <li>improve rendering for the case when a Unicode character is
    absent in the bold font but present in the normal font by
    temporarily falling back to the normal font (Debian #359006,
    Debian #408666).</li>

    <li>provide configure option
    <code>--enable-double-buffer</code> and ifdef's to allow
    comparisons with/without double-buffering. The default uses
    normal buffering.</li>

    <li>add feature to optionally scroll current page before
    clearing, controlled by resource setting
    <code>cdXtraScroll</code> (prompted by patch by Balazs
    Kezes):</li>

    <li>integrated patches from Arch Linux forum posting (patches
    by Balazs Kezes):

      <ul>
        <li>modify reallocation limit of line-data when resizing
        screen so that "lost" text will be restored if the screen
        is first shrunk and then grown.</li>

        <li>modify output to use double-buffering to reduce
        flicker.</li>
      </ul>
    </li>

    <li>modify <code>scroll-lock</code> action to handle
    on/off/toggle keywords like other actions. Previously the
    optional parameter was interpreted as an integer.</li>

    <li>extend <code>DECSCUSR</code> to provide a way to set the
    cursor to a vertical bar (patch by Paul Bolle).</li>

    <li>add <code>-8</code>, <code>-c</code>, <code>-d</code> and
    <code>-u</code> options to <code>88colors2.pl</code> and
    <code>256colors2.pl</code> scripts. No current terminal
    emulator recognizes C1 controls while handling UTF-8
    encoding&mdash;see notes in <a href="#xterm_119">patch #119</a>
    and <a href="#xterm_109">patch #109</a> regarding
    <code>utf8controls</code>&mdash;but the <code>-u</code> and
    <code>-8</code> options are useful for demonstrating this
    point.</li>

    <li>improve speed when changing color palettes using OSC
    controls by deferring repaint while followup controls might be
    additional color palette changes.</li>

    <li>modify <code>SGR&nbsp;38</code> and
    <code>SGR&nbsp;48</code> to accept RGB index, matching the
    closest entry in xterm's palette.</li>

    <li>extend <code>SGR&nbsp;38</code> and
    <code>SGR&nbsp;48</code> to accept colon as parameter separator
    (request by Paul LeoNerd Evans).</li>

    <li>modify <code>fullscreen</code> action to allow it to toggle
    the full-screen mode rather than only set or unset it (prompted
    by Eeri Kask's suggestion to support
    <code>_NET_WM_TOGGLE</code>). This implementation does not yet
    use <code>_NET_WM_TOGGLE</code>.</li>

    <li>add support for <code>_NET_WM_STATE_MAXIMIZED_VERT</code>
    and <code>_NET_WM_STATE_MAXIMIZED_HORZ</code> EWMH properties
    (suggested by Eeri Kask).</li>

    <li>make fullscreen mode work with the tek4014 window. This
    change makes only the currently active window to be changed to
    fullscreen rather than changing both windows.</li>

    <li>modify <code>TekClear</code> function to discard pending
    output before clearing the tek4014 display (patch by Kevin
    Ryde).</li>

    <li>fix <code>deleteIsDEL</code> feature, broken in <a href=
    "#xterm_280">patch #280</a> changes (report by Mike Thornburg,
    forwarded by Jeremy Huddleston).</li>

    <li>fix a special case of wrapping double-width characters
    (report/test-case by Ken Winstein).</li>

    <li>add <code>E3</code> extended capability to
    <code>xterm-basic</code> to match ncurses <a href=
    "http://invisible-island.net/ncurses/NEWS.html#t20120728">20120728</a>
    patch.</li>

    <li>fix incorrect transformation of row-parameter for
    <code>ClearCurBackground</code> in <a href="#xterm_279">patch
    #279</a> which caused incorrect painting in some scrolling
    scenarios (report by Chuck Silvers).</li>

    <li>fix typo in manpage description of <code>+maximized</code>
    option (Paul Maier).</li>

    <li>change default for configure option
    <code>--with-xpm</code>, turning it on unless requested
    otherwise.</li>

    <li>add configure option <code>--with-icon-name</code> which
    can be used to override the default icon used in
    icon-themes.</li>

    <li>extend <code>activeIcon</code> resource to provide
    <code>default</code> value which tells xterm to determine the
    window manager's name and automatically enable the feature for
    fvwm and window maker. The explicit true/false values can be
    used to override this behavior.</li>

    <li>add "mini" xterm icon, which scales better than the
    standard xterm icon, e.g., for the gnome/kde "panel"
    feature.</li>

    <li>extend <code>iconName</code> resource to search for icon
    named according to resource value and use that if found. If not
    found, use compiled-in pixmap. Both set the WM_ICON_NAME
    property which is used by various window managers, usually for
    window decoration.</li>

    <li>updated autoconf patch, adding support for --datarootdir,
    which changes the default location of manpages.</li>

    <li>further improved autoconf macros for configuring icons,
    from vile 9.8h</li>
  </ul>

  <h1><a name="xterm_281" id="xterm_281">Patch #281 -
  2012/06/26</a></h1>

  <ul>
    <li>remove "$(srcdir)/" from install-icon rule to fix builds
    when --srcdir configuration option is used.</li>

    <li>fix for configure script's search for icon file when it is
    not found in the current directory, e.g., when building out of
    tree (patch by Thierry Reding).</li>

    <li>undo the XK_Home / XK_End change from <a href=
    "#xterm_280">patch #280</a> which broke the non-VT220 keyboard
    for those keys (report by H Merijn Brand).</li>
  </ul>

  <h1><a name="xterm_280" id="xterm_280">Patch #280 -
  2012/06/24</a></h1>

  <ul>
    <li>add configure check to work around warning from
    desktop-file-install for "Encoding", noting that it emits
    deprecation warnings without providing its version
    information.</li>

    <li>add configure option <code>--with-icon-theme</code> to tell
    xterm whether to install into an icon theme, defaulting to
    "hicolor" (Redhat #755206, Redhat #799614 and Redhat
    #804279).</li>

    <li>change <code>--with-icondir</code> to look for "icons"
    directory rather than "pixmaps" by default. Add new option
    <code>--with-pixmapdir</code> to allow these two uses to be
    installed concurrently.</li>

    <li>modify configure options <code>--with-app-defaults</code>
    and <code>--with-icondir</code> to accept "auto" as value to
    look for existing directory from well-known locations.</li>

    <li>add missing codes for secondary DA response which tell the
    type of terminal as in the primary DA response.</li>

    <li>update primary DA response for VT420 to include user
    windows and horizontal scrolling.</li>

    <li>add <code>modifyKeyboard</code> resource to support
    keypad-modifier changes per request by Thomas Wolff.</li>

    <li>add XK_Home / XK_End to editing-keypad checks</li>

    <li>add back-tab key <code>kB</code> to termcap entries to
    match the terminfo.</li>

    <li>update terminfo to match corresponding entries in ncurses,
    e.g., add <code>XT</code> and adjust <code>sgr</code> string
    for xterm-bold entry.</li>

    <li>add configure options to predefine the most commonly
    customized resources for terminal-settings, use those to
    substitute into the manpage the corresponding compiled-in
    values: <code>altSendsEscape</code>, <code>backarrowKey</code>,
    <code>backarrowKeyIsErase</code>, <code>deleteIsDEL</code>,
    <code>metaSendsEscape</code> (Redhat #819588).</li>

    <li>change default emulation level to VT420 (discussion with
    Ailin Nemui).</li>

    <li>improve logic for DECSCL; <a href="#xterm_279">patch
    279</a> partly enforced limitation of this to higher-level
    emulations. This patch finishes that change.</li>

    <li>improve check for base of combining characters, preventing
    combination when cursor movement has intervened. Mosh's webpage
    gives two different examples of this, with other causes
    ascribed to the behavior.</li>

    <li>modify IL/DL to set cursor to first column on row for
    better VT102/VT220 compatibility (prompted by code review of
    mosh).</li>

    <li>separate state-table entries for DECSC/DECRC from the
    ANSI.SYS save/restore cursor, since the latter conflicts with
    DECSLRM when DECLRMM is enabled since <a href=
    "#xterm_279">patch #279</a> (report/analysis by Ailin
    Nemui).</li>

    <li>fixes to avoid using <code>SIGCHLD</code> handler of main
    program in printer's subprocess (report by Joe Julian).</li>

    <li>correct restore-parameter for mouse-modes from <a href=
    "#xterm_279">patch #279</a> changes.</li>

    <li>add null-pointer checks to input-method caching added in
    <a href="#xterm_277">patch #277</a> to fix a problem in the
    exposure code, when deselecting a window (report by Kriston
    Rehberg).</li>

    <li>unset <code>DESKTOP_STARTUP_ID</code> environment variable
    to lessen confusion on the part of GTK applications which use
    the variable without checking it (report by John Little).</li>
  </ul>

  <h1><a name="xterm_279" id="xterm_279">Patch #279 -
  2012/05/10</a></h1>

  <ul>
    <li>fill in missing cases in the save/restore modes feature
    (report by Thomas Wolff).</li>

    <li>add check to ensure that combining characters are
    precomposed in the order given (report/analysis by Andries E
    Brouwer).</li>

    <li>improve workability check for posix_openpt(), to take into
    account BSD systems which do not complete initialization until
    both sides of the pseudoterminal are opened (report by
    Christian Weisgerber).</li>

    <li>amend fix for Debian #650291 in <a href="#xterm_277">patch
    #277</a> changes to account for different data returned by
    vnc4server (Debian #670638).</li>

    <li>add check in DECCRA operation to make copies of blinking
    text also blink by updating a line-level flag.</li>

    <li>modify rectangle operations to work with DECOM.</li>

    <li>modify DECSERA to use the current protected state rather
    than preserving it.</li>

    <li>add <code>precompose</code> resource to allow storing
    character data in Normalized Form D as described in <a href=
    "http://unicode.org/reports/tr15/">http://unicode.org/reports/tr15/</a>
    (report/discussion with Andries E Brouwer).</li>

    <li>modify CBT, other ISO-6429 controls which are used by VT520
    to work with DECOM.</li>

    <li>add HPR and VPR controls, ISO 6429 cursor movement used in
    VT520.</li>

    <li>remove "linux" restriction for IUTF8 ifdef in main.c
    (prompted by Matthew Dempsky posting on
    mailing.openbsd.tech).</li>

    <li>implement the remaining VT420-level device status
    reports.</li>

    <li>change DECXCPR to return page 1, rather than 0.</li>

    <li>improve VT-level checks on reporting functions, such as
    DECXCPR.</li>

    <li>change limit on <code>decTerminalID</code> to 525.</li>

    <li>fixes to improve vttest vt52 screen when running as a
    VT420:

      <ul>
        <li>add checks for some VT2xx and up controls for
        consistency: DECSCL, S1C8T, S1C7T.</li>

        <li>modify DECRQSS return for DECSCL to only return that
        when running as VT2xx and up.</li>

        <li>when exiting from VT52-mode, resume in VT100 level
        rather than the level before starting VT52-mode.</li>
      </ul>
    </li>

    <li>implement DECLRMM, DECSLRMM and DECNCSM (prompted by
    discussions with Ailin Nemui and Paul LeoNerd Evans). This
    modifies several controls to obey top/bottom and left/right
    margins.</li>

    <li>correct macro definition used for testing modes used in
    ANSI/DEC request-mode controls introduced in <a href=
    "#xterm_262">patch #262</a>.</li>

    <li>modify <code>x_getlogin</code> to check $LOGNAME and $USER
    before fallback to <code>getlogin</code>, so that user's choice
    for these variables can be carried forward to the xterm process
    (Debian #611487).</li>

    <li>document DECSCUSR response for DECRQSS in ctlseqs.ms</li>

    <li>add <code>zIconTitleFormat</code> resource to allow
    customizing the "***&nbsp;" prefixed to the icon title when the
    <code>zIconBeep</code> feature is activated (request by Thomas
    Adam).</li>

    <li>modify DECSCUSR to update the same internal variable as
    RM/SM 12, and document in manpage the two variables used for
    controlling blinking cursor (report by Paul LeoNerd
    Evans).</li>

    <li>correct response data for DECSCUSR in reply for DECRQSS
    response, which had inverted the blink-value (reports by Ailin
    Nemui, Paul LeoNerd Evans).</li>

    <li>add a null-pointer check in <code>OkPasswd</code> macro to
    fix a problem in <code>resize</code> with Fedora 17 and a
    serial console (report/patch by Daniel Drake).</li>

    <li>add workaround for Mac OS X, which loses the window size of
    a pseudo-terminal when the tty device is opened
    (report/analysis by Egmont Koblinger).</li>

    <li>updated configure check for workable
    <code>posix_openpt</code> versus <code>grantpt</code>, from
    <code>luit</code> fixes.</li>

    <li>modify DECIC/DECDC/DECBI/DECFI implemented in <a href=
    "#xterm_277">patch #277</a> to enable them only in VT4xx mode
    and up (report by Ailin Nemui).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_278" id="xterm_278">Patch #278 -
  2012/01/18</a></h1>

  <ul>
    <li>correct initialization for <code>eightBitMeta</code>
    resource (FreeBSD #164101).</li>

    <li>make special check for Darwin 9 (and lower) to <em>not</em>
    use <code>posix_openpt</code> (report by Christian Ebert).</li>

    <li>minor fixes (adding ".ne" directives) to reduce the cases
    where groff's utility for generating images for tables dumps
    core. Most versions of groff (I've found 1.19.2 to be the most
    stable) dump core when attempting to report that there are too
    few lines on a page for a table to be shown.</li>
  </ul>

  <h1><a name="xterm_277" id="xterm_277">Patch #277 -
  2012/01/07</a></h1>

  <ul>
    <li>remove special case for ISC pseudo-terminals which attempts
    to open the pty in two different ways.</li>

    <li>move call to <code>grantpt</code> before asking utempter to
    add a record, to work with kFreeBSD which does not update the
    terminal's ownership until this point (Debian #652907).</li>

    <li>document limitation of XIM interface in manpage (Debian
    #230787).</li>

    <li>cleanup error reporting with new xtermWarning
    function.</li>

    <li>add configure option <code>--disable-selection-ops</code>
    to make the new actions optional.</li>

    <li>add four new actions for making the selection or data
    directly copied from the screen (prompted by discussion in
    Debian #637001, as well as report by Arjen van Tol):

      <ul>
        <li>exec-formatted</li>

        <li>exec-selectable</li>

        <li>insert-formatted</li>

        <li>insert-selectable</li>
      </ul>
    </li>

    <li>add <code>visualBellLine</code> resource to allow
    <code>visualBell</code> to flash only the current line
    (prompted by patch by Gertjan Halkes).</li>

    <li>add <code>eightBitMeta</code> resource to control the
    features which modify or interpret the eighth bit of a key when
    the meta modifier key is pressed (prompted by Debian
    #326200).</li>

    <li>improve discussion of <code>eightBitInput</code> in the
    manpage (prompted by Debian #326200).</li>

    <li>correct logic for <code>alt-sends-escape</code> action,
    overlooked when implementing <code>altSendsEscape</code>
    resource, which still used <code>eightBitInput</code> resource
    value.</li>

    <li>add a workaround for <code>XAllocColor()</code>, which does
    not actually allocate "a read-only colormap entry corresponding
    to the closest RGB value supported by the hardware", but rather
    a rough approximation (Debian #650291).</li>

    <li>undo parameter checks for <code>RequestResize()</code>
    added in <a href="#xterm_251">patch #251</a> and amended in
    <a href="#xterm_270">patch #270</a>, because zeros also are
    special cases (report by John S Urban).</li>

    <li>modify some test-scripts to use <code>/bin/echo</code>
    rather than the shell's possibly-builtin <code>echo</code>, to
    work around broken configuration on Mac OS X, i.e., neither
    honoring the option nor flagging an error.</li>

    <li>add SGR 1006, as a better technical solution than SGR 1015:

      <ul>
        <li>the responses will not be confused with line-deletion
        and scrolling controls.</li>

        <li>the button encoding is a little simpler, since it does
        not add an unnecessary 32 because the integer parameter
        does not have to be represented as a printable
        character.</li>

        <li>the control responses for pressing and releasing a
        mouse button differ, allowing an application to tell which
        button was released.</li>
      </ul>

      <p>Besides these improvements, in discussion, it was noted
      that urxvt's implementation of 1005 is incorrect, relying
      upon a locale that provides UTF-8 encoding. In contrast,
      vttest demonstrates a correct decoding, independent of
      locale.</p>
    </li>

    <li>add support for urxvt SGR 1015 to address shortcoming of
    SGR 1005 with luit (patch by Egmont Koblinger).</li>

    <li>add ISO and DEC controls useful for left/right
    scrolling.</li>

    <li>add some changes for OpenBSD and MirBSD (adapted from patch
    by Thorsten Glaser):

      <ul>
        <li>disable search for non-Unix96 ptys.</li>

        <li>fix a gcc warning in
        <code>timestamp_filename</code></li>

        <li>modify <code>Imakefile</code> to install xterm setgid
        to utmp.</li>
      </ul>
    </li>

    <li>add/use/prefer <code>posix_openpt()</code> for opening
    pseudo-terminal.</li>

    <li>modify special errno handling case in ptydata.c from
    <a href="#xterm_158">patch #158</a> to allow for the
    possibility that any platform may have special cases where
    "/dev/tty" is absent. For example, this can happen in a FreeBSD
    jail (patch by David Wolfskill).</li>

    <li>add keyboard logic to map shift-tab into XK_ISO_Left_Tab,
    which is usually, not always, done by the X keyboard
    configuration.</li>

    <li>portability fixes for some configure macros:
    <code>CF_XOPEN_SOURCE</code></li>
  </ul>

  <h1><a name="xterm_276" id="xterm_276">Patch #276 -
  2011/10/10</a></h1>

  <ul>
    <li>modify clipping limits for TrueType fonts to account for
    the <code>scaleHeight</code> resource setting, to work around
    another problem due to recent FreeType changes. In this case,
    the <code>DejaVu Sans Mono</code> set to pixelsize=13.5 is
    truncated because the font descent is reduced by FreeType to
    match an incorrect height metric (report by Adam Lee).</li>

    <li>improve recovery when bitmap fonts are not installed, e.g.,
    so that switching font-sizes works for TrueType fonts.</li>

    <li>modify lookup for <code>XTERM_SHELL</code> feature to allow
    relative pathnames.</li>

    <li>modify abbreviation disambiguation check for command-line
    parameters to account for <code>-geometry</code>, whose
    parameter may begin with "+" or "-" (report by Scott
    Bertilson).</li>
  </ul>

  <h1><a name="xterm_275" id="xterm_275">Patch #275 -
  2011/09/11</a></h1>

  <ul>
    <li>add <code>ash</code>, <code>zsh</code> to known shells for
    <code>resize</code>.</li>

    <li>modify <code>resize</code> to reuse the logic from
    <code>xterm</code> which determines the actual logon-user's
    shell if <code>$SHELL</code> is not set.</li>

    <li>revert the <code>unsetenv("SHELL")</code> added in <a href=
    "#xterm_272">patch #272</a>.</li>

    <li>an <code>unsetenv("SHELL")</code> added in <a href=
    "#xterm_272">patch #272</a> to help ensure that
    <code>luit</code> would get the user's shell consistently did
    not work as expected for cases where multiple names are in the
    password-file for a given uid. That was because changes in
    <a href="#xterm_157">patch #157</a> to handle this situation
    did not take into account that repeated calls to
    <code>getpwnam</code> and <code>getpwuid</code> return a
    pointer to the same static buffer. Fixed the older logic to
    work as intended, by ensuring that the passwd-data from each
    call is stored separately (report by Paul Keusemann).</li>

    <li>adjust ifdef's for <code>putenv</code> and
    <code>unsetenv</code> in case only one of those is provided on
    a given platform.</li>

    <li>correct comparison used in <code>ExposeContains</code>
    macro from <a href="#xterm_274">patch #274</a> changes, to
    handle window-dragging (patch by Todd Eigenschink).</li>
  </ul>

  <h1><a name="xterm_274" id="xterm_274">Patch #274 -
  2011/09/05</a></h1>

  <ul>
    <li>portability fixes for cygwin: do not define
    <code>SVR4</code>, and work around nonstandard header
    location.</li>

    <li>ifdef'd use of <code>unsetenv</code> from <a href=
    "#xterm_273">patch #273</a> changes to work with Solaris 9
    (report by Waldemar Rachwal).</li>

    <li>modify logic for <code>XtAppPending</code> to merge
    adjacent <code>Expose</code> and <code>ConfigureNotify</code>
    events which are redundant (report by Edward McGuire).</li>

    <li>fix an unneeded warning message when <code>-r</code> option
    is given.</li>

    <li>remove a few redundant entries from table used for helping
    abbreviation-checking of command-line options, makes
    <code>-geom</code> work again after <a href="#xterm_272">patch
    #272</a> changes as an abbreviation of
    <code>-geometry</code>.</li>

    <li>add <code>scaleHeight</code> resource and command-line
    option <code>-sh</code> as workaround for some
    font-configurations broken by changes in FreeType 2.4.6 (report
    by Miroslav Hodak).</li>

    <li>portability fixes for some configure macros:
    <code>CF_FUNC_TGETENT</code>, <code>CF_XOPEN_SOURCE</code>,
    <code>CF_X_ATHENA_LIBS</code>.</li>

    <li>add configure option <code>--with-freetype-config</code> to
    improve selection over the plethora of configuration options
    which freetype has so far provided.</li>

    <li>build-fix for configure <code>--enable-load-vt-fonts</code>
    when <code>--enable-widec</code> is not specified.</li>

    <li>build-fixes for suppressing various features, needed after
    changes in patches 270, 271 and 272 (report by Brian
    Lindholm)</li>
  </ul>

  <h1><a name="xterm_273" id="xterm_273">Patch #273 -
  2011/08/25</a></h1>

  <ul>
    <li>build-fix for out-of-tree "make docs" rule.</li>

    <li>correct a typo in <code>x_strdup</code>, from <a href=
    "#xterm_198">patch #198</a> changes.</li>

    <li>correct initialization for <code>-e</code> option, broken
    in <a href="#xterm_272">patch #272</a> changes (report by
    Gabriele Balducci).</li>

    <li>build-fix for out-of-tree builds to address
    <code>minstall</code> script changes in <a href=
    "#xterm_272">patch #272</a> (patch by Thierry Reding).</li>
  </ul>

  <h1><a name="xterm_272" id="xterm_272">Patch #272 -
  2011/08/24</a></h1>

  <ul>
    <li>document limitation of <code>Gtk</code> in connection with
    xterm's <code>-into</code> option, in the manpage (Ubuntu
    #806969).</li>

    <li>improve <code>-into</code> by checking for and using the
    size of the window within which xterm is embedded, overriding
    other clues.</li>

    <li>modify logic for <code>localeFilter</code> resource to
    allow that to include command-line options of luit.</li>

    <li>improve <code>-into</code> by checking for invalid
    window-id, and allowing hexadecimal/decimal/octal values.</li>

    <li>improve <code>keepSelection</code>, adding the case where
    the highlighting is cleared, overlooked in <a href=
    "#xterm_230">patch #230</a> (patch by Marco Peereboom).</li>

    <li>improve command-line parsing to make abbreviate options
    work consistently across xterm-specific versus standard X
    toolkit options, and report cases where an abbreviated option
    happens to be ambiguous. In particular, <code>-d</code> now
    works as an abbreviation for <code>-display</code>.</li>

    <li>fix regression in command-line parsing introduced in
    <a href="#xterm_271">patch #271</a> changes for Debian #629358,
    (Debian #637910).</li>

    <li>split-out new termcap/terminfo building block
    <code>xterm+kbs</code> for configurability.</li>

    <li>modify <code>terminfo</code> file to reflect changes in
    ncurses for <code>xterm-16color</code> and
    <code>xterm-256color</code>.</li>

    <li>modify <code>minstall.sh</code>, etc., to reflect the
    default default class, <code>$TERM</code> and
    <code>decTerminalID</code> values.</li>

    <li>reword <code>resize</code> manpage to reflect the fact that
    <code>$TERMCAP</code> is not set on all systems (patch by Alan
    Coopersmith).</li>

    <li>work around combined Xaw6/Xaw7 package in DragonFlyBSD
    which omits the usual symbolic link to the preferred library
    name.</li>

    <li>further improve build-fix for termcap systems by checking
    for some which are only partial implementations, e.g., termcap
    2.08 in CentOS 5.2</li>
  </ul>

  <h1><a name="xterm_271" id="xterm_271">Patch #271 -
  2011/07/14</a></h1>

  <ul>
    <li>omit permissions adjustments to pty on exit except for
    pre-Unix98 ptys, since modern implementations handle this
    (report by Sean C Farley).</li>

    <li>modify logic for switching fonts between UTF-8 and
    non-UTF-8 encoding to not merge the derivable bold-, wide- and
    widebold values from the VT100 fonts. Also suppress warning
    when not using UTF-8 fonts if wide- and widebold-fonts cannot
    be derived or otherwise loaded (report by Werner
    Scheinast).</li>

    <li>modify menu-creation to suppress entries which will never
    be used in the current configuration, rather than simply
    disabling them.</li>

    <li>add resource <code>printModeImmediate</code> and menu item
    to allow print of screen plus saved lines to a file.</li>

    <li>add menu item to allow runtime enable/disable of the
    <code>printFileOnXError</code> feature.</li>

    <li>append a timestamp to filename used in
    <code>printFileOnXError</code> feature, and restrict its
    permissions (request by Vincent Lefevre).</li>

    <li>add a check when cancelling cursor-blinking, in case the
    cursor is blinked off. Fix so that the cursor is repainted
    without waiting for other events, e.g., keypress (report by
    Ailin Nemui).</li>

    <li>add configure <code>--with-app-class</code> option, to
    simplify building "xterm-dev" packages with filenames that do
    not conflict with conventional "xterm" packages.</li>

    <li>corrected logic flow for DECSCL, which prevented the
    updated operating level from being reported via DECRQSS (report
    by Ailin Nemui).</li>

    <li>corrected default for <code>brokenStringTerm</code>
    resource to match manpage.</li>

    <li>add vttests/dynamic.pl</li>

    <li>add runtime check for locale not supported by X libraries,
    and fallback to XA_STRING in this case (request by Bryan
    Henderson).</li>

    <li>fix a special case in configure script after no FreeType
    libraries are found. The script was proceeding to check for a
    usable configuration.</li>

    <li>add <code>xterm+tmux</code> building block to terminfo
    (adapted from changes proposed by Ailin Nemui and Nicholas
    Marriott).</li>

    <li>improve discussion of <code>faceName</code> resource in
    manpage (adapted from suggestions by Jens Schweikhardt).</li>

    <li>correct mapping of shifted up/down cursor-keys in termcap
    function-keys mode, i.e., resource
    <code>tcapFunctionKeys</code> (patch by Gertjan Halkes).</li>

    <li>update AIX case in <code>CF_XOPEN_SOURCE</code> configure
    macro to add release 7.x.</li>

    <li>modify ifdef's in <code>xterm_io.h</code> for
    <code>__hpux</code> to force that to use the hacked SYSV
    support in that file. This fixes a problem with a non-blocking
    socket call (patch by Paul Lampert).</li>

    <li>improve filtering of desktop category scanning, to exclude
    XFCE.</li>

    <li>modify configure script to work with systems that have both
    ncurses (or other terminfo) as well as a real termcap library,
    e.g., Slackware (report by Andrew Watts).</li>

    <li>modify configure script to work around special case where
    user's environment adds compiler flags to the <code>CC</code>
    variable (prompted by report by Paul Lampert).</li>

    <li>amend change for Debian #110226 so that "-h" or "-v"
    options cause an exit, rather than simply printing to stdout
    while the window is displayed (Debian #629358).</li>

    <li>add response for <code>DECRQSS</code> which gives the
    setting for <code>DECSCUSR</code>.</li>

    <li>modify AllocateTermColor() to handle
    <code>XtDefaultForeground</code> and
    <code>XtDefaultBackground</code>, which are not recognized by
    <code>XParseColor</code>. For example, this fixes the use of
    OSC&nbsp;112 when no explicit cursor color was set (report by
    Ailin Nemui).</li>

    <li>handle special-case of <code>KeyPress</code> translated to
    <code>popup-menu</code> action (Ubuntu #756273).</li>
  </ul>

  <h1><a name="xterm_270" id="xterm_270">Patch #270 -
  2011/04/26</a></h1>

  <ul>
    <li>build-fix, e.g., for using <code>imake</code> on platforms
    which use the termcap library.</li>

    <li>modify <code>utf8</code> resource to accept a name.</li>

    <li>mention default for <code>fontWarnings</code> in manpage
    (report by Werner Scheinast).</li>

    <li>split "UTF-8" menu entry into "UTF-8 Encoding" and "UTF-8
    Fonts" (prompted by discussion with Werner Scheinast).</li>

    <li>gray-out font-menu entries when a font fails to load, e.g.,
    a bitmap font is not installed.</li>

    <li>improve behavior when there is no app-defaults file:

      <ul>
        <li>set the <code>toolBar</code> resource to false</li>

        <li>gray-out the font menu entries where no resource is
        found.</li>
      </ul>
    </li>

    <li>add configure option <code>--with-desktop-category</code>
    to allow customization of the ".desktop" files.</li>

    <li>build-fix for the <code>install-desktop</code>
    makefile-rule, when the source/build directories differ (patch
    by Lo&iuml;c Minier).</li>

    <li>add menu entry and corresponding resource which can be used
    to suppress all bold-fonts (discussion with Jan
    Engelhardt).</li>

    <li>make internal line-size value consistent with allocated
    sizes of character and related arrays to ensure that bulk
    copying of line data, e.g., in scrolling, accounts for the
    padding used for pointer alignment (adapted from patch by
    Rajesh Mandalemula, also reported by Ali Bahar).</li>

    <li>widen ifdef for screen-resizing logic from <a href=
    "#xterm_176">patch #176</a> changes to send
    <code>SIGWINCH</code> to process group to include any system
    supporting <code>ioctl(*,TIOCGPGRP,*)</code> (prompted by
    linux-specific patch in OpenSUSE rpm package).</li>

    <li>add <code>printModeOnXError</code> and
    <code>printFileOnXError</code> resources, which allow the user
    to specify that xterm will write the contents of its screen to
    a file if it is exiting due to an X error (Debian
    #280457).</li>

    <li>restore logic that made reverse-video apply to the
    scrollbar's foreground/background, broken in <a href=
    "#xterm_158">patch #158</a> (report by Bryan Ischo).</li>

    <li>amend some of the window operations parameter-checks added
    in <a href="#xterm_251">patch #251</a> for the push/pop title
    feature, to allow the parameters used for window resizing to be
    -1's, which makes the corresponding values ignored rather than
    using the window's maximum width/height (report by Noah
    Friedman).</li>

    <li>correct order of initialization for
    <code>translations</code> vs <code>fullscreen</code> resources
    to enable a special case which omits the Alt-Enter translation
    when <code>fullscreen</code> is disabled (Debian #612978).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_269" id="xterm_269">Patch #269 -
  2011/02/19</a></h1>

  <ul>
    <li>build-fixes for <code>imake</code> (report by Heiko
    Berges).</li>

    <li>modify autoconf macro CF_PKG_CONFIG to work with
    cross-compile environments (patch by Thierry Reding).</li>

    <li>modify <code>MapToColorMode()</code> to favor bold over
    underline, matching the precedence used before <a href=
    "#xterm_252">patch #252</a> (report/analysis by Nicolas
    George).</li>

    <li>add <code>omitTranslation</code> resource, which can be
    used to suppress the default translations for these features:

      <ul>
        <li>fullscreen</li>

        <li>scroll-lock</li>

        <li>shift-fonts</li>

        <li>wheel-mouse</li>
      </ul>
    </li>

    <li>make the fullscreen feature configurable (Debian #612978)

      <ul>
        <li>add it to the configurable list
        <code>disallowedWindowOps</code>.</li>

        <li>add command-line option <code>-fullscreen</code> to
        allow the feature to be enabled at startup.</li>

        <li>add resource <code>fullscreen</code> to control whether
        the feature is active or may be enabled.</li>
      </ul>
    </li>

    <li>modify <code>probe_netwm_fullscreen_capability</code> for
    64-bit machines. Contrary to <code>XGetWindowProperty</code>
    manpage, that function returns 32-bit data packed as
    <code>long</code>'s.</li>

    <li>eliminate copy of <code>name</code> resource, which was
    otherwise used only to give the terminal-description name for
    the tcap-query feature. Use the actual <code>$TERM</code> value
    instead, as derived from <code>termName</code> resource,
    etc.</li>

    <li>eliminate an old inconsistency with error messages, some
    used the <code>-name</code> option, while others used
    <code>argv[0]</code>. The latter is now used consistently.</li>

    <li>improve configure check for rpath-hack, to improve builds
    on systems where gcc will not search /usr/local/lib, etc.</li>

    <li>build-fix for Xaw3d configuration (report by H Merijn
    Brand).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_268" id="xterm_268">Patch #268 -
  2011/02/10</a></h1>

  <ul>
    <li>fix an inconsistency of the "Enable Reverse Video" checkbox
    in the VT Options menu. This also removes a special case added
    in <a href="#xterm_217">patch #217</a> which limited the effect
    of the <code>reverseVideo</code> resource (Debian
    #603808).</li>

    <li>amend decoding of misformed UTF-8 sequences to avoid
    absorbing valid characters as documented in Unicode 6.0 section
    3.9 (report by Keith Winstein).</li>

    <li>do not set urgency hint when window already has focus
    (patch by Dimitrios Christidis).</li>

    <li>amend extended mouse-coordinate mode from <a href=
    "#xterm_262">patch #262</a> changes to include the <em>Cb</em>
    button-code, which also may be greater than 127 (report by
    Ailin Nemui).</li>

    <li>ensure that underline-cursor is visible when an application
    happens to set the background color (report by Christian
    Weisgerber).</li>

    <li>add feature for <a href=
    "http://www.davidsimmons.com/soft/xtermhacks/xterm-fullscreen.patch">
    full-screen toggling</a> using either Alt-Enter or a menu
    selection (integrated patch by Dave Simmons).</li>

    <li>add missing logic to handle reallocation of FIFO index for
    the "UTF-8" menu entry (report by David Holland, NetBSD
    #44344).</li>

    <li>add makefile rules <code>docs-ctlseqs</code>,
    <code>docs-xterm</code>, etc.</li>

    <li>correct typo in description of DECRPM in control sequences
    document (report by Ailin Nemui).</li>
  </ul>

  <h1><a name="xterm_267" id="xterm_267">Patch #267 -
  2010/11/20</a></h1>

  <ul>
    <li>minor formatting changes to ctlseqs.ms to simplify a script
    which extracts the feature information. See the results in
    <a href=
    "http://invisible-island.net/xterm/xterm.faq.html#compare_versions">
    Comparing versions, by counting controls</a> in the xterm
    FAQ.</li>

    <li>add <code>docs-clean</code> makefile rule.</li>

    <li>add <code>copy-selection</code> action (request by Timo
    Juhani Lindfors, Debian #588785).</li>

    <li>trim leading/trailing blanks from string used for
    "Selection" font-menu data.</li>

    <li>trim leading/trailing blanks from color resource
    values.</li>

    <li>configure script improvements:

      <ul>
        <li>add workaround for removal of X11 dependency from Xt's
        package file (report by Robert Hooker).</li>

        <li>add workaround for removal of fontconfig dependency
        from Xft's package file (report by Jeremy Huddleston).</li>

        <li>add workaround for removal of Xmu dependency from Xaw's
        package file (report by Jeremy Huddleston).</li>

        <li>improve workaround in <code>CF_X_TOOLKIT</code> macro,
        checking for other possible packages where Xt's
        dependencies may be given.</li>

        <li>prefer <code>${name:=value}</code> to
        <code>${name-value}</code>, since recent bash changes break
        legacy support for that feature.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_266" id="xterm_266">Patch #266 -
  2010/10/24</a></h1>

  <ul>
    <li>add rpm and dpkg scripts, for testing.</li>

    <li>more fixes for Debian #600707 (report by Cyril
    Brulebois).</li>
  </ul>

  <h1><a name="xterm_265" id="xterm_265">Patch #265 -
  2010/10/22</a></h1>

  <ul>
    <li>fix a regression in fontname logic from <a href=
    "#xterm_263">patch #263</a> changes (Debian #600707, reported
    by Vincent Lefevre).</li>

    <li>revert modification of any-event/any-button protocol from
    <a href="#xterm_263">patch #263</a> changes. It interferes with
    selection using a shifted mouse button (reports by Neil Bird,
    Bram Moolenaar).</li>
  </ul>

  <h1><a name="xterm_264" id="xterm_264">Patch #264 -
  2010/10/14</a></h1>

  <ul>
    <li>replace a null-pointer check with check for empty string in
    <code>xtermOpenFont</code>, to eliminate a warning message from
    <a href="#xterm_263">patch #263</a> changes.</li>

    <li>build-fix for <a href="#xterm_263">patch #263</a> when
    toolbar is not configured (patch by Chris Clayton) (reports by
    Robby Workman, David Wood).</li>
  </ul>

  <h1><a name="xterm_263" id="xterm_263">Patch #263 -
  2010/10/13</a></h1>

  <ul>
    <li>corrected initialization of "misc" resource values, to
    ensure that xterm has allocated a copy of strings which may not
    have been malloc'd by the X library (Debian #600129).</li>

    <li>modify handling of any-event/any-button mouse protocol; it
    now is active with any combination of key-modifiers.</li>

    <li>add debugging feature <code>showWrapMarks</code>, which
    marks lines which xterm knows are wrapped, showing where a
    double-click will select past the end of a line.</li>

    <li>build-fix to address change in include-guards for
    <code>Xlib.h</code> in ongoing Xorg edits (patch by Jeremy
    Huddleston).</li>

    <li>improve <code>pointerMode</code> by continuing to watch for
    motion events after mouse tracking is disabled if the pointer
    is hidden (Debian #594856).</li>

    <li>further extend initialization for active-icon font to check
    if the font was not loaded succesfully, to retry with
    <code>font1</code>, or as even (if TrueType fonts are used) to
    use a TrueType font. The retries are to help with cases as in
    <a href="#xterm_241">patch #241</a> where the bitmap fonts are
    not available.</li>

    <li>fix special case of active-icon used when TrueType font is
    specified for the xterm window, from <a href="#xterm_261">patch
    #261</a> change. In that case, the default font's size was used
    for layout of the active icon's window (Debian #591265).</li>
  </ul>

  <h1><a name="xterm_262" id="xterm_262">Patch #262 -
  2010/8/30</a></h1>

  <ul>
    <li>fix a case where changing the cursor color via escape
    sequences did not immediately update the screen (report by
    Andreas Wagner).</li>

    <li>implement ANSI and DEC request-mode control sequences. The
    latter includes the xterm-specific private modes such as the
    mouse mode. The feature is ifdef'd with the rectangle
    operations since its decoding overlaps that feature.</li>

    <li>correct typo in ctlseqs.ms for response of OSC 21 (patch by
    Kevin Schoedel).</li>

    <li>improve discussion of mouse tracking in ctlseqs.ms</li>

    <li>increase an array limit used in reporting mouse events
    (report by Ryan Johnson).</li>

    <li>add extended mouse-coordinates mode, allowing up to
    2015x2015 windows, using UTF-8 encoding (patch by Ryan
    Johnson).</li>

    <li>modify manpage hyphens to conform with <a href=
    "http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html">
    Debian</a>.</li>
  </ul>

  <h1><a name="xterm_261" id="xterm_261">Patch #261 -
  2010/6/28</a></h1>

  <ul>
    <li>fix regression in <code>renderFont</code> logic, from
    <a href="#xterm_260">patch #260</a> changes (report by Joseph
    Quinsey).</li>
  </ul>

  <h1><a name="xterm_260" id="xterm_260">Patch #260 -
  2010/6/20</a></h1>

  <ul>
    <li>modify <code>plink.sh</code> to work around problem linking
    to recent PCRE libraries.</li>

    <li>extend <code>renderFont</code> resource to allow deferred
    switch to TrueType fonts without affecting existing resource
    settings (Debian #585620).</li>

    <li>modify configure macro CF_X_TOOLKIT to work around omission
    of ICE library from ".pc" file (report by Miroslav
    Lichvar).</li>

    <li>change configure script default for
    <code>--enable-broken-st</code> i.e., the
    <code>brokenStringTerm</code> feature) to normally enable it.
    If the corresponding resource is enabled, this feature
    eliminates an apparent freeze of xterm when sending mis-encoded
    data to the screen (Debian #584801).</li>

    <li>document in manpage some actions which were overlooked:

      <ul>
        <li>readline-button</li>

        <li>scroll-lock</li>

        <li>set-8-bit-control</li>
      </ul>
    </li>

    <li>undo a change to limit-check in <code>ScrnRefresh</code> in
    <a href="#xterm_257">patch #257</a>, which broke
    <code>fastScroll</code> feature (Debian #584841).</li>

    <li>modify handling of <code>brokenLinuxOSC</code> and
    <code>brokenStringTerm</code> to also sound the bell.</li>

    <li>add control/D and control/Q to controls which will cause
    early exit from control string per
    <code>brokenStringTerm</code> resource.</li>

    <li>improve documentation of <code>brokenStringTerm</code>
    resource in manpage.</li>
  </ul>

  <h1><a name="xterm_259" id="xterm_259">Patch #259 -
  2010/6/5</a></h1>

  <ul>
    <li>modify configure check for <a href=
    "http://invisible-island.net/luit/">luit</a> to include new
    aliases for the program (<code>xterm-filter</code> and
    <code>bluit</code>).</li>

    <li>add workaround in <code>xtermClearLEDs()</code> to account
    for Xkb's override, making vttest's LED demo reset the scroll
    lock.</li>

    <li>filter out client-message events when deciding whether to
    hide cursor, e.g., when using SCIM (patch/report by anonymous
    user).</li>

    <li>improve description of <code>-bd</code> option in manpage
    (report by Guy Daniel Clotilde).</li>

    <li>modify configure checks for PCRE and other libraries to use
    <code>pkg-config</code>, if available.</li>

    <li>amend change from <a href="#xterm_252">patch #252</a>, to
    take <code>veryColorColors</code> resource into account when
    checking <code>colorBDMode</code> resource for TrueType fonts
    (report by anonymous user).</li>

    <li>add <code>vttests/query-fonts.pl</code> script for
    demonstrating the <code>OSC&nbsp;50</code> font query.</li>

    <li>improve manpage discussion of Scroll Lock feature.</li>

    <li>improve configure macros CF_GCC_VERSION and
    CF_GCC_WARNINGS.</li>

    <li>fix warnings for "clang --analyze".</li>

    <li>change default for <code>allowScrollLock</code> resource to
    <code>false</code>, noting that the supposedly unused key has
    been useful for various rebindings (Debian #580946).</li>
  </ul>

  <h1><a name="xterm_258" id="xterm_258">Patch #258 -
  2010/5/1</a></h1>

  <ul>
    <li>add pointer-checks in <code>ScrnRefresh</code> to fix a
    case in rapid scrolling where an empty record is fetched from
    the scrollback FIFO.</li>
  </ul>

  <h1><a name="xterm_257" id="xterm_257">Patch #257 -
  2010/4/22</a></h1>

  <ul>
    <li>correct ctlseqs.ms description of OSC 17 and OSC 19 (patch
    by Emanuele Giaquinta).</li>

    <li>corrected logic for <code>menuLocale</code> resource; the
    <code>setlocale</code> function returns the original locale
    only when querying.</li>

    <li>improve filtering of translations resource, narrowing the
    scope of the <code>alwaysUseMods</code> to address only the
    translations that would cause a key to be sent to the host
    (report by Andrew Gaylard).</li>

    <li>change default value of <code>menuLocale</code> resource to
    "C", to work around longstanding <a href=
    "http://invisible-island.net/xterm/xterm.faq.html#slow_menus">Xorg
    bug</a>.</li>

    <li>modify handling of <code>scrollKey</code> feature to ignore
    XON/XOFF keys.</li>

    <li>implement scroll-lock feature.</li>

    <li>revise memory allocation in UTF8toLatin1() to fix an
    out-of-bounds index (Mandriva #54531).</li>

    <li>compute value for first wide-character rather than assuming
    it is 256, fixes problem with <code>-cjk_width</code>
    introduced in patches <a href="#xterm_242">242</a> and <a href=
    "#xterm_249">249</a> (report by Thomas Wolff).</li>

    <li>improve configure script:

      <ul>
        <li>corrected check for <code>_XOPEN_SOURCE</code> for
        OpenSolaris.</li>

        <li>when possible, add rpath option for libraries in
        unusual places</li>

        <li>add configure option <code>--disable-rpath-hack</code>
        to control whether the rpath option can be added.</li>
      </ul>
    </li>

    <li>modify <code>AllocateTermColor()</code> to separate
    initialization from control sequences, fixing problem from
    <a href="#xterm_254">patch #254</a> changes where enabling
    <code>allowSendEvents</code> resource prevents setting cursor
    color on command-line (Debian #572928).</li>

    <li>amend logic from <a href="#xterm_185">patch #185</a> to not
    reallocate cell-array if processing
    <code>ESC&nbsp;%&nbsp;G</code> to switch from UTF-8 if already
    in ISO-8859-1 character set (report by Michael Koehne).</li>

    <li>fix to avoid calling <code>XmuInternStrings()</code> with
    zero count (report by Johan Bockg&aring;rd).</li>

    <li>fix build when --disable-ansi-color configure option is
    used.</li>

    <li>fix build when neither OPT_TCAP_QUERY or OPT_TCAP_FKEYS is
    defined (patch by Matthieu Herrb)</li>
  </ul>

  <h1><a name="xterm_256" id="xterm_256">Patch #256 -
  2010/3/6</a></h1>

  <ul>
    <li>add TerminalEmulator to desktop category files.</li>

    <li>modify <code>sinstall.sh</code> to ignore the "." appended
    to permissions by selinux.</li>

    <li>change app-defaults organization, installing UXTerm-color
    and KOI8XTerm-color for consistent behavior regarding
    <code>customization:&nbsp;color</code> (prompted by discussion
    in Ubuntu #421261).</li>

    <li>fix typo in <code>minstall.sh</code> from <a href=
    "#xterm_255">patch #255</a> changes, and add case for
    <code>/var/run</code> needed for full path of utmp (report by
    Julien Cristau).</li>

    <li>minor fix to xterm manpage, remove a comment stating that
    margin bell can be changed via the VT Options menu. That was
    replaced in <a href="#xterm_225">patch #225</a></li>

    <li>add a "docs" rule to makefile.</li>

    <li>fix initialization of Atom used for <code>XkbBell</code>
    feature from <a href="#xterm_243">patch 243</a> changes. Unlike
    the other calls to <code>XInternAtom()</code>, in this case the
    flag telling X to create the Atom was unset (patch by Chris
    Adams).</li>
  </ul>

  <h1><a name="xterm_255" id="xterm_255">Patch #255 -
  2010/1/21</a></h1>

  <ul>
    <li>rename <code>install.sh</code> to <code>install-sh</code>
    in case suffix-rules might interfere.</li>

    <li>extend range for <code>convertToUTF8</code> function to
    full 31-bits, to use with printing, etc.</li>

    <li>improve manpage by checking for actual locations of
    utmp/wtmp files (Debian #562640).</li>

    <li>modify configure macro CF_XOPEN_SOURCE to remove -D's
    before adding the same name rather than relying on -U's, to
    reduce redefinition warnings for some platforms that have
    conflicting definitions in headers.</li>

    <li>correct logic used to switch to alternate screen using
    FIFO-lines configuration (Debian #565772).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_254" id="xterm_254">Patch #254 -
  2010/1/6</a></h1>

  <ul>
    <li>add a configure-check to eliminate <code>install-ti</code>
    rule from Makefile when the system has no tic (terminfo
    compiler) program. This lets one use the
    <code>install-full</code> rule more consistently.</li>

    <li>amend change to WriteText() function in <a href=
    "#xterm_252">patch #252</a> to take into account the
    <code>colorAttrMode</code> resource (report by Krzysztof
    Kotlenga).</li>

    <li>document <code>titleModes</code> resource in manpage, added
    in <a href="#xterm_252">patch #252</a>.</li>

    <li>modify tcap-query table entries for shifted up/down cursor
    keys to match ncurses convention.</li>

    <li>improve lookup of termcap-query data, allowing for
    duplicate keycodes versus missing entries.</li>

    <li>add control sequence which can be used to modify the
    terminal data used for the termcap-keyboard.</li>

    <li>improve portability of tcap-query feature, using terminfo
    functions in preference to termcap on systems having
    terminfo.</li>

    <li>improve font-setting/querying control
    (<code>OSC&nbsp;50</code>):

      <ul>
        <li>when TrueType font is selected, the TrueType
        <code>faceName</code> will be set, rather than the bitmap
        font.</li>

        <li>when TrueType font is selected, querying returns the
        name of the TrueType font.</li>

        <li>querying a font recognizes the relative-font convention
        that setting a font could use.</li>
      </ul>
    </li>

    <li>add menu-entry for allowColorOps.</li>

    <li>add new resources for fine-tuning menu entries:
    <code>allowColorOps</code>, <code>disallowedColorOps</code>,
    <code>disallowedFontOps</code> and
    <code>disallowedTcapOps</code>.</li>

    <li>correct logic for disabling the "TrueType Fonts" menu item;
    it was not ensuring that the <code>faceName</code> resource
    value was non-empty.</li>

    <li>implement VT520-style controls <code>DECSMBV</code> and
    <code>DECSWBV</code> for setting the margin- and warning-bell
    volume.</li>

    <li>fix a minor error from <a href="#xterm_243">patch #243</a>
    which made the zIconBeep feature use a minor-error tone rather
    than an informational tone.</li>

    <li>add a null-pointer check for the case where
    <code>renderFont</code> resource is true, but
    <code>faceName</code> resource is unset, used in logic to strip
    "xft:" prefix from <a href="#xterm_251">patch #251</a> changes
    (patch by Michael Riepe).</li>

    <li>add special case to configure CF_XOPEN_SOURCE macro to use
    extensions on Darwin (patch by Dennis Preiser).</li>

    <li>improve configure checks for regular expressions header and
    library</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_253" id="xterm_253">Patch #253 -
  2009/12/10</a></h1>

  <ul>
    <li>add a null-pointer check in <code>getPrinterFlags()</code>
    per changes in <a href="#xterm_252">patch #252</a>.</li>

    <li>add a null-pointer check, needed in UTF-8 mode for Xft
    fonts after changes in <a href="#xterm_252">patch #252</a>
    (patch by Alan Coopersmith).</li>

    <li>correct size when clearing struct for tek4014 (patch by
    Jochen Voss).</li>

    <li>parenthesize expression in <code>MoreRows</code> macro,
    fixing a limit check added in <a href="#xterm_251">patch
    #251</a> (Debian #560039).</li>
  </ul>

  <h1><a name="xterm_252" id="xterm_252">Patch #252 -
  2009/12/7</a></h1>

  <ul>
    <li>modify title-querying logic to support retrieval of titles
    encoded using UTF-8.</li>

    <li>add new "title-modes" control sequence for controlling
    whether window/icon titles can be set or queried using UTF-8,
    optionally encoded in a hexadecimal string.</li>

    <li>use <code>mkdir&nbsp;-p</code> rather than
    <code>mkdirs.sh</code> (prompted by discussion of mawk by
    Aleksey Cheusov).</li>

    <li>add appropriate copyright/license notices to the bulk of
    files lacking same, and modify to use identical terms in others
    which used different wording. The main exceptions are the files
    contributed by Markus Kuhn, who appears to prefer public domain
    distribution, noting that I have modified/improved several of
    these without changing the terms of distribution (request by
    Jari Aalto).</li>

    <li>add control sequences for resetting the "dynamic" colors to
    their default values.</li>

    <li>add control sequences for resetting the "special" colors to
    their default values.</li>

    <li>add control sequences for setting the "special" colors such
    as <code>colorBD</code> (bold).</li>

    <li>add overlooked case for setting highlight foreground color
    with the dynamic-colors control.</li>

    <li>add <code>OSC 104</code>, for resetting ANSI/16/88/256
    colors to default.</li>

    <li>reset ANSI/16/88/256 colors to default in soft/hard reset
    functions.</li>

    <li>strip "xft:" prefix from <code>faceName</code> and
    <code>faceNameDoublesize</code> resource values,</li>

    <li>add <code>DECSCUSR</code> (discussion with Andy
    Koppe).</li>

    <li>add check/warning on failure to load font, to see if the
    name looks like an Xft pattern rather than XLFD. This can
    happen if someone happens to modify their X resource settings
    for programs that read data from xterm's namespace.</li>

    <li>modify handling of <code>print</code> and
    <code>print-everything</code> actions to allow the various
    printer flags to be overridden by supplying parameters.</li>

    <li>add resource <code>printerNewLine</code> (request by Ovidiu
    Gheorghioiu).</li>

    <li>minor cleanup, finish using <code>TScreenOf()</code> and
    <code>TekScreenOf()</code> macros introduced in <a href=
    "#xterm_224">patch #224</a>.</li>

    <li>improve checks in ShowCursor/HideCursor to get the
    background color, particularly when
    <code>highlightReverse</code> resource is used (reports by Jan
    Engelhardt, Christian Weisgerber).</li>

    <li>correct <code>checkVeryBoldAttr</code> to omit comparison
    of foreground color to special color values used for
    <code>color&lt;XX&gt;</code> resources (report by Jan
    Engelhardt).</li>

    <li>make <code>colorBDMode</code> and <code>colorULMode</code>
    resources work with TrueType configuration (report by Jan
    Engelhardt).</li>
  </ul>

  <h1><a name="xterm_251" id="xterm_251">Patch #251 -
  2009/11/11</a></h1>

  <ul>
    <li>add window-ops controls to push/pop icon and/or window
    labels on a stack.</li>

    <li>minor fixes to align termcap file with terminfo.</li>

    <li>add resource <code>disallowedWindowOps</code>, to allow
    fine-tuning of features to suppress with the
    <code>allowWindowOps</code> resource (prompted by discussion
    with Bram Moolenaar).</li>

    <li>add makefile rules for resize-manpage to pdf, etc.</li>

    <li>further improve limit-checks in select/paste (Mandriva
    #54531).</li>
  </ul>

  <h1><a name="xterm_250" id="xterm_250">Patch #250 -
  2009/10/13</a></h1>

  <ul>
    <li>add check and error-message for fonts that have no
    printable values in the ISO-8859-1 range (Debian #542434).</li>

    <li>some compiler-warning cleanup, in particular workaround for
    defective implementation of gcc's attribute warn_unused_result
    (report by Bram Moolenaar).</li>

    <li>improve estimate of single-column width for packed TrueType
    fonts by ignoring extents for codes 127 and 159.</li>

    <li>improve line-drawing for TrueType fonts which happen to
    have defined glyphs which are <em>not</em> line-drawing in
    0..31 by assuming they're not, and just checking the existence
    of the Unicode codepoints. This makes it more likely that the
    user can override a misconfigured font using the "Line-Drawing
    Characters" menu entry.</li>

    <li>limit minimum cell-width for packed font to maximum-advance
    reported by Xft. Some fonts are wider than that, even in the
    Latin-1 range (Debian #550497).</li>

    <li>add list of direct-contributors in "THANKS" file.</li>

    <li>stylistic changes to this file to help scripted extraction
    of list of contributors.</li>

    <li>correct off-by-one in <code>okPosition</code> fix from
    <a href="#xterm_249">patch #249</a> limit-checks which
    prevented double-click selection on the bottom line of the
    screen (reports by Rajeev V. Pillai, Debian #550368).</li>

    <li>add <code>-q</code> option to
    <code>vttest/256colors2.pl</code> and
    <code>vttest/88colors2.pl</code> to demonstrate bulk
    initialization of color palette.</li>

    <li>improve the workaround from patch #188 by enabling
    resources for the 88-color model.</li>

    <li>document in xterm manpage the limited availability of
    resources <code>color16</code> to <code>color255</code> as
    noted in <a href="#xterm_188">patch #188</a> (Ubuntu
    #438850).</li>
  </ul>

  <h1><a name="xterm_249" id="xterm_249">Patch #249 -
  2009/10/1</a></h1>

  <ul>
    <li>change default for <code>allowWindowOps</code> resource to
    false. 
    <!-- on the other hand, gnome-terminal, pterm and rxvt-unicode
                leave most of the related functionality enabled ;-) --></li>

    <li>add limit-checks for result of visual_width() function,
    needed from <a href="#xterm_242">patch #242</a> and exposed by
    #244 changes (Debian #548321).</li>

    <li>improve limit-checks in select/paste.</li>

    <li>fix a remaining bug from <a href="#xterm_230">patch
    #230</a> changes for displaying multi-column characters in a
    proportional font (report by Chris Jones).</li>

    <li>add new resource forcePackedFont and menu entry "Packed
    Font" to control whether to use the font's minimum (default) or
    maximum width when those differ. The workaround which xterm
    uses to accommodate proportional fonts is not necessary with
    certain fonts such as unifont which happen to store a mixture
    of multicolumn glyphs (report by Chris Jones).</li>

    <li>fix an (old) bug which did not restart the timer for
    blinking text if the only blinking text was temporarily
    scrolled out of view, e.g., using the scrollbar.</li>

    <li>fix an (old) flaw in the delete-line operation where the
    text which is scrolled into view while the display is scrolled
    up was not repainted.</li>

    <li>improve delete-line and insert-line operations, retaining
    selection when the selection does not intersect the
    deleted/inserted lines.</li>

    <li>fix an (old) off-by-one error when an application cleared
    above the cursor position while the display was scrolled up,
    that would leave an extra line of text uncleared.</li>

    <li>fix a similar problem where the double-size attribute would
    not be reset when clearing the screen while the display was
    scrolled up.</li>

    <li>fix an indexing error which would occur if an application
    cleared a line while the display was scrolled up and was also
    in UTF-8 mode (Redhat #524503). The error was from <a href=
    "#xterm_228">patch #228</a> but more visible after changes from
    <a href="#xterm_244">patch #244</a>.</li>
  </ul>

  <h1><a name="xterm_248" id="xterm_248">Patch #248 -
  2009/9/11</a></h1>

  <ul>
    <li>fix an overlooked adjustment for selecting double-width
    characters in the narrow-character configuration.</li>

    <li>eliminate uses of <code>XTERM_CELL</code> and
    <code>XTERM_CELLC</code> where an appropriate
    <code>LineData</code> pointer is available.</li>

    <li>correct expression in <code>okScrnRow</code> macro, making
    selections give the length of lines below the visible screen
    (report by Stuart Henderson).</li>

    <li>correct logic used to improve performance of missing-glyph
    check, which did not handle line-drawing characters (Debian
    #545220).</li>
  </ul>

  <h1><a name="xterm_247" id="xterm_247">Patch #247 -
  2009/8/30</a></h1>

  <ul>
    <li>add ifdef's and check for openpty() on DragonFly (patch by
    Alex Hornung).</li>

    <li>correct calculation for size of line's data block, which
    was sometimes off-by-one when configured using
    <code>--enable-16bit-chars</code> (report by H Merijn
    Brand).</li>

    <li>fix indexing error in print-everything feature from
    <a href="#xterm_246">patch #246</a> (patch by Ovidiu
    Gheorghioiu).</li>
  </ul>

  <h1><a name="xterm_246" id="xterm_246">Patch #246 -
  2009/8/16</a></h1>

  <ul>
    <li>remove obsolete logic for saving/restoring wrapping flags,
    which did not work on 64-bit platform. Wrapping flags (stored
    in the line-index) are now copied with line-data (Debian
    #541160).</li>

    <li>modify comments in app-defaults files to avoid problem with
    C preprocessor used by <code>xrdb</code> (Debian #541603).</li>

    <li>restore special case in <code>makeColorPair</code>, needed
    for <code>colorBDMode</code> resource (Debian #541089).</li>

    <li>correct <code>SetLineFlags()</code> macro, broken in
    <a href="#xterm_244">patch #244</a> when recoding to avoid
    gcc-specific bitfields (Debian #541236).</li>

    <li>modify initialization of screen buffers to ensure that
    pointers align to int-boundaries. This fixes a problem
    introduced in <a href="#xterm_244">patch #244</a> where the
    color- and character-arrays (stored after the video-attributes
    in each row) might be misaligned (report by Rajeev V
    Pillai).</li>

    <li>add limit-check in <code>ScrnRefresh</code> for handling
    saved-lines from the circular buffer which are repainted on a
    screen whose width has increased. To improve performance,
    circular buffer entries are not resized (report by Rajeev V
    Pillai).</li>

    <li>correct type for <code>CellColor</code> (a late change in
    <a href="#xterm_244">patch #244</a> to avoid gcc-specifc enums
    made that unsigned rather than unsigned short, for the
    256-color option).</li>

    <li>fix typo in configure option --enable-16bit-chars (report
    by Rajeev V. Pillai).</li>
  </ul>

  <h1><a name="xterm_245" id="xterm_245">Patch #245 -
  2009/8/12</a></h1>

  <ul>
    <li>correct a special case in saving FIFO-lines from <a href=
    "#xterm_244">patch #244</a>. If the screen was shrunk, xterm
    used the wrong amount for copying to FIFO-lines, and then used
    this amount to adjust the current row on the screen. That was
    both a visible defect (Debian #541109) as well as a potential
    addressing error (Debian #541132, Debian #541160, and Debian
    #541236).</li>

    <li>add clarification in xterm manual about the various
    <code>allow<em>XXX</em>Ops</code> resources, which are disabled
    when the <code>allowSendEvents</code> resource is active (patch
    by Julien Cristau, Debian #531597).</li>
  </ul>

  <h1><a name="xterm_244" id="xterm_244">Patch #244 -
  2009/8/9</a></h1>

  <ul>
    <li>refactored storage of saved-lines, providing a configure
    option to manage them as a FIFO (actually a circular buffer),
    improving performance. Added configure option
    <code>--enable-fifo-lines</code> to enable/disable the new
    feature (it is enabled by default).</li>

    <li>added <code>fastScroll</code> resource, to amuse people who
    measure terminal emulator performance by <code>cat</code>'ing
    large files to the screen.</li>

    <li>modify check in <code>readPtyData</code> from return values
    to provide exit on zero-bytes read from pty for FreeBSD, or
    eliminate high-CPU in "xterm-hold" processing (discussion with
    Ulrich Spoerlein, FreeBSD ports/136686). The check was
    originally modified to combine negative/zero values in
    XFree86-3.1.2E, 1996/05/06.</li>

    <li>add configure option <code>--enable-16bit-chars</code> to
    provide wide-characters with 16-bits (rather than the default
    32-bits).</li>

    <li>add <code>retryInputMethod</code> resource to allow
    configuring out the retries xterm uses to connect to
    non-responsive XIM server, to work around defective X
    configurations as noted in <a href=
    "http://mail-index.netbsd.org/tech-x11/2009/06/07/msg000511.html">
    NetBSD mailing list</a>.</li>

    <li>make regular-expression selection work for VT100
    double-sized characters.</li>

    <li>improve layout when drawing missing characters in a
    proportional font, e.g., as boxes, to take into account whether
    they are double-width (report by Guilbert Stabilo on
    comp.unix.shell).</li>

    <li>add capability for keypad-center (kb2/KA2) to termcap entry
    for xterm-new, as well as xterm-8bit, xterm-sun and xterm-vt220
    (FreeBSD conf/136336).</li>

    <li>change default for <code>keepSelection</code> resource to
    true (prompted by discussion with David Muir Sharnoff).</li>

    <li>remove a limit-check in ptydata.c, allowing Unicode values
    past 64k to be displayed using TrueType fonts (Debian
    #458432).</li>

    <li>remove a vt52-specific ifdef to allow mapping F1-F4 to
    PF1-PF4 when vt52 support is not compiled (report by Olaf
    'Rhialto' Seibert).</li>

    <li>save/restore line-wrapping flags when converting from
    ISO-8859-1 encoding to UTF-8 encoding, as well as when resizing
    screen.</li>

    <li>remove extra adjustment of position in fix for Debian
    #418324.</li>

    <li>modify default check for <code>mkWidth</code> resource to
    check for line-drawing characters, which are categorized as
    double-width in Solaris 10 (report by Sebastian Kayser).</li>

    <li>add "print-everything" action (patch by Ovidiu
    Gheorghioiu).</li>

    <li>start refactoring scrollback data using new getLineData()
    function.</li>

    <li>demote recent change to Debian #252873 fix to experimental,
    ifdef'd out as <code>EXP_BOGUS_FG</code> (Debian #522141).</li>

    <li>work around groff mapping of ASCII quotes using macros
    (requested by Reuben Thomas based on Colin Watson advice, fixes
    Debian #378700).</li>

    <li>correct symbol used for default of
    <code>allowWindowOps</code> which was
    <code>DEF_ALLOW_FONT</code> rather than
    <code>DEF_ALLOW_WINDOW</code> (report by Matthieu Herrb).</li>

    <li>amend fix for tek4014 from <a href="#xterm_243">patch
    #243</a> to make it only apply to the Tek Options menu.</li>
  </ul>

  <h1><a name="xterm_243" id="xterm_243">Patch #243 -
  2009/3/28</a></h1>

  <ul>
    <li>revert change to default for <code>allowTcapOps</code>
    (request by Bram Moolenaar).</li>

    <li>reallocate result returned by <code>xtermEnvLocale()</code>
    to avoid reference to freed memory after handling
    <code>menuLocale</code> resource.</li>

    <li>fix an old (X11R5) bug in tek4014 for switching
    fontsizes.</li>

    <li>add resource <code>defaultString</code> to make
    configurable the use of "#" when pastes of UTF-8 text fail due
    to limitations in the current locale settings.</li>

    <li>make the set of selection target Atom's configurable by two
    new resources <code>eightBitSelectTypes</code> and
    <code>utf8SelectTypes</code>, e.g., to use the
    <code>TEXT</code> Atom in preference to
    <code>UTF8_STRING</code> (discussion with Stanislav Sedov
    regarding koi8rxterm and the FreeBSD port).</li>

    <li>modify handling of <code>TARGETS</code> Atom by making it
    return exactly the set of targets as those which xterm is
    currently providing.</li>

    <li>set <code>MANPAGER</code> and <code>PAGER</code> explicitly
    to /bin/cat in <code>minstall.sh</code> to work around
    /etc/man.conf's with those variables already set (report by
    &#1052;&#1072;&#1088;&#1100;&#1103;&#1089;&#1080;&#1085;
    &#1057;&#1077;&#1084;&#1105;&#1085;).</li>

    <li>improve error-checking of tcap-query parser.</li>

    <li>add check for keyboard <code>tcap</code>), which ensures
    that terminal descriptions containing the same string for
    shifted/unshifted keys will be seen by tcap-query as only the
    unshifted key. (This would only happen with an incorrect
    terminal description).</li>

    <li>fix conversion for input event-state to modifier-parameter
    which made tcap-query feature not work with
    <code>tcapFunctionKeys</code> (keyboard type
    <code>tcap</code>).</li>

    <li>add "DEF_ALLOW_<em>XXX</em>" definitions to main.h to allow
    overriding the default compiled-in values for
    "allow<em>xxx</em>" resources.</li>

    <li>remove check on bell-percentage added in <a href=
    "#xterm_242">patch #242</a>, which disallowed zero/negative
    values (Redhat Bugzilla #487829).</li>
  </ul>

  <h1><a name="xterm_242" id="xterm_242">Patch #242 -
  2009/2/15</a></h1>

  <ul>
    <li>fix configure check for <code>XkbBell</code> and provide
    appropriate parameter for it.</li>

    <li>fix a caching problem with double-size fonts versus reverse
    video that could cause core dump.</li>

    <li>repair double-size fonts from workaround used in <a href=
    "#xterm_240">patch #240</a>.</li>

    <li>add new section to the VT Fonts menu which allows enabling
    or disabling the font, termcap (tcap-query), title and window
    operations.</li>

    <li>add <code>fontWarnings</code> resource, to control whether
    to show warnings on failure to load a font.</li>

    <li>improve warnings for unloadable fonts introduced in
    <a href="#xterm_240">patch #240</a> by limiting those to the
    cases where a font would be specified directly by a resource
    setting rather than a derived fontname.</li>

    <li>further amend fix for Debian #252873 from <a href=
    "#xterm_197">patch #197</a> to treat a blank cell which does
    not have both foreground and background colored as a
    non-colored cell. This improves a special case where the cursor
    is on a blank cell which had foreground color scrolled in
    (report by Miroslav Lichvar).

      <p>Also add the same logic when hiding cursor, so the outline
      matches the in-focus cursor.</p>
    </li>

    <li>modify internals to reduce places PAIRED_CHARS() is used,
    making WriteText() and ScrnWriteText() accept IChar array, as
    well as providing a wrapper for drawXtermText().</li>

    <li>change default XIM font from "*" to "fixed" to improve
    startup time in zh_CN.UTF-8 locale (Mike Fabian, SuSE Bugzilla
    #464930).</li>

    <li>typo in #240 log (Slava Semushin)</li>
  </ul>

  <h1><a name="xterm_241" id="xterm_241">Patch #241 -
  2009/1/26</a></h1>

  <ul>
    <li>improve checks for missing bitmap fonts, fallback to
    "fixed" as needed to work around broken font-packages (report
    by Jacek Luczak).</li>

    <li>fix breakage from <a href="#xterm_240">patch #240</a>
    changes for <code>xtermAddInput()</code> (patches by Jeff Chua,
    Julien Cristau).</li>
  </ul>

  <h1><a name="xterm_240" id="xterm_240">Patch #240 -
  2009/1/25</a></h1>

  <ul>
    <li>use <code>plink.sh</code> for linking xterm (suggested by
    Larry Doolittle).</li>

    <li>add resource descriptions for input method to xterm
    manpage.</li>

    <li>update configure script; consistently append to $CFLAGS
    rather than prepend.</li>

    <li>add <code>install-scripts</code> rule to makefile, to allow
    koi8rxterm and uxterm scripts to be altered independently of
    <code>install-bin</code></li>

    <li>add <code>-maximized</code> command-line option and
    corresponding resource (prompted by alt.os.linux newsgroup
    comment).</li>

    <li>modify translations of scrollbar widget using
    <code>xtermAddInput()</code> (see <a href="#xterm_181">patch
    #181</a>) to accept the actions that the vt100 widget accepts,
    such as shift-insert to perform a paste operation (request by
    Martin Zwickel).</li>

    <li>change default for <code>allowTcapsOps</code> resource to
    false, since it causes unexpected behavior for vim users with
    <code>AltGr</code>.</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_239" id="xterm_239">Patch #239 -
  2009/1/8</a></h1>

  <ul>
    <li>correct a cast in input.c, which broke translation of
    numeric keypad codes to pageup, pagedown, etc., on 64-bit
    platform (Debian #511138, report by Larry Doolittle).</li>
  </ul>

  <h1><a name="xterm_238" id="xterm_238">Patch #238 -
  2008/12/30</a></h1>

  <ul>
    <li>update configure macro CF_XOPEN_SOURCE for AIX 6.x and Mint
    platforms.</li>

    <li>reset the screen wrapping-flag at the end of
    <code>ClearRight</code> to fix an occasional case where the
    last character of a scrolled and wrapped line would be cleared
    (patch by Joe Peterson).</li>

    <li>modify to use POSIX coding for comparing resource settings
    such as <code>locale</code>, to work with locales such as
    Turkish (report by M Vefa Bicakci).</li>

    <li>turn on configure <code>paste64</code> feature by default
    (request by Jean-Philippe Bernardy). It is runtime
    enabled/disabled with <code>allowWindowOps</code>.</li>

    <li>turn on configure <code>tcap-query</code> feature by
    default, add resource <code>allowTcapOps</code> to make this
    runtime enabled/disabled.</li>

    <li>make <code>OSC 3</code> (change X property, from <a href=
    "#xterm_110">patch #110</a>) subject to
    <code>allowWindowOps</code> resource.</li>

    <li>make VT220 <code>DSR</code> responses inactive in
    VT100-mode.</li>

    <li>make <code>DECUDK</code> feature inactive in
    VT100-mode.</li>

    <li>respond to incorrectly formatted <code>DECRQSS</code> with
    a cancel.</li>

    <li>add <code>allowFontOps</code> resource to allow the
    fontsize-switching and font query/set control sequences to be
    enabled/disabled (prompted by Debian #510030).</li>

    <li>some code cleanup based on gcc 4.x
    <code>-Wconversion</code> warnings in button.c and
    charproc.c</li>

    <li>modify <code>tcap-query</code> feature to not return data
    for shifted cursor-keys when the keyboard type is set to vt220,
    since returning the same string for shifted/unshifted keys may
    confuse some applications (GenToo #212546).</li>
  </ul>

  <h1><a name="xterm_237" id="xterm_237">Patch #237 -
  2008/09/14</a></h1>

  <ul>
    <li>improve usability of TrueType fonts by making the font-size
    switching for shifted keypad plus/minus use the
    <code>faceSize</code> resources to determine the order of fonts
    (when TrueType fonts are used) rather than the bitmap fonts,
    since their sizes may not be in the same order (report by H
    Merijn Brand)</li>

    <li>remove an optimization of <code>ConfigureNotify</code>
    events from <a href="#xterm_236">patch #236</a> which seems to
    interfere with passing <code>SIGWINCH</code> to applications
    (GenToo #233836).</li>

    <li>modify handling of <code>altSendsEscape</code> to reset the
    <code>eightBitInput</code> mode, like
    <code>metaSendsEscape</code> (patch by Ted Phelps).</li>

    <li>add feature to show the text-cursor as an underline rather
    than a box, plus command-line options <code>-uc</code> and
    <code>+uc</code> and resource <code>cursorUnderLine</code> to
    control the feature (patch by Paul Lampert).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_236" id="xterm_236">Patch #236 -
  2008/07/27</a></h1>

  <ul>
    <li>correct memory reallocation when handling a paste of UTF-8
    text from <a href="#xterm_225">patch #225</a> changes
    (report/patch by Max Mikhanosha).</li>

    <li>correct allocation of temporary buffer in
    <code>xtermFindShell</code> in case the user's
    <code>$PATH</code> contains no ":" (report/analysis by Victor
    Stinner, Freedesktop.Org Bugzilla #16790).</li>

    <li>modify CF_XOPEN_SOURCE to add case for DragonFly BSD, to
    fix new compile problem exposed by fix for fd_mask (patch by
    Hasso Tepper).</li>

    <li>add configure-check for ncurses
    <code>use_extended_names</code>, (report by Martin
    Mokrejs).</li>

    <li>correct computation for toolbar height; layout manager
    already takes into account <code>borderWidth</code>
    resource.</li>

    <li>implement VT320-style SCS (select character set) for ISO
    Latin-1 supplemental.</li>

    <li>fixes for vt100-style character sets in UTF-8 mode (Ubuntu
    #230919).</li>

    <li>fix to make <code>luit</code> work with xterm's
    <code>-ls</code> option (report/patch by Marius Tolzmann).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_235" id="xterm_235">Patch #235 -
  2008/04/20</a></h1>

  <ul>
    <li>add control sequences for some of the recent resource/menu
    settings:

      <ul>
        <li><code>altSendsEscape</code> (private mode 1039)</li>

        <li><code>keepSelection</code> (private mode 1040)</li>

        <li><code>selectToClipboard</code> (private mode 1041)</li>

        <li><code>bellIsUrgent</code> (private mode 1042)</li>

        <li><code>popOnBell</code> (private mode 1043)</li>
      </ul>
    </li>

    <li>add resource <code>formatOtherKeys</code> to provide an
    alternate escape sequence format for the
    <code>modifyOtherKeys</code> resource (request by Paul LeoNerd
    Evans).</li>

    <li>adjust saved-cursor position if the window is resized while
    displaying the alternate screen (Novell #196880, Debian
    #383384).</li>

    <li>improve pointer-checks to fix a bug exposed by resizing
    during initialization under StumpWM window manager (Fedora
    Bugzilla #437928).</li>

    <li>modify <code>unselectwindow()</code> to ensure that the
    mouse pointer is not hidden after xterm loses focus (report by
    Jeremy Huddleston).</li>

    <li>add special check for fd_mask on Mac OS X (report by Jeremy
    Huddleston).</li>

    <li>add <code>dylib</code> to autoconf's suffix list used for
    checking the result from <code>xmkmf</code>, to work with Mac
    OS X (report by Jeremy Huddleston).</li>

    <li>correct initialization of bold- and wide-, wide-bold fonts
    which may be set via the <code>utf8Fonts</code> subresource
    (Debian #347790).</li>
  </ul>

  <h1><a name="xterm_234" id="xterm_234">Patch #234 -
  2008/03/02</a></h1>

  <ul>
    <li>modify <code>sinstall.sh</code> to use POSIX locale to
    bypass GNU ls changes to date-format.</li>

    <li>improved/refined changes for closing bitmap font (patch by
    Andrea Odetti).</li>

    <li>improve resize computation for situations where the
    negotiation fails, by invoking the xterm widget's core-class
    resize method (Debian #365602, patch by Jim Paris).</li>

    <li>restore initialization of terminal's <code>VMIN</code> and
    <code>VTIME</code> settings, from <a href="#xterm_232">patch
    #232</a> changes (patch by Matthieu Herrb).</li>
  </ul>

  <h1><a name="xterm_233" id="xterm_233">Patch #233 -
  2008/02/24</a></h1>

  <ul>
    <li>add configure check for <code>ttydefaults.h</code>, include
    if needed, e.g., for systems where defining
    <code>_POSIX_C_SOURCE</code>, etc., prevents it from being
    included via <code>termios.h</code> (prompted by comments by
    Robert Delius Royar and Jeremy Huddleston).</li>

    <li>bug-fixes for bugs.opensolaris.org (patches from Alan
    Coopersmith)

      <dl>
        <dt>4029911</dt>

        <dd>fix a typo in manpage</dd>

        <dt>4045962</dt>

        <dd>xterm doesn't properly set ut_syslen</dd>

        <dt>4192572</dt>

        <dd>left-left-right misinterpreted as triple click</dd>
      </dl>
    </li>

    <li>minor optimization to tab-initialization (patch by
    N&eacute;meth M&aacute;rton).</li>

    <li>fix a case where an incorrect font was freed during
    initialization from <a href="#xterm_232">patch #232</a> changes
    (patch by Andrea Odetti).</li>

    <li>improve comparison used in <code>SameFont</code> function
    for GC-caching (Julien Cristau).</li>

    <li>correct macro name used for default <code>CKILL</code>
    definition to work with Mac OS X (report by Jeremy
    Huddleston).</li>
  </ul>

  <h1><a name="xterm_232" id="xterm_232">Patch #232 -
  2008/01/30</a></h1>

  <ul>
    <li>corrected logic in a font-cache used for reverse-video
    (Debian #404079).</li>

    <li>add control sequence to alter <code>pointerMode</code> at
    runtime.</li>

    <li>add limit-checks for rectangle operation parameters (report
    by Martin Pirker).</li>

    <li>modify <code>minstall.sh</code> to suppress
    <code>$MANPAGER</code> and <code>$PAGER</code> environment
    variables, which may interfere with redirecting output of
    <code>man</code> to a shell variable (report/patch by Zdenek
    Sekera).</li>

    <li>do not try to hide mouse pointer in the tek4014 window,
    fixes broken "-t" option at startup from <a href=
    "#xterm_230">patch #230</a> changes (report by Robert K.
    Nelson).</li>

    <li>correct datatype used when drawing tek4014 data using xterm
    compiled for wide-characters, on big-endian machines (reports
    by Jeremy Huddleston, Harald Hanche-Olsen, Martin Costabel,
    Merle Reinhart).</li>

    <li>modify to cache the font-names along with the bitmap font
    data, to improve comparison of fonts.</li>

    <li>modify to allow building with configure options
    <code>--disable-ansi-color</code> and
    <code>--disable-leaks</code> (Debian #459817, report/patch by
    N&eacute;meth M&aacute;rton).</li>

    <li>modify to allow building with configure options
    <code>--enable-wide-chars</code> and
    <code>--disable-c1-print</code> (Debian #459816, report/patch
    by N&eacute;meth M&aacute;rton).</li>

    <li>add <code>pointerMode</code> resource to control whether
    and when the pointer cursor is hidden as the user types.</li>

    <li>simplify initialization of ttyMode- and related characters
    using a table.</li>

    <li>modify initialization-logic for stty values that correspond
    to ltchars structure and the BSD TIOCSLTC ioctl (susp, dsusp,
    rprnt flush, werase, lnext). These were reset to constants for
    both termios and legacy interfaces immediately after asking the
    system for the existing values since X11R6.1, rather than using
    them to provide inherited values. While the legacy interface
    has some constraints, e.g., on HPUX, the POSIX or termios
    interface should not. Your shell may reset these anyway
    (prompted by patch by Ed Schouten).</li>

    <li>improve logic for hiding/displaying pointer-cursor (report
    by Mark Brukhartz).</li>

    <li>add limit-checks to tabs.c, increase maximum column for
    setting tab-stops from 320 to 1024 (report by N&eacute;meth
    M&aacute;rton).</li>

    <li>correct length, i.e., number of types of selection targets,
    computed by <code>ConvertSelection()</code> when not handling
    wide characters for the <code>XA_TARGETS()</code> case. This
    leaves an extra Atom on the end of the list which is not
    handled by <a href=
    "http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6322854">Java
    applications</a>. The problem was introduced in <a href=
    "#xterm_151">patch #151</a> (report by David Wood).</li>
  </ul>

  <h1><a name="xterm_231" id="xterm_231">Patch #231 -
  2008/01/05</a></h1>

  <ul>
    <li>undo change to <code>getXtermCell()</code> from patch #230
    using <code>PACK_PAIR</code> macro (Debian #459014, analysis by
    Caetano Jimenez Carezzato).</li>

    <li>minor documentation fixes (patch by Slava Semushin)</li>

    <li>add makefile actions to install KOI8RXTerm app-defaults
    file (patch by Julien Cristau).</li>
  </ul>

  <h1><a name="xterm_230" id="xterm_230">Patch #230 -
  2007/12/31</a></h1>

  <ul>
    <li>add <code>quietGrab</code> resource, which when true,
    suppresses cursor repainting when <code>NotifyGrab</code> and
    <code>NotifyUngrab</code> event types are received during
    change of focus (request by Nicolas George).</li>

    <li>do not treat Unicode BIDI control characters as combining
    characters (Debian #457634).</li>

    <li>add <code>koi8rxterm</code>, from Debian.</li>

    <li>add manpage for <code>uxterm</code>, from Debian (Ubuntu
    #128136, Debian #438645)</li>

    <li>remove ".xpm" suffixes from Icon filenames in desktop files
    since it confuses some lookups following the <a href=
    "http://standards.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html">
    Icon Theme Specification</a> (report by Slava Semushin)</li>

    <li>correct width-calculation used for adjusting proportional
    fonts, to work with wide-characters (Debian #441354).</li>

    <li>fixes/improvements for double-size characters:

      <ul>
        <li>correct old clipping calculation which used total
        height of glyphs where ascent was needed.</li>

        <li>if bold font is unavailable, fall back to normal
        font</li>

        <li>adjust to "work" with Xft (which does not support
        double-width single-height characters).</li>

        <li>restore reset of doublesize for a line when it is
        cleared, broken in <a href="#xterm_228">patch
        #228</a>.</li>
      </ul>
    </li>

    <li>modify logic for <code>forceBoxChars</code> resource when
    using TrueType fonts to be consistent with bitmap fonts</li>

    <li>modify logic for <code>forceBoxChars</code> resource to
    make the "Line-Drawing Characters" menu entry use xterm's
    line-drawing characters even asked to draw wide line-drawing
    characters which are available in the font.</li>

    <li>modify rectangle-support functions to preserve colors when
    filling/erasing to match WRQ Reflection behavior (request by
    Enzo Toscano).</li>

    <li>add getopt-parsing to tcapquery.pl, including feature to
    test the extended cursor/editing keys.</li>

    <li>make missing double-width glyphs display as double-width
    (Debian #456236).</li>

    <li>change <code>tcap-fkeys</code> and <code>rectangles</code>
    configure options to enable them by default.</li>

    <li>hide the mouse pointer while user is typing (request by
    Rodolfo Borges).</li>

    <li>extend configure options <code>--enable-tcap-query</code>
    and <code>--enable-tcap-fkeys</code> to send cursor- and
    editing-keypad keys modified according to the keyboard (or
    termcap) selection for shift, alt, control, meta.</li>

    <li>modify <code>kdch1</code> in termcap, e.g.,
    <code>xterm-r6</code> to match the terminfo file.</li>

    <li>add <code>-hm</code> option to turn
    <code>highlightColorMode</code> on or off.</li>

    <li>add <code>highlightColorMode</code> resource to separate
    the new (since <a href="#xterm_225">patch #225</a>)
    highlighting with both text- and background-colors (prompted by
    report/example by Thomas Wolff).</li>

    <li>add <em>Keep Selection</em> menu entry to turn the
    <code>keepSelection</code> resource on/off at runtime.</li>

    <li>add <code>keepSelection</code> resource, which when
    enabled, tells xterm to retain the X selection even after it
    stops highlighting it (patch by Sergey Vlasov).</li>

    <li>extend the <code>CSI&nbsp;&gt;&nbsp;n</code> sequence to
    allow disabling all types of modified-keys that the
    <code>CSI&nbsp;&gt;&nbsp;m</code> sequence affects.</li>

    <li>move include for <code>&lt;xtermcap.h&gt;</code> in
    <code>resize.c</code> to avoid redefinition of
    <code>termios</code> structure on OpenSolaris (report by Rahul
    Gopinathan Nair).</li>

    <li>extend terminfo building blocks for modified editing keys
    to include all six keys.</li>

    <li>synchronize terminfo with ncurses (report by Stephane
    Chazelas)

      <ul>
        <li>equate <code>xterm-xfree86</code> and
        <code>xterm-xf86-v44</code>.</li>

        <li>add ncurses extensions OTbs, AX, for termcap
        conversions.</li>

        <li>make old/legacy entries such as <code>xterm-24</code>,
        <code>xterm-65</code> and aliases <code>xterms</code>,
        <code>vs100</code> inherit from
        <code>xterm-old</code>.</li>

        <li>make <code>xterm-r5</code> and <code>xterm-r6</code>
        the same, ignoring historical errors in X Consortium's
        version.</li>
      </ul>
    </li>

    <li>fix an ifdef in logic for selecting regular expressions
    while in a narrow-character locale (Debian #449227).</li>
  </ul>

  <h1><a name="xterm_229" id="xterm_229">Patch #229 -
  2007/8/12</a></h1>

  <ul>
    <li>override locale in minstall.sh; change in <a href=
    "#xterm_226">patch #226</a> does not work in UTF-8 locale
    (report by Zdenek Sekera).</li>

    <li>undo an incorrect fix for a memory leak in <a href=
    "#xterm_209">patch #209</a> (Debian #435858).</li>
  </ul>

  <h1><a name="xterm_228" id="xterm_228">Patch #228 -
  2007/7/22</a></h1>

  <ul>
    <li>modify configure script to permit combining
    <code>--with-utempter</code> and <code>--enable-setuid</code>,
    e.g., for using xterm with the utempter library on FreeBSD
    (report by Andriy Gapon).</li>

    <li>modify "Quit" menu entry to override the <code>-hold</code>
    command-line option.</li>

    <li>add a check in the startup error-reporting to avoid writing
    to pipe when it has not been opened. In that case, report
    errors directly to the standard error.</li>

    <li>add OPT_READLINE definition to xtermcfg.hin, overlooked in
    <a href="#xterm_205">patch #205</a> (report by Kalle Olavi
    Niemitalo).</li>

    <li>modify <code>88colors2.pl</code> and
    <code>256colors2.pl</code>, adding <code>-r</code> option to
    reverse the palettes for the extended colors.</li>

    <li>check for partial overwrite or deletion of multi-column
    characters in several cases, e.g., insert-character,
    delete-character, etc., and fill the remainder of the cells
    used by the multi-column characters affected with blanks.</li>

    <li>correct character-class codes in wide-character mode for
    characters 215, 247 (see also <a href="#xterm_165">patch
    #165</a>).</li>

    <li>fix missing assignment for UTF-8 parsing in widget
    initialization (Debian #403360).</li>

    <li>correct index expression used to set line-wrapping flag,
    making selection from scrollback work consistently (Debian
    #430121, report by Vincent Lefevre).</li>

    <li>amend changes to handshake in <a href="#xterm_226">patch
    #226</a> to accommodate Solaris, which relies on the extra
    setting of the terminal size after I/O initialization. Do this
    by adding new resource <code>ptySttySize</code>, which is false
    for Linux and MacOS X, i.e., true for for Solaris and other
    SVR4 platforms, as well as FreeBSD (reports by David Wood,
    Renato Botelho).</li>

    <li>check for X events after cursor-left, and carriage return,
    consistent with indexing operations (comments by Vegard Nossum
    and Ingo Molnar on a mailing-list).</li>

    <li>initialize the <code>.keyboard</code> structure, needed for
    some platforms (such as Solaris) after <a href=
    "#xterm_227">patch #227</a> fixes for keysyms (patch by David
    Wood).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_227" id="xterm_227">Patch #227 -
  2007/6/27</a></h1>

  <ul>
    <li>exclude the Intel compiler from the extra gcc warning
    options added in <a href="#xterm_226">patch #226</a>.</li>

    <li>modify change for Debian #422521 from <a href=
    "#xterm_226">patch #226</a> to work with configurations where
    the X server does not recognize the <code>XF86Paste</code> or
    <code>SunPaste</code> keysyms (report by Paolo Pumilia).</li>

    <li>fix incorrect free in fix for "Selection" menu entry in
    <a href="#xterm_226">patch #226</a>.</li>
  </ul>

  <h1><a name="xterm_226" id="xterm_226">Patch #226 -
  2007/6/17</a></h1>

  <ul>
    <li>add configure check to use
    <code>-Wno-unknown-pragmas</code> for Solaris, and a few other
    new gcc warning options to address regressions in its warning
    options.</li>

    <li>add sample desktop and icon files, along with configure
    options for manipulating them.</li>

    <li>fix an infinite loop when showing a 2-column character in a
    1-column screen (Debian #426863).</li>

    <li>add <code>XF86Paste</code> and <code>SunPaste</code> to the
    default translations (Debian #422521, patch by Bernhard R
    Link).</li>

    <li>update wcwidth.c (partly based on/prompted by mailing list
    comment).</li>

    <li>update/improve keysym2ucs.c based on Unicode 5.0.1d3 and
    Xorg 7.1 keysymdef.h file.</li>

    <li>improve <code>gen-pc-fkeys.pl</code>, making it show all of
    the building-block terminfo entries used by xterm.</li>

    <li>correct strings used for modifiers applied to F1-F4 in
    xterm+pcf1 terminfo entry.</li>

    <li>improve session management by adding the ICE connection
    number to the <code>select</code> call rather than waking up
    once per second (patch by Miroslav Lichvar).</li>

    <li>add environment variable <code>$XTERM_LOCALE</code> to help
    with shell initialization, e.g., to set a specific locale for
    xterm on systems where a global locale is set in the shell
    startup scripts.</li>

    <li>add resource settings <code>mkSampleSize</code> and
    <code>mkSamplePass</code> to modify the <code>mkWidth</code>
    added in <a href="#xterm_201">patch #201</a>. In <a href=
    "#xterm_202">patch #202</a>, xterm would also check if the
    system's <code>wcwidth</code> matched its built-in tables "well
    enough" to be used when <code>mkWidth</code> was false, and if
    not would use the built-in tables anyway. These resources allow
    the user to customize the decision (prompted by comments by
    Emanuele Giaquinta)</li>

    <li>modify logic which resets/updates the screensize on the
    child process side of the pseudo-terminal to do this only if a
    successful handshake was received, e.g., as determined by the
    <code>waitForMap</code> resource (prompted by reports by
    Emanuele Giaquinta and Bernhard R Link, but see also <a href=
    "#xterm_177">patch #177</a> and <a href="#xterm_159">patch
    #159</a>.</li>

    <li>improve permissions logic when closing pseudo-terminal
    (Debian #12261, patch by Nathanael Nerode, analysis by Richard
    Braakman).</li>

    <li>add resource <code>highlightReverse</code> which controls
    whether xterm will allow selection highlighting to hide
    reverse-video or use the older behavior which inverts the
    foreground and background colors when selected text with
    reverse-video attribute (report by Adam M Costello, comments by
    Victor Vaile).</li>

    <li>restore a special case for cursor-color in
    <code>ReverseVideo()</code> lost in rewrite for <a href=
    "#xterm_224">patch #224</a> (report by Adam Sulmicki).</li>

    <li>correct initialization for menu entry for
    <code>bellIsUrgent</code> (patch by Emanuele Giaquinta).</li>

    <li>correct length of underlining for double-width Xft fonts
    (report by Shidai Liu "Leo").</li>

    <li>correct clipping for double-width Xft fonts (report by
    Shidai Liu "Leo").</li>

    <li>modify initialization for <code>italicULMode</code> to
    avoid <code>XftPatternBuild</code> reusing bold attributes
    (report by Shidai Liu "Leo").</li>

    <li>add a check in case someone tries to call the
    <code>popup-menu()</code> action on a menu which is not
    initialized (Debian #426364).</li>

    <li>improve CF_IMAKE_CFLAGS to work with Solaris sed (report by
    Peter Bray).</li>

    <li>improve guess for X's manpage section in
    <code>minstall.sh</code>, (prompted by comment by Miroslav
    Lichvar).</li>

    <li>modify <code>minstall.sh</code> to handle manpage patch
    with more than one dot (patch by Miroslav Lichvar).</li>

    <li>fix configure message for --disable-setgid option (patch by
    Miroslav Lichvar).</li>

    <li>add <code>allowTitleOps</code> resource to allow users to
    prevent the title- and icon-names from changing (request by
    John Bashinski).</li>

    <li>fix "spawn-new-terminal" action, for the case where no
    parameter is passed to the action (patch by Daniel
    Colascione).</li>

    <li>fix error-checking on internal font switching for
    "Selection" menu entry (Debian #421523).</li>

    <li>amend select/paste change from <a href="#xterm_225">patch
    #225</a> by limiting it to non-UTF-8/non-KOI8-R encoding
    (Debian #420974).</li>

    <li>add workaround for groff ".URL" codes which are not present
    in some commonly-used bitmap fonts (Debian #418324).</li>
  </ul>

  <h1><a name="xterm_225" id="xterm_225">Patch #225 -
  2007/3/24</a></h1>

  <ul>
    <li>add <code>useClipping</code> resource to allow clipping to
    be disabled.</li>

    <li>use <code>XftDrawSetClipRectangles</code> to work around
    Xft pixel-trash (report by Reuben Thomas).</li>

    <li>add configure option <code>--enable-tcap-fkeys</code>, and
    resource <code>tcapFunctionKeys</code>, which can be used to
    tell xterm to use function-key definitions from the termcap (or
    terminfo) which it uses to set $TERM on startup.</li>

    <li>add resources <code>altIsNotMeta</code> and
    <code>altSendsEscape</code> to allow one to use Alt-keys like
    the meta-key even if they are bound to different keycodes
    (prompted by discussion with Daniel Jacobowitz).</li>

    <li>revert a change from <a href="#xterm_216">patch #216</a>
    that unnecessarily made the meta modifier override the
    <code>eightBitInput</code> resource if the alt- and
    meta-modifiers happened to overlap (report/patch by Daniel
    Jacobowitz).</li>

    <li>correct associated font for active icon for colored text
    (broken in <a href="#xterm_224">patch #224</a>).</li>

    <li>correct ifdef's for Darwin (patch by Emanuele
    Giaquinta).</li>

    <li>add <code>highlightTextColor</code> resource, and options
    <code>-selfg</code>, <code>-selbg</code> like <code>xwsh</code>
    (adapted from patch by Victor Vaile).</li>

    <li>revise <code>find_closest_color()</code> function to
    address concern about borrowing from <code>Tcl/Tk</code>
    (request by Dan McNichol).</li>

    <li>add "spawn-new-terminal" action, which can be assigned to
    key translation, allowing one to spawn a new copy of xterm
    using the current process' working directory (adapted from
    patch by Daniel Colascione).</li>

    <li>improve select/paste between UTF-8 and Latin1 xterms by
    adapting the translations from <a href="#xterm_185">patch
    #185</a>. Extend that to include Unicode fullwidth forms
    FF00-FF5E. Also modify select/paste of DEC line-drawing
    characters in Latin1 mode to use ASCII characters.</li>

    <li>add "Enable Bell Urgency" to VT Options menu, removed
    "Enable Margin Bell".</li>

    <li>add <code>bellIsUrgent</code> resource to control whether
    the Urgency hint is set/reset.</li>

    <li>modify to set Urgency window manager hint on bell, reset it
    on Focus-In event (patch by Emanuele Giaquinta).</li>

    <li>add <code>--disable-setgid</code> configure option (request
    by Miroslav Lichvar).</li>

    <li>fix a possible infinite loop in last change to
    <code>dabbrev-expand()</code> (patch by Emanuele
    Giaquinta).</li>

    <li>modify initialization to set the pty erase value if the
    <code>erase</code> is set in the <code>ttyModes</code>
    resource. This overrides the <code>ptyInitialErase</code>
    setting (request by Llu&iacute;s Batlle i Rossell).</li>

    <li>add <code>initialFont</code> resource to xterm widget, like
    tek-widget (Debian #299669).</li>

    <li>amend change to <code>boldMode</code> from <a href=
    "#xterm_223">patch #223</a> for Debian #347790. As noted in
    Debian #412599, that made xterm no longer match the documented
    behavior. Add new resource <code>alwaysBoldMode</code> to allow
    overriding the comparison between normal/bold fonts when
    deciding whether to use overstriking to simulate bold
    fonts.</li>

    <li>restore background color in ClearCurBackground(), omitted
    in changes for <a href="#xterm_223">patch #223</a> (report by
    Miroslav Lichvar).</li>

    <li>correct logic for repainting double-width TrueType
    characters (prompted by test-case for Novell #246573).</li>

    <li>add a check to avoid trying to repeat a multibyte character
    (report by Sami Farin).</li>

    <li>modify parameter to <code>XftNameParse()</code> to select
    wide face-name as needed, to make <code>-fd</code> option work
    (patch by Mike Fabian, Novell #246573).</li>

    <li>correct logic for mouse highlight tracking's abort
    sequence, broken in a restructuring modification from <a href=
    "#xterm_224">patch #224</a> (report by Thomas Wolff).</li>

    <li>revert the simplification of blinking cursor, since that
    broke the xor'ing introduced in <a href="#xterm_193">patch
    #193</a> (report by Thomas Wolff).</li>
  </ul>

  <h1><a name="xterm_224" id="xterm_224">Patch #224 -
  2007/2/11</a></h1>

  <ul>
    <li>simplify code for set/reset mode for blinking cursor (patch
    by Emanuele Giaquinta).</li>

    <li>modify <code>dabbrev-expand()</code> to restart after the
    last match (patch by Emanuele Giaquinta).</li>

    <li>add control sequences for enabling/disabling focus in/out
    event reporting (request by Bram Moolenaar).</li>

    <li>improve startup performance of menus by adding resource
    setting <code>menuLocale</code> which can be set to override
    X's lengthy initialization of fontsets - which are seldom used
    for the <code>Xaw</code> popup menus (adapted from patch by
    Dave Coffin).</li>

    <li>modify do_precomposition() function and make-compose.sh to
    handle 21-bit codes vs the 16-bit codes those were written for,
    and fix a few mis-sorted codes (patch by Thomas Wolff).</li>

    <li>handle special case in <code>-cjk_width</code> which
    unexpectedly caused a character's width to change when a
    combining character (patch by Thomas Wolff)</li>

    <li>fix build for GNU/KFreeBSD (Debian #40111).</li>

    <li>consolidate GC creation/updating into a single module to
    reduce GC manipulation (prompted by Debian #389476, though a
    complete fix would involve optimizing the scrolling
    behavior).</li>

    <li>fix ifdef of xtermCellWidth(), which broke for a case
    without TrueType and without wide-character support (report by
    Martin Pirker).</li>

    <li>undo a comparison in
    <code>handle_translated_exposure</code> which did not work due
    to X server optimization. That caused the inner border to be
    repainted with unexpected colors when handling a repaint, e.g.,
    after switching to/from another workspace (Debian #401726,
    Redhat Bugzilla #223027).</li>

    <li>allow <code>-cr</code> option to override cursor color when
    <code>-ah</code> option is used (Debian #406502).</li>

    <li>add a note in xterm's manpage explaining that the
    <code>-bw</code> (or <code>-w</code>) option is only used by
    the window manager, if at all (Debian #405043).</li>

    <li>make <code>Selection</code> of <code>VT&nbsp;Fonts</code>
    work with <code>selectToClipboard</code> resource.</li>

    <li>correct length calculation for <code>Selection</code> entry
    of <code>VT&nbsp;Fonts</code> menu, broken since it ignored the
    actual selection length since X11R4.</li>

    <li>fixes for fontsize changes with <code>-fa</code> option
    (Redhat Bugzilla #222340).</li>
  </ul>

  <h1><a name="xterm_223" id="xterm_223">Patch #223 -
  2006/11/30</a></h1>

  <ul>
    <li>add <code>--enable-rectangles</code> configure option
    (request by Martin Pirker).</li>

    <li>correct default value for <code>--with-symlink</code>
    configure option.</li>

    <li>fixes configure script macros that use
    <code>$X_EXTRA_LIBS</code>.</li>

    <li>modify configure script to provide support for pre-package
    config versions of Xft aka "FreeType".</li>

    <li>add the Xaw scrollbar translations resource to the xterm
    manpage, add an example showing how to change the mouse button
    assignments (Debian #382225).</li>

    <li>amend a change from <a href="#xterm_216">patch #216</a>,
    which omitted modifiers for control, meta, etc., if they were
    mixed with any other modifiers. The intent of the change was to
    avoid confusion with <code>XK_Mode_switch</code> and
    <code>XK_ISO_Level3_Shift</code>; the check is now done
    explicitly (report by Daniel Jacobowitz).</li>

    <li>interpret a negative value for
    <code>modifyCursorKeys</code> or
    <code>modifyFunctionKeys</code> resources to disable the
    respective features (prompted by Novell #220728).</li>

    <li>amend cell-width computation for FreeType from <a href=
    "#xterm_217">patch #217</a>, which did not work for VT100
    line-drawing characters (Debian #399638, GenToo #147111).</li>

    <li>amend a change from <a href="#xterm_216">patch #216</a>,
    which made alt-modifier on a cursor-key send a modifier
    parameter (Novell #220728).</li>

    <li>correct an off-by-one that made DECCRA not work
    (report/patch by Martin Pirker).</li>

    <li>revert an optimization in SGR_Foreground() and
    SGR_Background from <a href="#xterm_209">patch #209</a> (Debian
    #347722, analysis by Pierre Lombard).</li>

    <li>fix for <code>boldMode</code> (Debian #347790, patch by Tim
    Pope).</li>

    <li>amend fix for <code>-iconic</code> in <a href=
    "#xterm_208">patch #208</a>, which broke the positioning part
    of <code>-geom</code> with toolbar configuration.</li>

    <li>fix to prevent indexing error in regular expressions (patch
    by Dennis Schneider).</li>

    <li>fixes to make the internalBorder area not change color due
    to reverseVideo and/or related exposure events. The latter was
    a very old bug exposed in <a href="#xterm_196">patch #196</a>
    (report by Neil Hoggarth, also Debian #397624).</li>
  </ul>

  <h1><a name="xterm_222" id="xterm_222">Patch #222 -
  2006/10/17</a></h1>

  <ul>
    <li>minor optimization for recoloring cursor via dynamic
    colors.</li>

    <li>fix a bug caused by restructuring of tek4014 widget (report
    by Paul Schenkeveld)</li>
  </ul>

  <h1><a name="xterm_221" id="xterm_221">Patch #221 -
  2006/10/1</a></h1>

  <ul>
    <li>fix for regular expressions: the code which converted the
    column offset within a line did not check properly for the end
    of a line, and if allowed to match the whole line, would select
    the beginning of the following line. If the following line were
    empty, in turn it would select from the next, etc. (report by
    Sean Reifschneider).</li>

    <li>minor optimization of color allocation to avoid repainting
    the screen if the corresponding color had not been
    allocated.</li>

    <li>fixes for vttests/256colors.pl (report by Egmont
    Koblinger).</li>

    <li>add terminfo building block entries for modifiers of the
    6-key editing keypad.</li>

    <li>fix for initialization of tek4014 which broke on QNX
    6.1</li>
  </ul>

  <h1><a name="xterm_220" id="xterm_220">Patch #220 -
  2006/9/10</a></h1>

  <ul>
    <li>make "xterm -t -iconic" work as expected, i.e., start in
    tek4014 mode, but iconified.</li>
  </ul>

  <h1><a name="xterm_219" id="xterm_219">Patch #219 -
  2006/9/4</a></h1>

  <ul>
    <li>some internal restructuring to separate data for vt100 and
    tek4014 widgets.</li>

    <li>fix a few cases where form-events would be seen by the
    vt100 widget when built with the toolbar configuration.</li>
  </ul>

  <h1><a name="xterm_218" id="xterm_218">Patch #218 -
  2006/8/27</a></h1>

  <ul>
    <li>change behavior when encountering an illegal character in a
    title string. Rather than reject the string, translate illegal
    characters into "?" and use the string (requested by Thomas
    Wolff).</li>

    <li>improve checks for nonprinting characters in title strings
    (report by Samuel Thibault).</li>

    <li>correct typo in menu labels, changing
    <code>print-redirect</code> to <code>print-redir</code>, making
    it follow the manpage and match the usage for the actions table
    (report by Samuel Thibault).</li>

    <li>correct a typo that prevents building with some older
    systems such as Solaris 2.6 (report by Julian Bridle).</li>
  </ul>

  <h1><a name="xterm_217" id="xterm_217">Patch #217 -
  2006/8/20</a></h1>

  <ul>
    <li>minor improvements to FreeType font layout and
    drawing.</li>

    <li>add a check in the ptyInitialErase logic to ensure that the
    termcap was read (Redhat Bugzilla #201246).</li>

    <li>limit changes for reverse-video from <a href=
    "#xterm_216">patch #216</a> to cases where the reverse-video
    command-line option is used (report by Zdenek Sekera).</li>

    <li>correct bitmap-derived pointsizes for TrueType fonts; they
    should be proportional to the square root of the area of the
    bitmap fonts.</li>

    <li>add resources to specify pointsize of TrueType fonts
    (request by Reuben Thomas).</li>

    <li>improve install of terminfo by filtering out harmless
    messages related to extended capabilities. At the same time,
    use ncurses tic to compile the extended capabilities if
    possible (report by Zdenek Sekera).</li>

    <li>update "xterm+pcfkeys" terminfo entry to correspond to
    <a href="#xterm_216">patch #216</a>.</li>
  </ul>

  <h1><a name="xterm_216" id="xterm_216">Patch #216 -
  2006/8/3</a></h1>

  <ul>
    <li>improve handling of <code>ConfigureNotify</code> events by
    checking if there are further events in the queue which
    obsolete the current one (adapted from rxvt 2.7.5). Only the
    normal normal (non-toolbar) configuration is addressed in this
    patch.</li>

    <li>several changes to terminfo:

      <ul>
        <li>incorporate some minor changes from ncurses to help
        keep these synchronized:

          <dl>
            <dt>2005-02-26</dt>

            <dd>modify sgr/sgr0 in xterm-new to improve tgetent's
            derived "me".</dd>

            <dt>2006-02-18</dt>

            <dd>remove ncv flag from xterm-16color</dd>

            <dt>2006-06-24</dt>

            <dd>improve xterm-256color by combining the 16-color
            setaf/setab strings with SGR 48, and cancelling the
            setf/setb strings.</dd>
          </dl>
        </li>

        <li>use extended function-key definitions for xterm-sun,
        xterm-sco entries.</li>

        <li>add terminfo building-blocks corresponding to the
        <code>modifyFunctionKeys</code> and
        <code>modifyCursorKeys</code> resources.</li>
      </ul>
    </li>

    <li>ifdef'd Sun function-key feature to make it optional, like
    HP and SCO.</li>

    <li>extend table for termcap-query feature through F63, and
    updated tcapquery.pl to match.</li>

    <li>modify logic for function-key input processing to allow
    function key numbers which are constructed by control- and
    shift-modifiers to extend beyond X's hardcoded limit of
    35.</li>

    <li>add control sequence to set or reset the
    <code>eightBitInput</code> resource.</li>

    <li>change default resource <code>modifyFunctionKeys</code> to
    2 to avoid sending SS3 with parameters (report by Kalle Olavi
    Niemitalo).</li>

    <li>add control sequences for setting and resetting the values
    of the <code>modifyCursorKeys</code>,
    <code>modifyFunctionKeys</code> and
    <code>modifyOtherKeys</code> resources.</li>

    <li>add <code>modifyFunctionKeys</code> resource like
    <code>modifyCursorKeys</code>. Setting this to zero allows one
    to use the control- and shift-modifiers to construct function
    key strings, for terminals using many function keys, e.g., for
    <code>xterm-sun</code> or <code>xterm-sco</code>.</li>

    <li>modify screen responses and function-key logic to reduce
    the number of writes made, to make it less likely that an
    application would read only part of a function-key in a read
    operation (suggested by John E Urbanczyk).</li>

    <li>add <code>combiningChars</code> resource, which allows the
    user to specify the maximum number of combining characters that
    xterm will store for each cell in wide-character mode (prompted
    by request by Markus Kuhn to increase the limit from 2).</li>

    <li>improve logic in <code>metaSendsEscape</code> in case the
    Alt- and Meta-keys are mapped to different modifiers. That
    allows one to use the Alt-key for shifting in the
    <code>eightBitInput</code> and use a Meta-key modifier to
    prefix the result with an <code>&lt;ESC&gt;</code>.</li>

    <li>improve <code>modifyCursorKeys</code> logic to prevent it
    from modifying codes where <code>eightBitInput</code> or
    <code>metaSendsEscape</code> are set (request by Dan
    Nicolaescu).</li>

    <li>improve <code>modifyCursorKeys</code> logic to prevent it
    from changing the user input when other modifiers such as AltGr
    are used (report by Thomas Wolff).</li>

    <li>extend <code>modifyCursorKeys</code> to include the numeric
    keypad when in application mode.</li>

    <li>improve <code>-reverse</code> (<code>-rv</code>) option
    (patch by Jason Vas Dias, Redhat #189161).</li>

    <li>workaround for color resources on Fedora-5 which made the
    toolbar colors inconsistent.</li>

    <li>corrected calls used for <code>--disable-setuid</code>
    option, add debugging traces to help diagnose this area.</li>

    <li>modify configure script to ensure that
    <code>USE_UTMP_SETGID</code> is defined only if the check for
    POSIX saved-ids succeeds, or corresponds to one of the BSD
    systems known to have a workable <code>setegid</code>
    function.</li>

    <li>extend configure check for POSIX saved-ids to include BSD
    systems</li>

    <li>modify CF_SYSV configure macro to work with gcc on HPUX
    10.20, whose broken <code>&lt;term.h&gt;</code> relies on
    including <code>&lt;termios.h&gt;</code>.</li>

    <li>change order of setuid/setgid ifdef checks in Imakefile to
    make it simpler to produce a setgid install, allowing the
    latter to override the former (prompted by an XFree86
    commit).</li>

    <li>adapt a fix for setgid support from subsequent XFree86
    changes (patch by Emanuele Giaquinta).</li>

    <li>further improve setgid support (patches by Emanuele
    Giaquinta).</li>
  </ul>

  <h1><a name="xterm_215" id="xterm_215">Patch #215 - 2006/6/19 -
  XFree86 4.6.99.2</a></h1>

  <ul>
    <li>improve setgid support by exploiting the saved-ids feature
    on which it relies (patch by Emanuele Giaquinta).</li>

    <li>make the <code>modifyOtherKeys</code> resource disabled by
    default since the intermediate setting altered some common
    bindings (report by Emanuele Giaquinta).</li>
  </ul>

  <h1><a name="xterm_214" id="xterm_214">Patch #214 - 2006/6/18 -
  XFree86 4.6.99.2</a></h1>

  <ul>
    <li>modify makefile rule for ctlseqs.txt to strip
    backspace/overstrikes, and add a copy of ctlseqs.txt to the
    source tarballs (requests by Bram Moolenaar, Emanuele
    Giaquinta).</li>

    <li>add <code>modifyOtherKeys</code> resource, analogous to the
    <code>modifyCursorKeys</code> resource. This applies to keys
    that normally would transmit nothing when a given modifier is
    applied (request by Dan Nicolaescu).</li>

    <li>add <code>default</code> to the acceptable values for the
    <code>keyboardType</code> resource, allowing the
    <code>-kt</code> command-line option to override app-defaults
    resource settings of <code>sunKeyboard</code>, etc.</li>

    <li>correct ifdef's for <code>XkbBell()</code> which used the
    header file but not the corresponding function in <a href=
    "#xterm_175">patch #175</a> (report by Zach Beane).</li>

    <li>add xterm manpage to the <code>--with-symlink</code>
    logic.</li>

    <li>regenerated configure script to omit some debugging
    artifacts of the SIGWINCH test.</li>

    <li>fix <code>install-man</code> rule in
    <code>Makefile.in</code> to avoid including the
    <code>$(DESTDIR)</code> value in substitutions made on the
    manpages (patch by Emanuele Giaquinta).</li>

    <li>improved fix for cursor deallocation (Redhat #186935, patch
    by Jason Vas Dias).</li>

    <li>improve checks for setuid/setgid operation to accommodate
    limited resource management in some kernels (GenToo
    #193238).</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_213" id="xterm_213">Patch #213 - 2006/4/30 -
  XFree86 4.5.99.905</a></h1>

  <ul>
    <li>minor optimization to cell layout; will use that to
    simplify some logic and allow for more than two combining
    characters in another patch.</li>

    <li>add <code>utf8Latin1</code> resource to make optional the
    feature from <a href="#xterm_209">patch #209</a> which allowed
    ISO-8859-1 fonts to be used in cases where a wide font was
    given. This would only work for the special case where the user
    normally used Latin-1 and wanted some wide characters (report
    by Rostislav Krasny).</li>

    <li>add <code>utf8Title</code> resource to manpage (Novell
    #52655).</li>

    <li>fix typo in table entry for <code>utf8Title</code> resource
    which made it treated as an integer rather than boolean (patch
    by Mike Fabian, Novell #52655).</li>
  </ul>

  <h1><a name="xterm_212" id="xterm_212">Patch #212 - 2006/4/9 -
  XFree86 4.5.99.904</a></h1>

  <ul>
    <li>improve description of <code>forceBoxChars</code> in
    manpage (discussion with Joe Wells).</li>

    <li>set checkmark for "Select To Clipboard" menu entry on
    startup, from resource setting.</li>

    <li>update manpage to note that
    <code>*customization:color</code> is not needed, though it is
    useful (Redhat #188034).</li>

    <li>add underscore to sample pattern for URL in
    <code>XTerm.ad</code> (Redhat #188037).</li>

    <li>modify install rule for manpage to use the configured
    app-defaults directory (Redhat #188031).</li>

    <li>add checks in <code>releaseCursorGCs()</code> to ensure
    GC's are distinct, needed since memory leak changes for
    <a href="#xterm_208">patch #208</a> (Redhat #186935, patch by
    Jason Vas Dias).</li>

    <li>modify <code>Imakefile</code> definitions to allow
    <code>imake</code> to set <code>InstallXtermSetGID</code>. Add
    symbol <code>InstGidFlags</code>.</li>

    <li>add configure script check to ensure that SIGWINCH if
    defined even when headers undefine this as a side-effect of
    <code>_POSIX_C_SOURCE</code>, etc.</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>ifdef-out chmod of terminal device for OS/2 (XFree86
        #1663, Frank Giessler).</li>

        <li>move new <code>Imakefile</code> chunk which defines
        <code>$(CSGIDFLAGS)</code> before DEFINES, e.g., for IRIX64
        (Marc La France).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_211" id="xterm_211">Patch #211 - 2006/3/19 -
  XFree86 4.5.99.902</a></h1>

  <ul>
    <li>modify prefix/suffix transformation in makefile to make
    <code>uxterm</code> install properly on Cygwin.</li>

    <li>restore the sizeof-comparison for <code>struct
    lastlog</code> added in <a href="#xterm_208">patch #208</a>,
    rendered (mostly) obsolete in <a href="#xterm_210">patch
    #210</a>, since an imake configuration can still turn that code
    on (prompted by comment by David Dawes).</li>

    <li>remove feature for <code>FreeBSDArchitecture</code> from
    <code>Imakefile</code> which would install xterm using the
    <code>utmp</code> group since a standard FreeBSD system has no
    such group, though it would support this configuration. FreeBSD
    packager uses the <code>configure</code> script, which can make
    the appropriate check (prompted by comment by David
    Dawes).</li>

    <li>fixes for gcc redefinition warnings when built using imake
    (reports by David Dawes, Marc La France).</li>
  </ul>

  <h1><a name="xterm_210" id="xterm_210">Patch #210 - 2006/3/12 -
  XFree86 4.5.99.902</a></h1>

  <ul>
    <li>add configure check for workaround in <a href=
    "#xterm_208">patch #208</a> for Solaris' inconsistent support
    for struct lastlog to quiet compiler warnings (prompted by
    David Dawes commit message for XFree86).</li>

    <li>fixes for BASE64 selection manipulation, e.g., ensure that
    the string terminator is written after cut-buffer data (report
    by Joe Allen).</li>

    <li>add vttests/paste64.pl script to test experimental option
    for setting/getting selection data.</li>

    <li>add some error-checking in fontutils.c (prompted by David
    Dawes commit message for XFree86).</li>

    <li>change xterm manpage to show the actual color resource
    names <code>XtDefaultForeground</code> and
    <code>XtDefaultBackground</code> rather than black and white
    (prompted by discussion with Emanuele Giaquinta).</li>

    <li>add <code>utf8Title</code> resource and menu entry,
    allowing the user to control whether title strings are
    interpreted as ISO-8859-1 or UTF-8 encoding (Novell #52655,
    Novell #113206).</li>

    <li>change order of ifdef's for utempter versus platforms in
    <code>Imakefile</code> to ensure a proper value for
    <code>InstallXtermSetGID</code> (prompted by Marc La France
    commit message for XFree86).</li>

    <li>update the cursor GCs when menu entry for reverse video is
    toggled. (Redhat #183993).</li>

    <li>a memory-leak fix for <code>set_cursor_gcs()</code> in
    <a href="#xterm_208">patch #208</a> broke the <code>-cm</code>
    option (Redhat #182382).</li>
  </ul>

  <h1><a name="xterm_209" id="xterm_209">Patch #209 - 2006/2/12 -
  XFree86 4.5.99.22</a></h1>

  <ul>
    <li>remove <code>setf</code> and <code>setb</code> from
    <code>xterm-256color</code> terminfo entry to avoid issues with
    applications that ignore the ANSI strings (report by Emanuele
    Giaquinta).</li>

    <li>remove obsolete references to "Xorg" to avoid confusion
    with "X.org" (prompted by David Dawes commit message for
    XFree86).</li>

    <li>improve initial layout performance for the toolbar
    configuration by precalculating the height of the toolbar.</li>

    <li>remove menu entry for "Enable Curses Emulation" (to make
    room for "Select To Clipboard").</li>

    <li>add resource <code>selectToClipboard</code>, action
    <code>set-select</code> and a menu entry to allow users to
    switch between PRIMARY and CLIPBOARD for select/paste.</li>

    <li>allow cursor to have the same color as foreground (text),
    since it is rendered as reverse (Debian #350664).</li>

    <li>amend change for loading <code>utf8Fonts</code> resource
    from <a href="#xterm_204">patch #204</a> to allow an ISO-8859-1
    "normal" font to be combined with an ISO-10646 font if the
    latter is given via the <code>-fw</code> option or its
    corresponding resource value (prompted by comment in Novell
    #49305).</li>

    <li>add <code>TIOCSCTTY</code> <code>ioctl()</code> ifdef'd for
    <code>__GNU__</code> to set the controlling terminal (Debian
    #348457).</li>

    <li>add configure option <code>--disable-leaks</code>.</li>

    <li>add a check in <code>Bell</code> to ensure that the VT100
    widget is realized, since it may be called by
    <code>xtermLoadFont</code> given an incorrect font resource
    (Redhat #180450).</li>

    <li>improve initialization of wide-bold font by not using the
    derived value when it happens to have few glyphs (report by
    Mboso Sampson).</li>

    <li>improve dynamic colors by not repainting the screen if only
    the cursor color changes (request by Bram Moolenaar).</li>

    <li>fix menu initialization for tek4014 window broken in
    <a href="#xterm_206">patch #206</a>.</li>

    <li>typo in manpage (Debian #351425).</li>

    <li>correct loop logic in <code>dotext</code> to prevent an
    infinite loop if a wide character was just at the right margin
    when wrapping was disabled (report by Serge van den Boom).</li>

    <li>initialize the saved-cursor data so a restore-cursor
    operation without a preceding save-cursor operation will not
    modify the foreground color.</li>

    <li>add a new selection feature: regular expressions, and new
    resources which specify what happens on multiple mouse clicks:
    <code>on2Clicks</code>, <code>on3Clicks</code>,
    <code>on4Clicks</code> and <code>on5Clicks</code>.</li>

    <li>revert the <code>XTerm.ad</code> change from <a href=
    "#xterm_208">patch #208</a> (Debian #348384).</li>

    <li>fixes for the print-window to make it handle combining
    characters in UTF-8 mode.</li>

    <li>add check to ensure that double-clicking to extend
    selection will not extend it into the scrollback area. This
    still allows users to scroll back and select text (Debian
    #347415).</li>

    <li>add configure option <code>--with-tty-group</code> to help
    work around deficiencies in packager's build environment
    (Debian #349142).</li>

    <li>fix typo in configure script option
    <code>--disable-narrowproto</code> (report by David
    Mart&iacute;nez Moreno).</li>

    <li>amend CF_X_FREETYPE changes for <code>pkg-config</code>
    check to ensure that <code>Xft</code> is known to that tool
    (report and patch by Emanuele Giaquinta).</li>

    <li>add an ifdef to allow <code>./configure
    --disable-active-icon</code> to work, broken by new code for
    testing memory leaks in <a href="#xterm_208">patch #208</a>
    (report by Brian Lindholm).</li>
  </ul>

  <h1><a name="xterm_208" id="xterm_208">Patch #208 - 2006/1/3 -
  XFree86 4.5.99.19</a></h1>

  <ul>
    <li>add <code>charClass</code> resource to
    <code>XTerm.ad</code> and <code>UXTerm.ad</code> which
    simplifies selecting URLs (prompted by Kirill Ponomarew).</li>

    <li>modify install rule for <code>uxterm</code> to account for
    the <code>--program-prefix</code>, etc., options by invoking
    the transformed name of xterm rather than simply "xterm".</li>

    <li>modify configure <code>--with-app-defaults</code> option to
    allow <code>--without-app-defaults</code>.</li>

    <li>add configure <code>--with-symlink</code> option to make it
    simpler to install successive versions of <code>xterm</code>
    renamed using the <code>--program-prefix</code>, etc., options
    with a symbolic link pointing to the most recent.</li>

    <li>make <code>-iconic</code> option work with toolbar
    configuration (GenToo #113604).</li>

    <li>suppress <code>lastlog</code> feature for 64-bit Solaris
    configuration since that platform provides only a 32-bit
    interface (report by Peter Bray).</li>

    <li>fix memory reallocation for the "UTF-8" menu entry when
    xterm is started using the <code>+u8</code> option (reported by
    Jan Willem Stumpel).</li>

    <li>add a configure check for the actual path of
    <code>luit</code>, to work around broken <code>imake</code>
    configurations.</li>

    <li>add a configure check for <code>pkg-config</code> (Redhat
    Bugzilla #173541).</li>

    <li>modify install-rule for <code>uxterm</code> to omit
    executable suffix, e.g., for Cygwin.</li>

    <li>modify <code>sinstall.sh</code> to work around quirks in
    Cygwin configuration.</li>
  </ul>

  <h1><a name="xterm_207" id="xterm_207">Patch #207 - 2005/11/13 -
  XFree86 4.5.99.16</a></h1>

  <ul>
    <li>enable <code>lastlogx</code> support for NetBSD (was added,
    but not enabled in <a href="#xterm_186">patch #186</a>).</li>

    <li>work around broken <code>lastlog.h</code> in glibc 2.3.5,
    which includes <code>utmp.h</code>.</li>

    <li>revert part of recent XFree86 Imakefile change, restoring
    the <code>-I.</code> needed for <code>xmkmf</code> builds of
    xterm (XFree86 Bugzilla #1633, reports by Alexander Pohoyda,
    Matthieu Herrb).</li>

    <li>change compiled-in default for <code>printerCommand</code>
    resource to an empty string. People who want to use the printer
    should be able to read the manual (Debian #311490).</li>

    <li>modify <code>Imakefile</code> to work around old problems
    in <code>imake</code> configuration to allow test-builds using
    <code>xmkmf</code> on Linux. (This was not noticed since
    several releases had broken definitions relating to Xft which
    were harder to work around).</li>

    <li>link <code>resize</code> for SCO platforms (Kean
    Johnston).</li>
  </ul>

  <h1><a name="xterm_206" id="xterm_206">Patch #206 - 2005/11/3 -
  XFree86 4.5.99.15</a></h1>

  <ul>
    <li>add configure <code>--with-app-defaults</code> option to
    allow app-defaults directory for install-rules to be
    customized.</li>

    <li>remove default translations for
    <code>dabbrev-expand()</code> due to conflicts with existing
    keyboard arrangements.</li>

    <li>remove redundant check for <code>_NET_WM_PID</code> (report
    by Emanuele Giaquinta).</li>

    <li>set icon border width explicitly to work around fvwm
    problem with active icon resizing (report by Steve Morris,
    analysis by Dominik Vogt).</li>

    <li>modify resource files to make the font-resources a little
    more specific, e.g., changing "*VT100*" to "*VT100.", to make
    the distinction between VT100.font and VT100.utf8Fonts.font
    sharper, in case a packager modifies one of those.</li>

    <li>expanded comments in <code>UXTerm.ad</code> regarding the
    font resources (Debian #319179).</li>

    <li>add <code>--enable-narrowproto</code> configure option to
    accommodate X.org "modular" build (report by Stephan Hermann,
    GenToo #17220).</li>

    <li>fix typo in xterm.man description of <code>+wf</code>
    (patch by Tobias Stoeckmann).</li>

    <li>add <code>scrollBarBorder</code> resource (request by Floyd
    L Davidson).</li>

    <li>modify <code>xterm-new</code> terminfo entry to use
    capabilities for shifted scroll forward/reverse as shifted
    cursor up/down.</li>

    <li>correct updating of checkmark for toolbar entry in popup
    menu (report by Emanuele Giaquinta).</li>

    <li>fix ifdef's to allow compiling with toolbar and without
    tek4014 (patch by Emanuele Giaquinta).</li>

    <li>use <code>openpty()</code> for Darwin port (patch by
    Emanuele Giaquinta).</li>

    <li>fix GenToo #90697 a different way, postponing the logic in
    <code>SetupToolbar</code> until the toolbar is actually needed,
    i.e., the <code>+tb</code> option is handled as expected.</li>

    <li>revert fix made in <a href="#xterm_203">patch #203</a> for
    GenToo #90697. That introduced a problem with the control mouse
    click-popups, while most of the performance problems can be
    resolved by restricting the menu fonts (report by Emanuele
    Giaquinta).</li>

    <li>fix a file-descriptor leak when calling
    <code>openpty()</code> (OpenBSD system/4561).</li>

    <li>make a special case of resizing work like vt100: a hard
    reset also resets the 132/80 mode. The code to support this was
    present since X11R5, but not used because the corresponding
    initial state of the <code>-132</code> option was not
    saved.</li>

    <li>restore window manager hints after
    <code>XtMakeResizeRequest()</code> calls. One instance from
    <a href="#xterm_205">patch #205</a> resulted in the window
    manager displaying pixels rather than than characters after
    selecting a different font size (FreeBSD ports/87424).</li>

    <li>remove special case for Darwin in CF_XOPEN_SOURCE (Emanuele
    Giaquinta).</li>

    <li>modify parsing of control sequence <code>CSI&nbsp;T</code>
    to allow scroll-down to be sent while mouse tracking is enabled
    (request by D Hugh Redelmeier).</li>

    <li>correct termcap "me" (mode-end) string so it does not
    modify the alternate character set (report by Andrey
    Chernov).</li>

    <li>correct size-comparison in HandleInterpret() broken in
    changes from <a href="#xterm_201">patch #201</a> to allocate
    input buffer (Debian #334317).</li>

    <li>amend adjustments for scrollbar layout from <a href=
    "#xterm_204">patch #204</a> to make this apply only to the
    toolbar configuration. In the non-toolbar configuration, the
    resulting scrollbar was shifted by its borderwidth (report by
    Matthieu Herrb).</li>

    <li>add select-cursor-extend() action.</li>

    <li>fix some broken href's in xterm.log.html, and typo in the
    INSTALL file (report/patch by David Mart&iacute;nez
    Moreno).</li>

    <li>modify <code>Imakefile</code> to use setgid mode for
    installing with Linux, OpenBSD and FreeBSD.</li>

    <li>add configure --with-setuid and --with-reference options to
    allow packagers more flexibility in customizing install
    permissions.</li>

    <li>generalize and make optional (configure --with-utmp-setgid)
    the change made for XFree86 Bugzilla #878 in <a href=
    "#xterm_205">patch #205</a> (FreeBSD bug report
    #ports/86663).</li>
  </ul>

  <h1><a name="xterm_205" id="xterm_205">Patch #205 - 2005/9/18 -
  XFree86 4.5.99.12</a></h1>

  <ul>
    <li>correct a typo in CF_FUNC_TGETENT introduced in <a href=
    "#xterm_198">patch #198</a> fix for Gentoo #69926.</li>

    <li>implement logic in termcap query to process multiple
    parameters as documented in ctlseqs.ms</li>

    <li>fix buffer size used for termcap query, which was not long
    enough for the terminfo "colors" name (patch by Bradd W.
    Szonye).</li>

    <li>add configure option --enable-readline-mouse, which turns
    on the experimental OPT_READLINE code (patch by Ilya
    Zakharevich).</li>

    <li>for FreeBSD, drop setuid privileges after startup (XFree86
    Bugzilla #878, report/patch by Alexander Pohoyda)</li>

    <li>add menu entry (alt-esc) and corresponding action
    (alt-sends-esc) to toggle the <code>eightBitInput</code>
    resource setting.</li>

    <li>generate configure script with autoconf 2.52 (patched) to
    use the feature therein which forces the script's locale to
    POSIX (Gentoo Bugzilla #105369).</li>

    <li>modify computation of rows/columns on resize to avoid
    extending beyond the given limits, e.g., if resizing in
    response to a "maximize" in Gnome or KDE which do not use the
    window manager hints for this case (Debian #289123, Novell
    #61153).</li>

    <li>modifications to work with z/OS 1.4 (Paul Giordano).</li>

    <li>improve error-reporting when chown/chmod of the
    pseudo-terminal fails, e.g., if a copy of xterm which was
    designed to work with old-style pseudo-terminals is not
    installed setuid or setgid (report by Jeremy C. Reed).</li>

    <li>patches from Emanuele Giaquinta:

      <ul>
        <li>ctlseqs.ms says that primary and secondary DA accept a
        nonzero parameter, which is incorrect. Also modify code to
        agree with this.</li>

        <li>correct a comment in 88colres.pl</li>

        <li>ctlseqs.ms says that the DEC Set/Reset control
        sequences for the backarrow key make it send DEL/BS,
        respectively, while it's the opposite.</li>

        <li>update the menu entries for the metaSendsEscape,
        deleteIsDEL and numLock resources when changing them with
        the corresponding DEC Set/Reset control sequences.</li>
      </ul>
    </li>

    <li>fixes for configure script:

      <ul>
        <li>add special case for QNX, defining _QNX_SOURCE.</li>

        <li>check for preprocessors which do not perform -U and -D
        options in the given order.</li>

        <li>improve macro to determine gcc version</li>

        <li>improve check for Intel compiler and related warning
        options</li>
      </ul>
    </li>

    <li>update config.guess, config.sub</li>

    <li>improve fix from <a href="#xterm_198">patch #198</a> for
    <code>Cleanup()</code> by ensuring it is not called from the
    SIGCHLD handler (patch by Todd Miller (OpenBSD CVS)).</li>

    <li>eliminate a retry for a better-matching bold font, to work
    around recent font server changes.</li>

    <li>fixes for Novell #113277:

      <ul>
        <li>specify weight for wide font which may be derived from
        normal fontname.</li>

        <li>cache the derived wide- and widebolt-fontnames.</li>
      </ul>
    </li>

    <li>workaround for GenToo Bugzilla #100728.</li>

    <li>add menubar's border width to layout computation. Normally
    this is zero, but patterns such as
    <code>XTerm*borderWidth:1</code> would give poor layout for the
    toolbar configuration.</li>
  </ul>

  <h1><a name="xterm_204" id="xterm_204">Patch #204 - 2005/8/4 -
  XFree86 4.5.99.9</a></h1>

  <ul>
    <li>work around quirk in shell which allowed user to "run"
    uxterm script when there was no UTF-8 locale installed by
    entering "sh -x uxterm". Also popup an xmessage to show the
    problem for users who run this via a GUI (Debian #318513).</li>

    <li>disallow changes to fonts, toolbar and scrollbar when the
    vt100 window is iconified, to simplify management of the active
    icon.</li>

    <li>fixes to make <code>-geom</code> option work properly with
    the toolbar configuration (Gentoo #90717, Gentoo #91967).</li>

    <li>minor improvements to scrollbar layout: ensure that the
    scrollbar border is zero if the vt100 border is zero.</li>

    <li>improve initialization due to <code>utf8</code> resource by
    loading the <code>utf8Fonts</code> resource in the case where
    <code>locale</code> resource is false. Also in this case, do
    not disable switching UTF-8 mode on/off.</li>

    <li>minor optimization of TrueType font-loading, loads italic
    font only when needed.</li>

    <li>correct variable used to store temporary result from lookup
    of bold font, when initializing the wide-bold-font data and no
    immediate match is found by asking for a bold variant of the
    wide-font. The result was to use overstriking rather than the
    actual bold font (Debian #318162, patch by Eugene Konev).</li>

    <li>add checks to ensure vt100 widget is realized when it might
    be updated via actions handled from a tek4014-only
    configuration.</li>
  </ul>

  <h1><a name="xterm_203" id="xterm_203">Patch #203 - 2005/7/6 -
  XFree86 4.5.99.7</a></h1>

  <ul>
    <li>modify initialization of <code>allowSendEvents</code> and
    <code>allowWindowOps</code> to prevent modification with the
    editres protocol.</li>

    <li>fix compiler warning for NetBSD by including util.h in
    main.c (XFree86 Bugzilla #1596).</li>

    <li>fix to build on Darwin 8.x, which no longer provides
    <code>setpgrp()</code> (patch by Min Sik Kim).</li>

    <li>adapted fixes for Legend (SCO) from diffs attached to
    Freedesktop.Org Bugzilla #3180.</li>

    <li>fix typo in xterm manpage description of <code>-ls</code>
    option (Freedesktop.Org Bugzilla #3543).</li>

    <li>add support for interpreting the underline attribute as an
    italic font in Xft mode (patch by Chuck Blake).</li>

    <li>improve initialization of toolbar so that individual
    pulldown menus are initialized on demand, as they are in the
    scenario where they are invoked as popup menus (GenToo Bugzilla
    #90697).</li>

    <li>fix logic in <code>find_utmp</code>, which did not reset
    result in <code>getutid()</code>, causing an infinite loop in
    some conditions (report by Emil Mikulic).</li>

    <li>set the <code>_NET_WM_PID</code> property (GenToo Bugzilla
    #91008).</li>

    <li>modify ifdef's in ptyx.h and xterm_io.h to build with
    DragonFly (patch by Jeroen Ruigrok).</li>

    <li>change default values for <code>minBufSize</code> and
    <code>maxBufSize</code> to 4096 and 32768 respectively so that
    the initial read request will match the value from before
    changes to use <code>sched_yield()</code>.</li>

    <li>make paste of UTF-8 faster for Western character sets by
    checking range of incoming data (patch by Joe Allen).</li>

    <li>add experimental option to allow applications to get or set
    the selection data as a BASE64 string (adapted from patch by
    Joe Allen).</li>

    <li>fix an off-by-one error parsing <code>-S/nn</code> option
    (Debian #311438, report/fix by Peter Chubb).</li>

    <li>fix an initialization bug from <a href="#xterm_201">patch
    #201</a> that broke logging (report by Rodney Thayer).</li>

    <li>amend change to command-line processing in <a href=
    "#xterm_201">patch #201</a> to avoid conflict with
    <code>-e</code> option (report by Servatius Brandt).</li>

    <li>suppress configure check for <code>_XOPEN_SOURCE</code> on
    darwin.</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_202" id="xterm_202">Patch #202 - 2005/5/2 -
  XFree86 4.5.99.3</a></h1>

  <ul>
    <li>add extended shift- and control-modifier cursor keys to
    "xterm+pcfkeys" terminfo entry to correspond to ncurses
    20050430 patch.</li>

    <li>fix a rare case where text would be written with the wrong
    colors because output of scrolled text would reset the colors
    and the new text would be written with the same colors
    (report/testcase by Thomas Glanzmann).</li>

    <li>rename <code>$CMD</code> variable in <code>plink.sh</code>
    because it is a reserved symbol in bash 3.00.16 (report by Ted
    Taylor).</li>

    <li>add environment variables <code>$XTERM_SHELL</code> and
    <code>$XTERM_VERSION</code> (request by Zdenek Sekera).</li>

    <li>corrected workaround for background color of menubar, which
    gave a too-broad expression, coloring the background of the
    VT100 widget unless overridden by another resource
    setting.</li>

    <li>correct an error in the logic which decides when
    <code>sched_yield()</code> is run; it would occasionally hang
    when contending with other pseudo-terminal applications such as
    screen (report by Kirill Ponomarew).</li>

    <li>modify initialization to decide whether to default to
    built-in <code>wcwidth()</code> versus system's version based
    on the starting locale and whether the system's version is poor
    quality (suggested by Bram Moolenaar).</li>

    <li>update table for <code>mk_width()</code> from UnicodeData
    4.1.0 using Markus Kuhn's <code>uniset</code> script.</li>
  </ul>

  <h1><a name="xterm_201" id="xterm_201">Patch #201 - 2005/4/21 -
  XFree86 4.5.99.2</a></h1>

  <ul>
    <li>improve resource files to show how the menubar and popup
    menus can be colored (prompted by report by Joe Wells).</li>

    <li>modify parsing of OSC (and SOS, etc), strings so their
    contents are not interpreted as UTF-8. This allows non-ASCII
    title strings to be set, provided that the window manager
    complies (report by Thomas Wolff).</li>

    <li>improved some of the built-in line-drawing glyphs.</li>

    <li>correct color of "box" character drawn for line-drawing
    glyph 1 (report by Nicolas George).</li>

    <li>improve behavior when switching to UTF-8 mode after startup
    so xterm will check if the current fonts are already wide
    (ISO10646-1). If they are not, xterm will use the
    <code>utf8Fonts</code> subresource to load appropriate fonts
    (request by Bram Moolenaar).</li>

    <li>modify logic for setting title-string so it applies to the
    current widget rather than the vt100 widget.</li>

    <li>modify initialization for wide-bold fontname, to search for
    one if none is given (report by Michael Schroeder).</li>

    <li>add resource <code>mkWidth</code> and command-line option
    <code>-mk_width</code> to control whether xterm uses the
    built-in version of wcwidth().</li>

    <li>add resource settings for minimum/maximum input buffer
    size, and call to <code>sched_yield</code> to improve
    performance with newer Linux kernels (adapted from patch by
    Nicolas George).</li>

    <li>correct computation of width for wide characters with the
    invisible attribute (report by Thomas Wolff).</li>

    <li>modify interaction between <code>+u8</code> and
    <code>locale</code> resource to allow the command-line option
    to override the resource (requested by Thomas Wolff).</li>

    <li>add a limit check for scrolling margins in a one-line
    screen, overlooked in fixes for <a href="#xterm_198">patch
    #198</a> (Debian #297430).</li>

    <li>correct treatment of <code>iconBorderWidth</code> for
    resizing an active-icon, and its description in manpage (Debian
    #296592).</li>

    <li>modify configure script <code>--disable-imake</code> to use
    the script's definitions anyway if it cannot detect imake
    (prompted by FreeBSD bug 77408).</li>

    <li>ignore error in the I/O initialization that tries to set
    the tty to 7-bit input for the case where
    <code>eightBitInput</code> resource is false (Debian
    #298551).</li>

    <li>modify command-processing to accept an optional parameter
    that tells xterm which shell program to use (request by Zdenek
    Sekera).</li>

    <li>add simpler resource <code>keyboardType</code> which, when
    set, overrides the individual keyboard-type resources and
    eliminates the possibility of conflict between them.</li>

    <li>add initialization for <code>scoFunctionKeys</code>
    resource (report by Rick K).</li>

    <li>correct logic of <code>ReallocateBufOffsets()</code> which
    did not copy the content of the old screen buffer to the proper
    location, making a repaint clear after switching to
    wide-character mode (report by Bram Moolenaar):</li>

    <li>implement the remaining pieces to make xterm allocate cells
    for wide-characters when the "UTF-8" menu entry is selected.
    Also, load the UTF-8 font when that menu entry is selected, or
    the escape sequence for UTF-8 mode is received (report by Bram
    Moolenaar):</li>

    <li>add command-line options (<code>-tb</code>,
    <code>+tb</code>) and resource <code>toolBar</code> to allow
    menu/toolbar to disabled or enabled at startup (prompted by
    reports by Joe Wells).</li>

    <li>correct typo in configure script's --enable-dec-locator
    option (report by Bram Moolenaar).</li>
  </ul>

  <h1><a name="xterm_200" id="xterm_200">Patch #200 - 2005/2/6 -
  XFree86 4.4.99.23</a></h1>

  <ul>
    <li>increase color pairs value for xterm-256color and
    xterm-88color to match ncurses, which has an experimental
    option to support this.</li>

    <li>modify ifdef's to make AIX use termios rather than termio;
    the struct sizes for the two were not the same.</li>

    <li>improve CF_WITH_IMAKE_CFLAGS configure macro script for
    OSMAJORVERSION and OSMINORVERSION values, e.g., for Tru64 and
    AIX.</li>

    <li>modify ifdef to define USE_POSIX_TERMIOS for Darwin (patch
    by Min Sik Kim).</li>

    <li>modify find_utmp() to initialize the whole utmpx struct
    (except ut_id), since that is needed for OSF1 4.0D to prevent
    an infinite loop on exit.</li>

    <li>add configure check before adding -D_POSIX_SOURCE since
    some platforms predefine it, e.g., cygwin.</li>

    <li>add simplified sed expressions in CF_IMAKE_CFLAGS configure
    script macro to ensure value for PROJECTROOT is quoted on
    Solaris, i.e., when nested <code>\(</code> and <code>\)</code>
    are not interpreted correctly.</li>

    <li>correct DEC rectangle operations to reset state after
    completing the operations.</li>

    <li>modify CASE_ST handling in charproc.c to ensure that the
    parse state is reset even if xterm is not currently processing
    an OSC or other string (patch by Johnny Billquist forwarded by
    Matthias Scheler, NetBSD xsrc/29003).</li>

    <li>fix OS/2 build for innotek_libc (patch by David Yeo).</li>

    <li>fix a regression from <a href="#xterm_197">patch #197</a>
    fix for Debian #277832 which disowned the selection if it was
    scrolled, e.g., by the user pressing return at the bottom of
    the screen (Debian #291787).</li>

    <li>move the warning/exit for missing $DISPLAY into the error
    handler in case <code>-display</code> is given, and the connect
    fails for some other reason.</li>
  </ul>

  <h1><a name="xterm_199" id="xterm_199">Patch #199 - 2005/1/17 -
  XFree86 4.4.99.22</a></h1>

  <ul>
    <li>instead of setting <code>$DISPLAY</code>, check for the
    unset variable and warn/exit on this condition (comments by H
    Merijn Brand and Bernhard R Link).</li>

    <li>fix a typo in Imakefile from <a href="#xterm_198">patch
    #198</a> (reports/patches by Stefan Dirsch, Mike Castle).</li>
  </ul>

  <h1><a name="xterm_198" id="xterm_198">Patch #198 - 2005/1/13 -
  XFree86 4.4.99.21</a></h1>

  <ul>
    <li>set <code>$DISPLAY</code> to ":0" if it is not set.</li>

    <li>add <code>utmpDisplayId</code> resource to allow users to
    control whether the display identifier (display number and
    screen number) are retained in the connection information
    recorded in utmp (discussion with Edoardo Tirtarahardja).</li>

    <li>add <code>bellOnReset</code> resource to allow users to
    disable bell which sounds on hard reset since <a href=
    "#xterm_183">patch #183</a> changes to DECSCL (discussion with
    Danek Duvall).</li>

    <li>improve <code>$WINDOWID</code> for configuration with
    toolbar by making it refer to the top-level shell rather than
    the parent of the current window. For that case, the parent is
    a form widget, which does not have a name, which made the
    <code>$WINDOWID</code> not very useful as a parameter for
    <code>xwininfo</code> (suggested by Dave Bodenstab).</li>

    <li>fix a typo in WhichVFont() macro from <a href=
    "#xterm_197">patch #197</a> changes which broke the
    --disable-active-icon configuration (report by Ralf S.
    Engelschall).</li>

    <li>improve some limit checks (Gentoo Bugzilla #75604).</li>

    <li>add --disable-setuid option to configure script (Gentoo
    Bugzilla #76543).</li>

    <li>add --disable-full-tgetent option to configure script,
    allowing one to ignore a termcap library in favor of
    ncurses/curses (Gentoo Bugzilla #69926).</li>

    <li>modify configure script to choose useful warning options
    for Intel version 8.0 compiler.</li>

    <li>update config.guess, config.sub</li>

    <li>make active-icon work properly when TrueType fonts are used
    (Debian #286068).</li>

    <li>correct change from <a href="#xterm_157">patch #157</a>
    which uses getlogin() to check for an alias; the storage used
    for the related getpwuid() call was overwritten by the data
    used for comparison (patch by Per Hedeland).</li>

    <li>correct case of SCS for character set 0 (line-drawing) to
    allow it to be selected into GR.</li>

    <li>fix a file-descriptor leak (Redhat Bugzilla #139597).</li>

    <li>modify <code>creat_as()</code> to only fork if xterm is
    actually running as setuid and/or setgid. This works around a
    Cygwin bug which hangs when logging is enabled and makes xterm
    a little faster for systems using interfaces such as utempter
    (report by Al Goodman).</li>

    <li>modify <code>Cleanup()</code> to avoid operations such as X
    calls that might use unsafe functions when it is called by a
    signal handler (report by Michiel Boland).</li>

    <li>fix bugs in <a href="#xterm_191">patch #191</a> and in SRM
    changes from <a href="#xterm_197">patch #197</a> that broke
    DECSET 38: switch to Tek4014 emulation (report by Dave
    Bodenstab).</li>

    <li>fix for manpage escapes (Marc La France).</li>

    <li>improve on IRIX-specific change for Imakefile in XFree86
    CVS versus resize linking against termcap library to reflect
    definitions for USE_TERMCAP in resize.c</li>
  </ul>

  <h1><a name="xterm_197" id="xterm_197">Patch #197 - 2004/11/30 -
  XFree86 4.4.99.19</a></h1>

  <ul>
    <li>modify configure script to remove empty "-DPROJECTROOT="
    definition which resulted unusable values for luit's default
    path.</li>

    <li>update precompose.c based on Unicode 4.0.1</li>

    <li>several minor fixes based on Intel compiler warnings.</li>

    <li>change default translations so a <code>BtnDown</code> which
    is not recognized is simply ignored rather than emitting a
    bell. That makes it less obtrusive when the user tries to use a
    mouse which provides more capabilities than the X mouse driver
    supports, e.g., one with a horizontal scroll wheel (Debian
    #265133).</li>

    <li>note in xterm's manpage that <code>translations</code> is
    not specific to xterm (Debian #278897).</li>

    <li>modify uxterm script to use locale program to verify if the
    derived locale is installed (Debian #246398).</li>

    <li>correct font handling for active icon when in UTF-8 mode
    (report by Paolo Liberatore).</li>

    <li>make active-icon and toolbar configurations work
    together.</li>

    <li>modify the criteria for disowning primary selection.
    Previously, this happened anytime the cursor was moved before
    the end of the selection. That would ensure that any
    insert/delete of char or line, as well as scrolling, would
    disown the selection. The new criteria change this to checking
    if the operations would modify the data which is highlighted
    (Debian #277832).</li>

    <li>reimplement <code>DECALN</code> with functions for vt420
    rectangles, fixes selection for this case.</li>

    <li>implement vt420 rectangle operations.</li>

    <li>add parsing, for debug/test of vt220 soft-fonts.</li>

    <li>add menu entry, actions and escape sequence to allow
    enabling/disabling toolbars at runtime.</li>

    <li>improve rendering for Xft, allow it to draw non-linedrawing
    characters such as "pi", which were drawn from internal tables
    with <a href="#xterm_180">patch #180</a> (Freedesktop.org
    Bugzilla #1260).</li>

    <li>add configure option <code>--enable-mini-luit</code>,
    ifdef'd the mini-luit feature with
    <code>OPT_MINI_LUIT</code>.</li>

    <li>add mini-luit feature, which supports Latin9 directly
    rather than via luit, provided that Unicode fonts are used
    (Freedesktop.org Bugzilla #1571, request by Stefan Dirsch,
    patch by Michael Schroeder).</li>

    <li>for Linux, if IUTF8 is defined, e.g., on recent 2.6.x
    kernels, set the corresponding flag for the slave pty, to
    enable UTF-8 interpretation of backspace in cooked mode
    (Freedesktop.org Bugzilla #1578, request by Stefan
    Dirsch).</li>

    <li>modify <code>faceSize</code> resource to use a
    floating-point internal value (adapted from patch by Sam
    Stephenson).</li>

    <li>correct handling selection of tabs over cleared space in
    UTF-8 mode. In this special case, xterm represents the
    whitespace with a null rather than a space character (Debian
    #276447).</li>

    <li>amend fix for infinite loop from <a href="#xterm_192">patch
    #192</a> to check if there is wrapped text to output in a
    following iteration (Debian #273202).</li>

    <li>fixes ifdef'd with <code>__INTERIX</code> to allow building
    with Interix (Windows Services for UNIX) 3.5 using the xlibs
    libraries from freedesktop.org (patch by Min Sik Kim).</li>

    <li>amend solution for Debian #252873, Debian #260471 from
    <a href="#xterm_194">patch #194</a> by making the cursor not
    explicitly colored if only the foreground color is set, and the
    cursor is on a blank space (Debian #275473).</li>

    <li>correct logic for send/receive mode (SRM) with regard to
    control characters.</li>

    <li>fix masking of invisible text in wide-character mode, which
    did not work for line-drawing characters.</li>

    <li>incorporate CF_XOPEN_SOURCE into configure script,
    replacing CF_GNU_SOURCE.</li>
  </ul>

  <h1><a name="xterm_196" id="xterm_196">Patch #196 - 2004/8/15 -
  XFree86 4.4.99.12</a></h1>

  <ul>
    <li>add a special case to configure script to ignore NetBSD's
    <code>grantpt()</code> which was recently added (but not part
    of a release), until someone is able to ensure that xterm can
    use it (report by Min Sik Kim).</li>

    <li>clear the buffer returned by getutid(). This fixes an
    infinite loop on some platforms introduced in <a href=
    "#xterm_193">patch #193</a> by Debian #256468 fix (report by
    David Ellement).</li>
  </ul>

  <h1><a name="xterm_195" id="xterm_195">Patch #195 - 2004/8/8 -
  XFree86 4.4.99.11</a></h1>

  <ul>
    <li>correct length used for blinking text, make the last column
    blink (patch by Alexander V Lukyanov).</li>

    <li>start changes to make doublesize characters work with
    TrueType fonts (see <a href="#xterm_44">patch #44</a>).</li>

    <li>trim leading/trailing blanks from color resources as done
    for other strings in <a href="#xterm_167">patch #167</a>.</li>

    <li>fixes for <code>showBlinkAsBold</code> resource (report by
    Christoph Berg).</li>
  </ul>

  <h1><a name="xterm_194" id="xterm_194">Patch #194 - 2004/7/27 -
  XFree86 4.4.99.11</a></h1>

  <ul>
    <li>change clearing operations so foreground color attribute is
    not set. Usually this is benign, but in some cases when the
    cursor color is not set explicitly, the cursor would show this
    color (Debian #252873, Debian #260471).</li>

    <li>add extra state (cursor-moved) to guard against deciding
    that the cursor did not require repainting after an indexing
    operation that leaves the cursor in the same location on the
    screen.</li>

    <li>fix a case where a full-screen indexing operation would not
    restore the cursor-busy state.</li>

    <li>fix a repainting bug introduced in <a href=
    "#xterm_180">patch #180</a>: when using a font lacking
    line-drawing characters, a repaint of the screen could skip
    horizontally an extra amount after filling in the missing
    character (reports by Nicolas George, Hans de Goede, Redhat
    Bugzilla #128341).</li>

    <li>rename terminfo fragment "xterm-pc-fkeys" to
    "xterm+pcfkeys" for consistency with ncurses.</li>
  </ul>

  <h1><a name="xterm_193" id="xterm_193">Patch #193 - 2004/7/19 -
  XFree86 4.4.99.10</a></h1>

  <ul>
    <li>fix for wide-character selection from OpenBSD CVS
    (report/patch by Matthieu Herrb).</li>

    <li>modify initialization and cleanup of utmp data to also
    compare the <code>ut_line</code> member (Debian #256468).</li>

    <li>modify check on focus-change to ignore
    <code>FocusOut</code> events generated by
    <code>XGrabKeyboard</code>. This fixes a case where the text
    cursor would act as if focus were lost when selecting the
    "Secure Keyboard" menu option.</li>

    <li>add <code>gen-pc-fkeys.pl</code> script, use that to
    generate terminfo fragment corresponding to the pc-style
    function keys.</li>

    <li>fix a case where the checkmark by the "VT220 Keyboard" menu
    entry was not set on startup.</li>

    <li>separated two methods for making the cursor blink (menu and
    escape sequence) by using the menu as the primary method and
    XOR'ing the state of the escape sequence against that.</li>

    <li>modify logic for enabling blinking cursor via escape
    sequence as well as the related save/restore operations so this
    is only available if the <code>cursorBlink</code> resource was
    set on startup.</li>
  </ul>

  <h1><a name="xterm_192" id="xterm_192">Patch #192 - 2004/7/12 -
  XFree86 4.4.99.9</a></h1>

  <ul>
    <li>change resource settings for color4 and color12, add some
    discussion in <code>XTerm-col.ad</code> (Debian #241717).</li>

    <li>add a note in xterm manpage discussing the difference
    between alt- and meta-keys, and the way the latter is used in
    the <code>eightBitInput</code> resource.</li>

    <li>add a note in xterm manpage regarding possible conflict
    between resource settings for <code>xterm.vt100.font</code> and
    <code>xterm.vt100.utf8Fonts.font</code> (Debian #254650).</li>

    <li>add compile-time customization of
    <code>backarrowKeyIsErase</code> and
    <code>ptyInitialErase</code> default resource values (adapted
    from OpenBSD CVS).</li>

    <li>change parameter of <code>FIONREAD</code>
    <code>ioctl()</code> call from long to int (discussion on
    tech-x11@netbsd.org regarding LP64 by John Heasley and Matthias
    Scheler).</li>

    <li>modify configure script options for Athena widgets to work
    as expected for "--without-Xaw3d", etc., (GenToo Bugzilla
    #53455).</li>

    <li>add case to uxterm to accommodate locales ending with
    "@euro", e.g., fr_FR.UTF-8@euro (Debian #255197,
    report/analysis by Matthieu Lagouge).</li>

    <li>add special case for VT100 graphic's "box" character
    (discussion with Ben Armstrong).</li>

    <li>add missing initialization for bitmap-font sizes needed to
    make fonts menu work with TrueType fonts (report by Ben
    Armstrong).</li>

    <li>save the fontnames for bold fonts that are derived from
    normal fonts, or from the <code>boldFont</code> resource, so
    the same value is restored when switching with the VT Fonts
    menu (Debian #256086).</li>

    <li>fix manpage preprocessing (Marc La France).</li>

    <li>fix typo in manpage's description of character classes
    (Debian #257073).</li>

    <li>modify terminfo to accommodate luit, which relies on G1
    being used via an ISO-2022 escape sequence (Debian #254316,
    analysis by Juliusz Chroboczek).</li>

    <li>modify Makefile.in rule for ctlseqs.txt to work around
    groff SGR misfeature.</li>

    <li>modify <code>XTerm.ad</code> to set <code>saveLines</code>
    default to 1024 (Redhat Bugzilla #127132).</li>

    <li>add a limit-check in <code>dotext()</code> to prevent
    infinite loop in a corner case of UTF-8 configuration.</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_191" id="xterm_191">Patch #191 - 2004/6/6 -
  XFree86 4.4.99.7</a></h1>

  <ul>
    <li>correct options parsing for <code>-into</code> option so it
    can be combined with <code>-e</code> (Redhat Bugzilla #124518,
    report/patch by James Armstrong).</li>

    <li>fix ifdef's for <code>OPT_COLOR_RES2</code> so that the
    fake resource table introduced in <a href="#xterm_188">patch
    #188</a> is not compiled if it is empty. This happened to work
    with gcc (report by Joel Konkle-Parker).</li>

    <li>reorganize ptydata.c to use one input buffer shared between
    the VTxxx and tek4014 emulators. In the new scheme, UTF-8
    decoding is performed on characters as they are needed by the
    state machine rather than on buffers as they are read.</li>

    <li>work around change in quoting of PROJECTROOT symbol when
    using configure script, from changes made in <a href=
    "#xterm_187">patch #187</a> for CF_IMAKE_CFLAGS (GenToo
    Bugzilla #50982).</li>
  </ul>

  <h1><a name="xterm_190" id="xterm_190">Patch #190 - 2004/5/25 -
  XFree86 4.4.99.6</a></h1>

  <ul>
    <li>correct state for values in the range 128-159 after
    translating from UTF-8: this should be ignored unless the user
    overrides it with the <code>allowC1Printable</code> resource
    (reported by Simon Strandgaard).</li>

    <li>add configure-script check for nl_langinfo(CODESET), use
    this to replace check of environment variables for UTF-8.</li>

    <li>change Makefile.in rules for 256colres.h and 88colres.h so
    they are only made if they do not exist. The maintainer-clean
    rule will remove these files; they require perl to be
    made.</li>

    <li>remove check in configure script --enable-toolbar that
    suppressed this option when building with Xaw7.</li>

    <li>apply fixes to Tektronix widget used for VT100 widget to
    make toolbar work with Xaw7 (XFree86 4.x).</li>
  </ul>

  <h1><a name="xterm_189" id="xterm_189">Patch #189 - 2004/5/16 -
  XFree86 4.4.99.6</a></h1>

  <ul>
    <li>do not call xim_real_init() if <code>openIm</code> resource
    is false (Debian #249025).</li>

    <li>minor improvements to built-in line-drawing.</li>

    <li>fix a few portability issues with dynamic abbreviation
    support, i.e., did not compile on Tru64.</li>

    <li>modify constraints in form used to layout toolbar, to work
    with newer Xaw in XFree86 4.x.</li>
  </ul>

  <h1><a name="xterm_188" id="xterm_188">Patch #188 - 2004/5/12 -
  XFree86 4.4.99.6</a></h1>

  <ul>
    <li>correct table entry for DEL in the ground state, which
    marked it as a printable character from <a href=
    "#xterm_171">patch #171</a> (report by D Hugh Redelmeier).</li>

    <li>improve fix in <a href="#xterm_186">patch #186</a> for
    failure in xim_real_init() by adding a sleep.</li>

    <li>fix a typo in os2main.c (XFree86 Bugzilla #1358,
    report/patch by Frank Giessler).</li>

    <li>make escape sequence reporting dynamic colors consistent
    with the logic that sets it; choosing the opposite color when
    reverse video is set (XFree86 Bugzilla #1361, reported by Bradd
    W Szonye).</li>

    <li>modify initialization of 256- and 88-colors so that colors
    beyond 16 are normally not X resources. This works around a
    hard-coded limit in Xt which breaks xterm when 256-colors and
    luit are both configured (report by Noah Friedman).</li>

    <li>remove <code>ncv</code> from <code>xterm-256color</code>
    terminfo entry since it is no longer needed (report by Eli
    Zaretskii).</li>

    <li>add "erase2" and "eol2" keywords to <code>ttyModes</code>
    resource, for recent/current FreeBSD.</li>

    <li>improve ifdef's for utempter library to omit direct calls
    to <code>setutent()</code> or <code>getutent()</code> (adapted
    from patch by Christian Biere).</li>

    <li>add dynamic abbreviation support like Emacs (patch by
    Tomasz Cholewo). This is ifdef'd with <code>OPT_DABBREV</code>,
    and enabled via the configure script
    <code>--enable-dabbrev</code> option.</li>

    <li>fix problem responding to session management events, e.g.,
    which would make logging out very slow (patch by Eddy De Greef,
    Debian #233883).</li>

    <li>work around a newer bug in toolbar with XFree86 by forcing
    menus to be fully initialized at startup. In older versions of
    XFree86 and X11R6, it was possible to delay initialization of
    the menu contents until it was popped up. (The longstanding bug
    with XFree86 4.x layout for toolbar still exists, though).</li>

    <li>modify <code>xtermAddInput</code> to work around core dump
    on IRIX64 when initializing scrollbar translations if toolbar
    is compiled-in.</li>

    <li>fix some minor conflicts in the 2-character entry names in
    the termcap file.</li>
  </ul>

  <h1><a name="xterm_187" id="xterm_187">Patch #187 - 2004/4/27 -
  XFree86 4.4.99.4</a></h1>

  <ul>
    <li>change xterm version string to use
    <code>__vendorversion__</code> where that is available, and
    "XTerm" otherwise.</li>

    <li>improve description of <code>utf8</code> resource in
    manpage (Debian #179407).</li>

    <li>modify configure macros CF_IMAKE_CFLAGS and CF_ADD_CFLAGS
    to handle <code>-D</code> options that define string values,
    e.g., for <code>XVENDORNAME</code>.</li>

    <li>modify configure macro CF_IMAKE_CFLAGS to allow (if
    <code>$PATH</code> is set accordingly) to use the
    <code>xmkmf</code> script within an X build tree.</li>

    <li>add missing <code>#undef OPT_SESSION_MGT</code> to
    xtermcfg.hin to make the configure script's
    --disable-session-mgt option work.</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_186" id="xterm_186">Patch #186 - 2004/4/18 -
  XFree86 4.4.99.4</a></h1>

  <ul>
    <li>change reset on <code>DECSCL</code> to a soft-reset
    (appears some DEC manuals have errors).</li>

    <li>add a section to ctlseqs.ms elaborating on normal/alternate
    screens.</li>

    <li>modify initialization of Acolors[] so that any
    XtDefaultForeground or XtDefaultBackground values are
    translated as in the Tcolors[], to use the window's
    foreground/background colors. This affects the
    <code>colorBD</code> and similar resources which normally have
    no explicit color assigned.</li>

    <li>modify initialization of Tektronix window so that control
    sequences setting its color before the window is popped up will
    apply to its initial colors.</li>

    <li>add control sequence to set Tektronix window's
    text-cursor.</li>

    <li>modify initialization of terminal colors, e.g., mouse
    pointer and text cursor, to treat
    <code>XtDefaultForeground</code> and
    <code>XtDefaultBackground</code> values as the actual
    foreground and background colors of the terminal rather than
    white and black (Debian #241717).</li>

    <li>remove an incorrect comparison against
    <code>PTYCHARLEN</code> in parsing the <code>-S</code> option
    (report by Michael B Taylor).</li>

    <li>minor restructuring of terminfo/termcap files, having noted
    some packager's customizations which caused the structure to be
    confused.</li>

    <li>eliminate an isolated use of MIN/MAX in charproc.c</li>

    <li>replace <code>XtExtdefaultfont</code> and
    <code>XtExtdefaultbackground</code> by their more familiar
    equivalents <code>XtDefaultFont</code> and
    <code>XtDefaultBackground</code>.</li>

    <li>replace ifdef's using <code>SCO</code>, <code>sco</code>
    and <code>SCO325</code> with <code>__SCO__</code> (XFree86
    Bugzilla #1301, Kean Johnston). But ensure that it still builds
    on platforms where this symbol is not defined.</li>

    <li>add <code>scoFunctionKeys</code> resource, to match
    manpage.</li>

    <li>update manpage discussion of menus and related
    resources.</li>

    <li>enable utmpx support for NetBSD 1.6C and newer (patch by
    Matthias Scheler).</li>

    <li>add a note in the manpage discussing xterm's treatment of
    open file-descriptors (request by Dan Shearer).</li>

    <li>modify <code>Help()</code> to make "xterm -h" write to
    standard output rather than standard error (patch by Bram
    Moolenaar).</li>

    <li>check for type of failure in xim_real_init() to avoid
    looping when the problem is an unsupported input method rather
    than a failure to connect to the XIM server. Problem was
    introduced in <a href="#xterm_175">patch #175</a> (XFree86
    Bugzilla #1306).</li>

    <li>modify <code>Imakefile</code> to remove dependency of
    "install" target on the <code>xterm</code> executable to make
    installs from tree without attempting to rebuild anything
    (commit by David Dawes, report/patch from Lee Olsen).</li>

    <li>remove call to <code>ShowCursor</code> from
    <code>SetCursorBlink()</code> since that is redundant, and can
    cause display glitches if the cursor is already blinking
    (XFree86 Bugzilla #1158, patch/report by Andreas Schwab).</li>
  </ul>

  <h1><a name="xterm_185" id="xterm_185">Patch #185 - 2004/3/3 -
  XFree86 4.4</a></h1>

  <ul>
    <li>fix tcap-query logic for the backspace key (XFree86
    Bugzilla #1233, report/patch by Anton Kovalenko).</li>

    <li>add test-scripts resize.pl and tcapquery.pl</li>

    <li>add translation to ASCII of commonly-used characters that
    groff translates to Unicode, when the font in use does not
    provide the corresponding glyphs (Debian #219551).</li>

    <li>modify RequestMaximize(), which performs maximize/restore
    via control sequences, to account for window-frame (patch by
    Jess Thrysoee).</li>

    <li>improve pattern used in <code>uxterm</code> to check for
    UTF-8 locale, e.g., for HPUX (patch by H Merijn Brand).</li>

    <li>add <code>-fd</code> option and resource
    <code>faceNameDoublesize</code> to specify double-wide fonts
    with Xft (adapted from patch by Zarick Lau).</li>

    <li>change a couple of resource classes from "Boolean" to
    specific values: <code>freeBoldBox</code>,
    <code>forceBoxChars</code>.</li>

    <li>add resource <code>showMissingGlyphs</code> to outline
    places on the screen where a font lacks the corresponding
    glyph.</li>

    <li>add resource <code>showBlinkAsBold</code> to control
    whether blinking text should be shown as bold or actual
    blinking text.</li>

    <li>improve logic in ShowCursor() to avoid repainting the
    cursor when it is already visible, e.g., in response to the
    DECTCEM escape sequence. This also addresses XFree86 Bugzilla
    #1158.</li>

    <li>implement blinking text, using the timer for blinking
    cursor.</li>

    <li>modify FreeType support to allow resizing the font, in the
    same ways the window can be resized if fixed fonts are used.
    The relative font sizes are derived from the fixed font
    sizes.</li>

    <li>add menu items and corresponding actions for switching
    on/off the UTF-8 mode and Xft (TrueType) support.</li>

    <li>add logic to handle switching UTF-8 mode on/off. It worked
    if the escape sequences were flushed, but if data was mixed in
    with the same write, some were not handled properly (report by
    Nicolas George).</li>

    <li>modify to allow turning UTF-8 mode on/off via escape
    sequence even if <code>-wc</code> option was not given at
    startup (patch by Peter Berg Larsen).</li>

    <li>amend fix for XFree86 Bugzilla #981, adjusting for
    savedlines value (report by Tim Adye).</li>

    <li>fix a typo in computing relative font size (Jess
    Thrysoee).</li>
  </ul>

  <h1><a name="xterm_184" id="xterm_184">Patch #184 - 2003/12/31 -
  XFree86 4.3.99.903</a></h1>

  <ul>
    <li>improve configure-script checks for FreeType and related
    libraries, using <code>xft-config</code> or
    <code>freetype-config</code> scripts when available.</li>

    <li>fix configure-script check for <code>SYSV</code> definition
    by ensuring whether <code>sys_errlist[]</code> is declared, and
    by modifying the test program to include
    <code>X11/Intrinsic.h</code> to check that <code>wchar_t</code>
    is declared consistently (report by H Merijn Brand).</li>
  </ul>

  <h1><a name="xterm_183" id="xterm_183">Patch #183 - 2003/12/26 -
  XFree86 4.3.99.903</a></h1>

  <ul>
    <li>correct logic for configurations that may attempt to open
    both old/new-style pseudoterminals. In this case, the old-style
    are preferred. Logic was broken in <a href="#xterm_145">patch
    #145</a> (XFree86 Bugzilla #997, report/patch by Kean
    Johnston).</li>

    <li>modify handling of <code>eightBitInput</code> resource in
    UTF-8 mode to translate the value into UTF-8. Otherwise an
    illegal UTF-8 code is sent to the application (report by Bram
    Moolenaar).</li>

    <li>modify <code>uxterm</code> script to interpret help and
    version options so xterm does not always create a window when
    the user requests this information (Debian #223926).</li>

    <li>add a limit check to ScrnTstWrapped() (XFree86 Bugzilla
    #981).</li>

    <li>modify DECSCL to perform a hard reset (RIS) as per DEC
    manuals. Extended DECSCL to accept parameters for vt4XX and
    vt5xx terminals.</li>

    <li>correct logic for ANSI conformance level escape sequences,
    which were confused with DEC conformance level escape
    sequences.</li>

    <li>correct state for vt52 shift-in/shift-out, which was not
    reset properly after <a href="#xterm_171">patch #171</a>.</li>

    <li>correct handling of graphics characters for vt52 mode,
    which did not display line-drawing characters after G1 fix from
    <a href="#xterm_182">patch #182</a>.</li>

    <li>fixes for configure script to work with current Cygwin
    headers and libraries.</li>

    <li>modify <code>Imakefile</code> to put the current directory
    at the beginning of the include searchpath (patch by David
    Dawes).</li>
  </ul>

  <h1><a name="xterm_182" id="xterm_182">Patch #182 - 2003/12/2 -
  XFree86 4.3.99.901</a></h1>

  <ul>
    <li>correct logic for <code>metaSendsEscape</code> resource to
    allow for the meta-right key to be tested. Improve check for
    meta/alt modifiers by dropping the assumption that a keysym is
    associated with only one modifier, and by ignoring NoSymbol
    entries in the xmodmap data (XFree86 Bugzilla #924, patch by
    David Dawes).</li>

    <li>correct wrapping logic for line-drawing characters written
    in non-UTF-8 mode of xterm build for wide-characters (XFree86
    Bugzilla #918, report/patch by J&uuml;rgen Keil).</li>

    <li>improve manpage description of resources, in particular the
    <code>utf8Fonts</code> class (XFree86 Bugzilla #905).</li>

    <li>add definitions to compile with glibc-based GNU/Hurd,
    GNU/KFreeBSD and GNU/KNetBSD (XFree86 Bugzilla #893).</li>

    <li>compiler-warning fixes (patch by Christian Biere).</li>

    <li>add README.i18n (Tomohiro Kubota).</li>

    <li>correct initialization of G1 character set mapping, which
    used line-drawing set as a result of confusion between "DEC
    Supplemental Graphic" and "DEC Special Graphic" character sets
    (see <a href="#xterm_34">patch #34</a> regarding DECSTR).</li>

    <li>correct ifdef in main.c for variable utret (patch by
    Bernhard Rosenkraenzer).</li>

    <li>document in xterm's manpage how to use XFree86 ":unscaled"
    keyword to suppress scaling of bold fonts.</li>

    <li>when deriving bold fontname from normal fontname, use the
    normal font's average width to avoid for example selecting
    7x13bold from an 8x13 normal font (Debian #107769).</li>
  </ul>

  <h1><a name="xterm_181" id="xterm_181">Patch #181 - 2003/10/26 -
  XFree86 4.3.99.15</a></h1>

  <ul>
    <li>implement <code>boldMode</code> for wide-character logic in
    <code>drawXtermText()</code> (report by Michael
    Schroeder).</li>

    <li>modify <code>UXTerm.ad</code> resource file to include
    "XTerm-color" rather than "XTerm", in case the latter file
    contains no color resource definitions, e.g., after <a href=
    "#xterm_180">patch #180</a>.</li>

    <li>add action <code>load-vt-fonts()</code> and configure
    option <code>--enable-load-vt-fonts</code> which allows users
    to define additional sets of VT-fonts which can be loaded at
    runtime.</li>

    <li>add logic to wide-character support which attempts to load
    fonts specified by <code>utf8Fonts</code> subresources at
    startup. The subresources have the same names as the fonts
    which they replace, e.g., <code>font</code>,
    <code>font1</code>, etc., so that the ISO-10646-1 fonts can be
    specified in the <code>XTerm</code> app-defaults file (adapted
    from patch by Tomohiro Kubota).</li>

    <li>improve Set Font escape string handling by making the
    relative settings apply to the size of the font, as in shift
    keypad plus/minus rather than the menu index.</li>

    <li>simplify parameter passing for the <code>set-vt-font</code>
    action and related code.</li>

    <li>cleanup some include-ordering, moving some recently-added
    hardcoded stuff into xterm.h where it will not interfere with
    the configure script.</li>

    <li>modify <code>xtermAddInput()</code> (see note on
    augmentation in <a href="#xterm_158">patch #158</a>) to use the
    complete set of default keyboard translations so that one can
    use shifted pageup, wheel mouse, etc., while the mouse pointer
    is over the scrollbar. (Debian #178812).</li>

    <li>make save/restore mode controls apply to show/blink cursor
    states.</li>

    <li>add escape sequence to start/stop blinking cursor, which
    allows implementing <code>cvvis</code> terminfo capability
    (request by Nate Bargmann).</li>

    <li>add <code>indp</code> and <code>rin</code> to terminfo
    entry.</li>

    <li>fix an out-of-bounds array reference in ScrnRefresh() for
    wide characters (report by Dan Harnett, patch by Todd Miller).
    This bug dates from <a href="#xterm_141">patch #141</a>.</li>
  </ul>

  <h1><a name="xterm_180" id="xterm_180">Patch #180 - 2003/10/12 -
  XFree86 4.3.99.15</a></h1>

  <ul>
    <li>several fixes for rendering using Xft via option
    <code>-fa</code>:

      <ul>
        <li>translate Unicode values, i.e,. from UTF-8 output to
        xterm, for line-drawing to xterm's internal code, etc.,
        since TrueType fonts generally do not have either set of
        line-drawing glyphs. xterm can draw these directly (report
        by Abigail Brady).</li>

        <li>pass 16-bit values rather than 8-bit values to
        xtermXftDrawString() to allow for wide-characters.</li>

        <li>remove spurious check for <code>colorBDMode</code>
        resource in logic that does bold fonts.</li>

        <li>implement underlining.</li>
      </ul>
    </li>

    <li>patches by Ilya Zakharevich:

      <ul>
        <li>improve drawXtermText() by making the recursive calls
        communicate through arguments, and not through
        saving/restoring global variables.</li>

        <li>make double-width characters work with <code>-u8</code>
        option.</li>

        <li>modify lookup of double-sized fonts by checking for a
        match ignoring x/y resolution if the first check
        fails.</li>
      </ul>
    </li>

    <li>make height of TrueType fonts match ascent+descent (patch
    by Keith Packard).</li>

    <li>correct configure-script check for imake $CFLAGS, which did
    not check properly if imake was not available.</li>

    <li>correct install rule in Makefile.in for
    <code>uxterm</code>, which was attempting to strip the script
    (newsgroup posting by Fernan Aguero).</li>

    <li>correct AF/AB strings in termcap for xterm-256color and
    xterm-88color entries (report by Josh Howard).</li>

    <li>update wcwidth.c to incorporate changes from Markus Kuhn's
    2003-05-20 (Unicode 4.0) version of that file.</li>

    <li>modify <code>scroll-back</code> and
    <code>scroll-forw</code> actions to accept an adjustment value,
    e.g.,
      <pre>
              <code>scroll-back(1, page-2)</code>
</pre>to scroll back by 2 lines less than a page (patch by Greg
Klanderman).
    </li>

    <li>use color resource setting from Debian package for xterm
    VT100 widget, since the choice of blues provides better
    contrast.</li>

    <li>remove color resources from <code>XTerm.ad</code>, leaving
    them only in <code>XTerm-col.ad</code> (prompted by Debian
    package for xterm).</li>

    <li>correct configure script option --enable-pty-handshake
    (report by Paul Gilmartin).</li>

    <li>add <code>visualBellDelay</code> resource to modify the
    length of time used for visual bell, for very slow displays or
    very fast computers (reports by Ingo van Lil and Doug
    Toppin).</li>

    <li>correct logic for initializing dynamic highlight color
    (patch by Jess Thrysoee).</li>

    <li>add a check for non-zero size in call to
    <code>XCopyArea()</code> to accommodate a Solaris bug.</li>

    <li>correct typo in example for character classes in xterm
    manpage (Debian #198910).</li>

    <li>link xterm with bind_on_load option on Darwin to work
    around a deadlock in the dynamic loader when a signal is
    received while the dynamic loader is looking up symbols
    (patches by Rob Braun, Torrey Lyons).</li>

    <li>modify configure script to avoid using "head -1".</li>

    <li>update config.guess, config.sub</li>

    <li>modify ifdef's to work around inclusion of types FcChar32
    and XftCharSpec with FreeType 2.0 (see <a href=
    "#xterm_175">patch #175</a>).</li>

    <li>modify the predictable version of the generated logfile
    name (see <a href="#xterm_171">patch #171</a>) to append the
    process-id rather than a random value.</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>Enable SCO function keys in xterm</li>

        <li>Make Delete key send DEL by default on SCO in
        xterm</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_179" id="xterm_179">Patch #179 - 2003/5/21 -
  XFree86 4.3.99.5</a></h1>

  <ul>
    <li>modify ifdef's for WTMPX_FILE to allow building on cygwin
    again.</li>

    <li>change the default of pty-handshaking configure option (and
    related default for imake) to assume this feature is
    needed.</li>

    <li>add ifdef's so configure option for XawPlus library works
    (patch by Pavel Roskin).</li>

    <li>add <code>$(MAIN_DEFINES)</code> to the variables checked
    by the configure script that may contain information set by
    imake. This allows xterm to build/run properly using the
    configure script on IRIX64.</li>

    <li>add configure check for ".exe" suffix on cygwin.</li>
  </ul>

  <h1><a name="xterm_178" id="xterm_178">Patch #178 - 2003/5/18 -
  XFree86 4.3.99.5</a></h1>

  <ul>
    <li>modify default for configure
    <code>--enable-pty-handshake</code> option to enable it for
    Solaris (report by Nelson Beebe).</li>

    <li>modify <code>in_put()</code> function to call
    <code>PreeditPosition()</code> only when the cursor's position
    has changed. This addresses report by Stefan Baums of high CPU
    usage while xterm with chinput are running in the background
    (patch by Yong Li).</li>

    <li>improved explanation of <code>-ls</code> conflict with
    <code>-e</code> option in xterm manpage (adapted from comments
    by Henning Makholm).</li>

    <li>correct comment in terminfo file regarding modifier used
    for <code>kDC</code> (Debian #189764, report by Henning
    Makholm).</li>

    <li>correct/extend some of the keypad description in ctlseqs.ms
    (report by Henning Makholm).</li>

    <li>correct keypad-mapping table in input.c so
    <code>XK_KP_Equal</code> works (report by Henning
    Makholm).</li>

    <li>modified to work with CJK double-width (bi-width/monospace)
    fonts. They're similar to Roman Czbora and David Starner's
    gnuunifonts in that Latin letters and numbers have all the same
    width which is exactly the half of the width of East Asian
    characters. (patch by Jungshik Shin
    &lt;jshin@mailaps.org&gt;).</li>

    <li>add configure option <code>--enable-broken-osc</code> and
    resource <code>brokenLinuxOSC</code> to accommodate scripts
    which do not distinguish between running in the Linux console
    and running in X. Linux console recognizes malformed control
    strings which start with an <code>OSC</code>, but are
    fixed-length, with no terminator.</li>

    <li>add configure option <code>--enable-broken-st</code> and
    resource <code>brokenStringTerm</code> to allow user to revert
    one part of the parsing table corrections from <a href=
    "#xterm_171">patch #171</a>. (reports by Matthias Scheler and
    Kirill Ponomarew indicate that someone's network firmware sends
    an <code>&lt;escape&gt;X</code>).</li>

    <li>modify configure <code>--disable-imake</code> to provide
    values for <code>OSMAJORVERSION</code>,
    <code>OSMINORVERSION</code>, <code>FUNCPROTO</code> and
    <code>NARROWPROTO</code> (report by Heiko Schlichting).</li>

    <li>correct <code>vttests/16colors.sh</code>, which omitted the
    <code>$SUF</code> variable in output strings (patch by Paul
    Gilmartin).</li>

    <li>modify shell scripts in <code>vttests</code> directory to
    attempt to use named signals in the <code>trap</code>
    statement, making this portable to OS/390 (report by Paul
    Gilmartin). Tested on SunOS 4.1.4, which implements only
    numbers.</li>
  </ul>

  <h1><a name="xterm_177" id="xterm_177">Patch #177 - 2003/3/23 -
  XFree86 4.3.0</a></h1>

  <ul>
    <li>fix definition of <code>USE_HANDSHAKE</code>, must be
    numeric (reported by Jens Schleusener).</li>
  </ul>

  <h1><a name="xterm_176" id="xterm_176">Patch #176 - 2003/3/22 -
  XFree86 4.3.0</a></h1>

  <ul>
    <li>add configure option <code>--enable-pty-handshake</code> to
    allow one to compile-in support for the pty handshaking logic,
    and resource <code>ptyHandshake</code> to enable or disable it
    (suggested by Ian Collier).</li>

    <li>restore <code>USE_HANDSHAKE</code> ifdef removed in
    <a href="#xterm_159">patch #159</a> to address Debian
    #39964.</li>

    <li>move ifdef's for ttysize/winsize into xterm_io.h</li>

    <li>simplify loop on <code>tgetent</code>, check if the
    successive entries in the lookup table are the same. That makes
    xterm do one less lookup if there is no "xterm" entry in the
    termcap file (report by Derek Martin).</li>

    <li>correct manpage discussion of <code>$TERM</code> and
    <code>$TERMCAP</code> variables, which omitted the Tektronix
    emulation and a note of the final "dumb" fallback.</li>

    <li>broaden ifdef for
    <code>XRegisterIMInstantiateCallback()</code> from <a href=
    "#xterm_175">patch #175</a> (XIM fix) to exclude non-XFree86
    (report by Nelson Beebe indicates this breaks for Solaris, IRIX
    and OSF/1).</li>

    <li>correct resource-size for <code>iconFont</code> (this was
    added by X11R6.3).</li>

    <li>improve configure check for XKB bell extension, to work
    around inconsistent implementation of this feature (reports by
    Nelson Beebe, Kriston Rehberg and David Ellement).</li>

    <li>modify configure-check for <code>tty</code> group to be
    less strict in batch mode (report by Nelson Beebe).</li>

    <li>modify to allow building with g++, to use its compiler
    warnings (suggested by Nelson Beebe).</li>

    <li>modify <code>dec2ucs[]</code> table to reflect newer codes
    available for scanlines 1, 3, 7, 9 (report by Michael
    Schroeder).</li>

    <li>add configure option for XawPlus library.</li>
  </ul>

  <h1><a name="xterm_175" id="xterm_175">Patch #175 - 2003/3/9 -
  XFree86 4.3.0</a></h1>

  <ul>
    <li>fix a SIGSEGV which could occur if xterm is connecting to
    XIM server, and the XIM server is destroyed (patch by Nam
    SungHyun).</li>

    <li>modify to use built-in line-drawing characters for Xft
    fonts (patch by Andrew Tipton).</li>

    <li>make menu reflect the state of the <code>tekInhibit</code>
    resource.</li>

    <li>make <code>signalInhibit</code> resource work, i.e.,
    disable the menu entries that would send signals to, or exit
    xterm. This was probably broken in X11R5 when logging was
    disabled (report by Sven Mascheck).</li>

    <li>changed classes of <code>colorBDMode</code> and similar
    resources that override colors when a video attribute is set to
    <code>ColorAttrMode</code>, to make them distinct from
    <code>ColorMode</code>. This avoids an unexpected rendering of
    reverse video, for example (report by Paul Fox).</li>

    <li>changed class of <code>veryBoldColors</code> to
    <code>VeryBoldColors</code>, since <code>ColorMode</code> is
    associated with boolean resources.</li>

    <li>add option <code>-k8</code> and resource
    <code>allowC1Printable</code> to allow users of non-VTxxx
    character sets such as KOI-8 to treat the C1 control area
    (character codes 128-159) as printable rather than control
    characters.</li>

    <li>add a null-pointer check for return-value of
    <code>ptsname()</code> in HPUX-specific code (report by David
    Ellement).</li>

    <li>revise the ifdef's used for <code>XKB</code> bell support.
    The code was using a nonstandard call
    <code>XkbStdBell()</code>. Changed to use
    <code>XkbBell()</code> (based on patch by
    &lt;derek@signalmarketing.com&gt;).</li>

    <li>add a null-pointer check in <code>xtermLoadFont()</code> in
    case there is no wide-bold font (Nam SungHyun).</li>

    <li>change <code>Makefile.in</code> to use autoconf's
    <code>bindir</code>, <code>libdir</code> and
    <code>mandir</code> variables (report by Nam SungHyun).</li>

    <li>add <code>le</code> to termcap <code>xterm-basic</code>
    entry. Though missing from older termcaps for xterm, some
    applications check for it (report by Matthias Buelow).</li>

    <li>modify <code>uxterm</code> script to strip modifiers such
    as "@euro" from the locale setting before adding ".UTF-8"
    (Debian #179929).</li>

    <li>modify the remaining places where tek4014 emulation uses
    <code>XDefineCursor()</code>, to make it work as originally
    implemented, e.g., when switching back to alpha mode. Added
    test-screen in vttest to test this feature properly.</li>
  </ul>

  <h1><a name="xterm_174" id="xterm_174">Patch #174 - 2003/2/25 -
  XFree86 4.2.99.903</a></h1>

  <ul>
    <li>work-around for XFree86 bug which made
    <code>XDefineCursor()</code> on a shell-window no longer work.
    The tek4014 emulation used this. Use the next lower window
    (report by Karl Rudolf Bauchspiess).</li>

    <li>add a resource setting <code>allowWindowOps</code> to
    control whether the extended window operations should be
    allowed, e.g., resize, iconify, report window attributes. This
    is to accommodate people who are not capable of using a pager
    to view log-files.</li>
  </ul>

  <h1><a name="xterm_173" id="xterm_173">Patch #173 - 2003/2/6 -
  XFree86 4.2.99.902</a></h1>

  <ul>
    <li>reset mouse mode to normal on a full reset. This does not
    apply to mouse hilite tracking mode, of course (see
    ctlseqs.ms).</li>

    <li>add a time-delay at the point where mouse hilite tracking
    mode choses to not handle X events, to avoid runaway CPU usage
    (report by D Hugh Redelmeier).</li>

    <li>check for illegal character in DECUDK string, quit if
    detected.</li>
  </ul>

  <h1><a name="xterm_172" id="xterm_172">Patch #172 - 2002/12/27 -
  XFree86 4.2.99.3</a></h1>

  <ul>
    <li>fixes to make repainting of 256-color example work properly
    (reports by Abigail Brady and Scott A Crosby).

      <ul>
        <li>set flag in <code>AllocateAnsiColor()</code> to ensure
        the color is allocated once only.</li>

        <li>fix check in <code>ScrnRefresh</code>, which was
        comparing background colors only if the ANSI foreground
        colors also were set.</li>
      </ul>
    </li>

    <li>merge <code>Error()</code> calls and some
    <code>exit()</code> calls into <code>SysError()</code>, and
    change that to add the brief explanation for each error code
    which is provided in the manpage. Change a few
    <code>SysError()</code>, calls to avoid using code 1, to avoid
    confusion with exit status from places that do not use
    <code>SysError()</code>.</li>

    <li>simplify logic used to open a debug logfile as the standard
    error.</li>

    <li>modify the <code>-e</code> option so that if it fails,
    xterm will check if only one argument follows, e.g., it was
    quoted, and then retry using <code>sh&nbsp;-c</code>.</li>

    <li>modify parsing of DECUDK string parameter to allow a comma
    between pairs of hexadecimal digits (Ray Neuman
    &lt;raymond@one.com.au&gt; reports that "real" terminals accept
    this; perhaps they simply ignore unexpected characters).</li>

    <li>fix a few problems with the <code>$TERMCAP</code> string
    generated by <code>resize</code>:

      <ul>
        <li>for Bourne shell, add an <code>export</code> command.
        This was missing as far back as X11R5.</li>

        <li>escape exclamation marks, used in xterm's reset
        string.</li>

        <li>translate literal <code>\177\</code> to "^?".</li>
      </ul>
    </li>

    <li>improve configure check for <code>tgetent()</code> to work
    when <code>$TERMCAP</code> has been set to a specific
    entry.</li>

    <li>modify <code>minstall.sh</code> to use "%" rather than "@",
    to avoid problems with AFS (report by Zdenek Sekera).</li>

    <li>list fatal error codes from <code>error.h</code> in the
    manpage, remove unused codes in <code>error.h</code>.</li>

    <li>use more explicit wording for manpage list of color
    resources, since at least one user confused the generic names
    such as "black" with the names in rgb.txt (the latter are now
    used).</li>

    <li>minor fix to description of 1003 mouse mode in ctlseqs.ms
    (Larry Riedel).</li>
  </ul>

  <h1><a name="xterm_171" id="xterm_171">Patch #171 - 2002/12/12 -
  XFree86 4.2.99.3</a></h1>

  <ul>
    <li>modify parser tables to improve detection of malformed
    control sequences, making xterm behave more like a real DEC
    terminal (patch by Paul Williams).</li>

    <li>update comment in <code>input.c</code> to document
    <code>Meta</code> as a modifier for escape sequences (patch by
    D Roland Walker).</li>

    <li>add ifdef'd code for logging option which adds the hostname
    and a timestamp to the generated logfile name. The ifdef's are
    setup with the configure script (patch by Nelson Beebe).</li>

    <li>remove <code>xevents()</code> call from the end of
    <code>BlinkCursor()</code>, to fix an occasional problem which
    caused xterm to pause until a key was pressed. The reason for
    this was that there was no check to ensure that there really
    were events for <code>xevents()</code> to process. (patch by
    Semen A Ustimenko &lt;semenu@FreeBSD.org&gt;).</li>

    <li>remove unused mode-params from <code>open()</code> calls
    that do not create a file.</li>

    <li>modify configure script to put new items first on
    <code>$CPPFLAGS</code> and <code>$CFLAGS</code> to avoid
    conflict with environment's <em>-I</em> and <em>-D</em>
    options.</li>

    <li>update config.guess, config.sub</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>fix va_args glitches for xterm/libfontconfig: 0 ==
        (void*)0 isn't true for all platforms (Egbert Eich).</li>

        <li>initialise ProgramName in xterm's main before
        referencing it (XFree86 #5473, Peter Valchev).</li>

        <li>some cleanup of Imakefile ifdef's (Marc La
        France).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_170" id="xterm_170">Patch #170 - 2002/10/13 -
  XFree86 4.2.1</a></h1>

  <ul>
    <li>correct an off-by-one allocating data for sorted help
    message.</li>

    <li>modify configure script to check for Xpm library, on which
    XFree86 Xaw library depends.</li>

    <li>update config.guess, config.sub</li>
  </ul>

  <h1><a name="xterm_169" id="xterm_169">Patch #169 - 2002/10/5 -
  XFree86 4.2.1</a></h1>

  <ul>
    <li>modify wording of some options in help message to make them
    use <code>-/+</code> consistently with respect to "on/off" or
    "off/on".</li>

    <li>sort options list which is displayed in help- and
    syntax-messages at runtime to simplify maintenance.</li>

    <li>remove support for Amoeba and Minix (Juliusz Chroboczek
    noted it was removed from XFree86 server; there have been no
    users since 1996).</li>

    <li>add configure script option
    <code>--disable-session-mgt</code> to control whether the
    session management code should be compiled-in (request by H
    Merijn Brand).</li>

    <li>ifdef'd the session-management changes with
    <code>OPT_SESSION_MGT</code>, to accommodate X11R5 which
    predates the related definitions.</li>

    <li>fix <code>decode_keyvalue()</code>, which did not properly
    parse multiple settings as needed for the <code>ttyModes</code>
    resource, since it did not skip over the parsed data.</li>

    <li>fix an option-parsing conflict between <code>-class</code>
    and <code>-cjk_width</code> (Nam SungHyun)</li>

    <li>add a missing null in <code>XtVaSetValues()</code> call
    used in <code>Cleanup()</code> (Nam SungHyun)</li>
  </ul>

  <h1><a name="xterm_168" id="xterm_168">Patch #168 - 2002/9/29 -
  XFree86 4.2.1</a></h1>

  <ul>
    <li>improve data reported for control sequence that requests
    window position by taking into account the window decorations,
    e.g., border and title (patch by Jess Thrysoee
    &lt;jess@thrysoee.dk&gt;).</li>

    <li>add <code>-cjk_width</code> and corresponding resource
    <code>cjkWidth</code> (patch by Jungshik Shin
    &lt;jshin@mailaps.org&gt;).</li>

    <li>add <code>-into</code> option, for embedding xterm in a
    Tcl/Tk application (patch by George Peter Staplin
    &lt;georgeps@xmission.com&gt;).</li>

    <li>add simple session management (XSM) client capabilities to
    xterm. So a session manager such as, e.g., xsm, should be able
    to respawn or kill xterms without the help of an SM proxy (like
    smproxy), which is a hack and almost always buggy (patch by
    David Madore).</li>

    <li>fix conflict between ifdef's for
    <code>OPT_DEC_LOCATOR</code> and <code>OPT_READLINE</code> in
    button.c (reported by Ilya Zakharevich).</li>

    <li>fix for inconsistent use of <code>struct utmp</code> versus
    <code>struct utmpx</code> introduced in <a href=
    "#xterm_167">patch #167</a> (patches by Paul Gilmartin, Marc La
    France).</li>

    <li>modify logic for <code>metaSendsEscape</code> to allow it
    to work in a setup where the Meta-key is not recognized as a
    modifier by the key-translations logic (discussion of
    eightBitInput with H.J.Lu). Note however that Vincent Lefevre
    reported this in January).</li>

    <li>use null pointer values consistently, rather than literal
    "0", for ending variable-length argument lists, e.g., for
    <code>execlp()</code> (based on patch by Matthieu Herrb).</li>

    <li>correct logic of <code>ChangeAnsiColorRequest()</code>,
    which would do a screen repaint after replying to a request for
    information.</li>

    <li>improve scripts in vttests to work with systems whose
    shells support <code>echo -n</code> and have, as does Debian,
    an unrelated <code>print</code> utility.</li>

    <li>add vttests/acolors.sh to demonstrate OSC 4, which queries
    or sets ANSI colors.</li>

    <li>fixes for ctlseqs.ms (Pavel Roskin, Ilya Zakharevich).</li>

    <li>typos in xterm manpage (Jens Schweikhardt)</li>

    <li>remove a redundant GCC_UNUSED from InitPopup() (Nam
    SungHyun)</li>
  </ul>

  <h1><a name="xterm_167" id="xterm_167">Patch #167 - 2002/8/24 -
  XFree86 4.2.0</a></h1>

  <ul>
    <li>correct ifdef's for <code>USE_TERMCAP</code> to match
    cygwin configuration.</li>

    <li>fix several places in ctlseqs.ms which had no boxes around
    the literal text (report by Ilya Zakharevich).</li>

    <li>extend mouse support for readline, ifdef'd with
    OPT_READLINE (integrated patch from Ilya Zakharevich).</li>

    <li>modify terminfo description to match default for
    <code>modifyCursorKeys</code> resource.</li>

    <li>add <code>modifyCursorKeys</code> resource to control how
    the shift- and similar modifiers are used to make a cursor
    escape sequence. The default makes a modified escape sequence
    always start with CSI and puts the modifier as the second
    parameter, to avoid confusing applications that would interpret
    the first parameter as a repeat count. The original behavior
    can be obtained by setting the resource to 0 (newsgroup
    discussion with Stephen J Turnbull, Jeffrey Altman).</li>

    <li>correct missing initializations for
    <code>appdefaultCursor</code> and <code>appdefaultKeypad</code>
    resources.</li>

    <li>add configure option <code>--enable-luit</code> and ifdef'd
    the luit-related code with OPT_LUIT_PROG.</li>

    <li>modify xterm to invoke luit (integrated patch by Tomohiro
    Kubota)</li>

    <li>update wcwidth.c to match Markus Kuhn's 2002-05-18
    version.</li>

    <li>correct limit-checking in <code>ComputeSelect()</code> to
    handle selections that extend off the visible area; rather than
    modify the parameters to <code>TrackText()</code>, use
    <code>ScrollSelection()</code> to update the highlighting
    limits. (reported by Yegappan Lakshmanan and Nelson Beebe,
    patch by Alexander V Lukyanov).</li>

    <li>correct manpage description of <code>tiXtraScroll</code>
    resource (reported by Tony Finch).</li>

    <li>changes from OpenBSD:

      <ul>
        <li>Make xterm setgid utmp to be able to update utmp even
        with root privileges revoked.</li>

        <li>If not updating utmp, revoke group privileges totally
        too.</li>
      </ul>
    </li>

    <li>changes from NetBSD:

      <ul>
        <li>Check that the return value from ttyslot() is greater
        than 0 before writing the utmp file. Fixes w's "w: Stale
        utmp entry: &lt;user&gt; &lt;tty&gt; &lt;pty&gt;"
        errors.</li>

        <li>Use openpty() to deal with new pty naming scheme.</li>
      </ul>
    </li>

    <li>add <code>print-redir</code> action and menu entry to allow
    user to switch terminal in/out of printer controller mode. It
    appears from the manual that a real vt220 would not switch back
    to normal mode, so another mechanism is used (addresses Debian
    #37517).</li>

    <li>check if <code>printerCommand</code> resource string is
    empty, use this to allow user to disable printer function.</li>

    <li>trim trailing blanks from resource strings.</li>

    <li>check return value from <code>ptsname()</code>, which may
    return null for example if someone has changed the permissions
    of /dev/pts to zero (Debian #121899).</li>

    <li>modify OS/2 version to use <code>__UNIXOS2__</code>
    definition rather than <code>__EMX__</code>, related cleanup
    (patch by Holger Veit).</li>

    <li>used modified indent 2.0 (patch <a href=
    "ftp://invisible-island.net/gnu-patches/">20020428</a>) to
    reformat most of the C source files, to simplify
    maintenance.</li>

    <li>fix a couple of places where there were leading tabs on
    symbol-definition lines in Imakefile (Marc La France from
    report by Tony Finch)</li>

    <li>add imake variable (TraceXTerm) to allow building debug
    version (Egbert Eich).</li>
  </ul>

  <h1><a name="xterm_166" id="xterm_166">Patch #166 - 2002/3/25 -
  XFree86 4.2.0</a></h1>

  <ul>
    <li>correct a bug in selection: double clicking on a word which
    was partly scrolled off the screen may select that text (report
    by Vincent Lefevre &lt;vincent@vinc17.org&gt;).</li>

    <li>implement <code>veryBoldColors</code> resource to control
    whether the corresponding video attribute such as
    <code>bold</code> is displayed when using
    <code>colorBDMode</code>, etc. (request by Josh Howard
    &lt;jrh@vicor-nb.com&gt;).</li>

    <li>define escape sequences for function keys F21-F35 (patch by
    Steve Wall).</li>

    <li>change the colors for the 256-color model, making them less
    skewed toward black (patch by Steve Wall).</li>

    <li>add <code>vt100Graphics</code> resource (see <a href=
    "#xterm_115">patch #115</a>, based on discussion with Glenn
    Maynard).</li>

    <li>ifdef'd Xaw/Xaw3d/neXtaw includes separately to avoid
    potential incompatibilities between these flavors of Athena
    widgets.</li>

    <li>add configure check for XFree86 4.x Xaw library, whose
    geometry management is broken, to avoid trying to use it for
    toolbar configuration.</li>

    <li>updates to configure script from vile and lynx to allow
    configure.in to be compiled with autoconf 2.5x</li>

    <li>add a check for null pointer return by
    <code>ptsname()</code> (newsgroup posting from Mike Silva
    &lt;mikesilva@lucent.com&gt;).</li>

    <li>fill in a few details needed to allow UTF-8 mode to switch
    on/off after startup. This requires that <code>wideChars</code>
    resource be set. (based on comments in 4 Aug 2001 by Alexey
    Marinichev &lt;lyosha@lyosha.2y.net&gt;).</li>

    <li>remove duplicate install rules that make directories, e.g.,
    so installing manpage will not create app-defaults
    directory.</li>

    <li>add comment in in <code>do_osc()</code>, reserving cases 30
    and 31 for for Konsole (request by Stephan Binner
    &lt;Stephan.Binner@gmx.de&gt;).</li>

    <li>fixes for ctlseqs.ms and xterm.man (patch by Werner Lemberg
    &lt;wl@gnu.org&gt;).</li>

    <li>add check for monochrome display, disabling colorMode in
    that case (fixes Debian #134130).</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>Fix some xterm build warnings on *BSD (patch by David
        Dawes).</li>

        <li>Only use SA_RESTART in xterm when it's available (patch
        by Frank Liu).</li>

        <li>Fix incorrect code in signal handlers in most of the
        clients, xterm and xdm not done yet (patch by Matthieu
        Herrb).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_165" id="xterm_165">Patch #165 - 2002/1/5 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>modify <code>uxterm</code> script to strip encoding part
    from environment variable before adding ".UTF-8" (based on
    Debian #125947, but using a more portable solution).</li>

    <li>add an assignment statement in VTInitialize() to make
    <code>awaitInput</code> resource work.</li>

    <li>use new macros init_Bres(), etc., in VTInitialize() to add
    trace of the initialization of resources.</li>

    <li>modify checks for $LC_ALL, related environment variables to
    ensure the resulting strings are nonempty (report by Markus
    Kuhn).</li>

    <li>add an ifdef in charproc.c for num_ptrs variable in case
    all configure options are disabled.</li>

    <li>modify definition of getXtermBackground() to avoid negative
    array index warning on Tru64 (report by Jeremie Petit).</li>

    <li>improve fix from patch #165 (still Debian #117184, report
    by Matt Zimmerman &lt;mdz@debian.org&gt;)</li>

    <li>correct install rule for uxterm in Makefile.in, to handle
    the case where building in a different directory than xterm's
    source (patch by Paul Gilmartin).</li>

    <li>documented ANSI.SYS-style cursor save/restore escape
    sequences in ctlseqs.ms, which are in xterm since X11R5.</li>

    <li>correct two entries in the default charClass table, which
    did not follow the manpage comment about the character number
    corresponding to the class (patch by Marc Bevand
    &lt;bevand_m@epita.fr&gt;).</li>

    <li>fix a couple of typos in comments in the app-defaults files
    (David Krause &lt;xfree86@davidkrause.com&gt;).</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>update language of copyrights in some files to reflect
        the fact that they were reassigned from X Consortium to The
        Open Group in 1998. Note that this xterm source is derived
        from the 1996 version from X Consortium, does not
        incorporate changes made by X Consortium or The Open Group
        after that date, hence we do not add The Open Group's 1998
        copyright date to related files.</li>

        <li>save/restore <code>errno</code> in signal catcher
        (patch by Matthieu Herrb).</li>

        <li>modify UXTerm.ad's font5 resource so that xterm can
        display double width characters using a font distributed
        with XFree86 (Tomohiro Kubota).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_164" id="xterm_164">Patch #164 - 2001/11/13 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>correct a case where <code>ptyInitialErase</code> and
    <code>backarrowKeyIsErase</code> resources combine to set
    <code>DECBKM</code> mode, but a <code>reset</code> command
    would not reset xterm to that state, making the erase character
    revert to ^H (Debian #117184)</li>
  </ul>

  <h1><a name="xterm_163" id="xterm_163">Patch #163 - 2001/11/04 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>correct ifdef's for <code>__QNX__</code> and
    <code>USE_SYSV_PGRP</code> in main.c call to
    <code>tcsetpgrp</code>, which broke bash behavior around
    <a href="#xterm_140">patch #140</a> (report/patch by Frank Liu
    &lt;fliu@mail.vipstage.com&gt;).</li>

    <li>modify trace.c to fix missing definition of GCC_UNUSED for
    compilers other than gcc when configured for trace code
    (report/patch by Paul Gilmartin).</li>

    <li>change format in TraceOptions() to use long rather than
    int, since the latter could lose precision on 64-bit machines
    (report/patch by Nelson Beebe).</li>

    <li>modify xterm manual page and minstall.sh to allow imake
    rules to define location of app-defaults directory (Debian
    #87611).</li>

    <li>review/update list of conflicting preprocesor symbols to
    remove from $CPPFLAGS at the end of the configure script. In
    particular, this allows one to configure xterm without the
    utempter library on Redhat 7.1 (report/patch by Adam
    Sulmicki).</li>
  </ul>

  <h1><a name="xterm_162" id="xterm_162">Patch #162 - 2001/10/23 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>correct logic that processes <code>-class</code> option, so
    that a following <code>-e</code> option is handled (Debian
    #116297).</li>

    <li>improve options-decoding to allow <code>-version</code> and
    <code>-help</code> options to be combined (Debian
    #110226).</li>

    <li>add a 10 millisecond delay in event loop when processing
    <code>-hold</code> option, to avoid using too much CPU time
    (Debian #116213).</li>

    <li>prefix final program execution in <code>uxterm</code> with
    "exec" to avoid a useless shell hanging around (Christian
    Weisgerber).</li>
  </ul>

  <h1><a name="xterm_161" id="xterm_161">Patch #161 - 2001/10/10 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>modify logic that resets keypad application mode to avoid
    doing this if there is no modifier associated with the Num_Lock
    keysym (report by John E Davis &lt;davis@space.mit.edu&gt; and
    Alan W Irwin &lt;irwin@beluga.phys.uvic.ca&gt;).</li>

    <li>add built-in translation for Control/KP_Separator to
    KP_Subtract, to accommodate users who wish to use xmodmap to
    reassign the top row of the numeric keypad.</li>

    <li>correct Imakefile install-rule for <code>uxname</code>
    script (reported by Nam SungHyun &lt;namsh@lge.com&gt;).</li>

    <li>resync with XFree86 CVS &ndash; correct typo in
    <code>&lt;ncurses/term.h&gt;</code> ifdef.</li>
  </ul>

  <h1><a name="xterm_160" id="xterm_160">Patch #160 - 2001/10/7 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>modify logic in main.c (see <a href="#xterm_145">patch
    #145</a>) to avoid generating the same identifier, for example,
    for /dev/tty1 and /dev/pts/1, which is used to denote an entry
    in the utmp file (Debian bug report #84676), A similar fix was
    also sent by Jerome Borsboom &lt;borsboom@westbrabant.net&gt;
    in May, but I overlooked it when reviewing bug reports.</li>

    <li>add configure check for <code>&lt;ncurses/term.h&gt;</code>
    to get rid of hardcoded <code>__CYGWIN__</code> ifdef in
    resize.c

      <p>NOTE: The CYGWIN port should not be linking
      <code>resize</code> with ncurses. It appears that the only
      reason it is, is because both the ncurses and termcap ports
      on that platform are badly misconfigured (essential pieces
      have been removed, etc). Checking for
      <code>&lt;ncurses/term.h&gt;</code> does not hurt anything,
      since there are some correct installations that are set up
      that way.</p>
    </li>

    <li>add a sample <code>uxterm</code> script, which uses the
    <code>UXTerm</code> application defaults for UTF-8
    environments.</li>

    <li>undo change to xterm application defaults, since this
    introduced an unnecessary incompatibility. The intended
    functionality was already addressed by the <a href=
    "#xterm_141">UXTerm</a> app-defaults file.</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>Modified xterm app default to use LFD fontnames instead
        of old type (Michael Schroeder).</li>

        <li>Fix xterm when XIM is disabled - caused a segfault
        (Tomohiro Kubota).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_159" id="xterm_159">Patch #159 - 2001/9/19 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>remove an ifdef for <code>USE_HANDSHAKE</code> added in
    patch #158 from the second <code>TIOCSSIZE</code> ioctl call in
    the initialization code. Paul Gilmartin reports that for
    Solaris 2.6 (sparc), stty does not show that xterm sets rows
    and columns unless the second ioctl is executed.</li>

    <li>correct treatment of empty parameter list for some OSC
    strings (report by Sami Farin &lt;sfarin@ratol.fi&gt;).</li>
  </ul>

  <h1><a name="xterm_158" id="xterm_158">Patch #158 - 2001/9/8 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>augment key translations for scrollbar widget to ensure
    that keystrokes intended for the text area are not lost if the
    mouse pointer happens to fall on the scrollbar. This can
    happen, for instance, if the user's <code>app-defaults</code>
    or <code>.Xdefaults</code> file contains a translations
    resource, though it may also happen through unrelated resource
    settings: probably a bug in libXt (reported by Paul Fox
    &lt;pgf@foxharp.boston.ma.us&gt; and Dmitry Yu. Bolkhovityanov
    &lt;D.Yu.Bolkhovityanov@inp.nsk.su&gt;).</li>

    <li>widen ifdef's in xterm.h to define
    <code>__EXTENSIONS__</code> on Solaris, for compilers other
    than gcc. This was added along <code>_POSIX_C_SOURCE</code>
    with in <a href="#xterm_151">patch #151</a>, but is not
    sufficient since Sun's compiler does not define
    <code>__STDC__</code> by default (report by Matthias Scheler
    &lt;tron@zhadum.de&gt;).</li>

    <li>modify xterm to obtain the closest matching color if an
    exact color is not available, e.g., on 8-bit displays (patch by
    Steve Wall)</li>

    <li>implement "OverTheSpot" preedit type of XIM input (patch by
    Tomohiro Kubota):

      <ul>
        <li>This preedit type is a reasonable compromise between
        simpleness of implementation and usefulness. "Root" preedit
        type is easy to implement but not useful; "OnTheSpot"
        preedit type is the best in the point of view of user
        interface but very complex. And more, "OverTheSpot" is the
        preedit type which the most XIM servers support. Thus, to
        achieve reasonable usability, support of "OverTheSpot"
        preedit type is needed.</li>

        <li>In "OverTheSpot" preedit type, the preedit
        (preconversion) string is displayed at the position of the
        cursor. On the other hand, it is XIM server's
        responsibility to display the preedit string. Thus, it is
        needed for XIM client (here XTerm) to inform the XIM server
        of the cursor position. And more, to achieve good visual
        proportion, preedit string must be written using proper
        font. Thus, it is XIM client's responsibility to inform the
        XIM server of the proper font. The font must be supplied by
        "fontset". Fontset is a set of fonts with charsets which
        are specified by the current locale. Since XTerm uses
        ISO10646 fonts regardless of the current locale, the fonts
        for XIM must be prepared separately. It is difficult to
        prepare fonts which are similar to XTerm font. Thus, my
        patch uses a simple way - the default font is "*" which
        matches every fonts and X library will automatically choose
        fonts with proper charsets. I added "-fx" command option
        and "ximFont" resource to override this default font
        setting.</li>

        <li>changed the definition of "OverTheSpot" preedit type
        from XIMPreeditPosition|XIMStatusArea to
        XIMPreeditPosition|XIMStatusNothing. This matches the
        behavior of other programs such as Rxvt, Kterm, Gedit.</li>

        <li>A tiny XIM bugfix is also included. By calling
        XSetLocaleModifiers() with parameter of "", it can consier
        XMODIFIERS environmental variable which is a standard way
        for users to specify XIM server to be used.</li>
      </ul>
    </li>

    <li>adjust configure script to accommodate repackaging of
    keysym2ucs.c as include-file for xutf8.c (patch by Tomohiro
    Kubota).</li>

    <li>add the <code>UXTerm</code> app-defaults file to makefile
    install rules (request by Juliusz Chroboczek).</li>

    <li>correct logic in <code>get_termcap()</code>, which returned
    false if the <code>tgetent()</code> call indicated that xterm
    was linked with terminfo. Although the <code>$TERMCAP</code>
    variable cannot be adjusted in this case, xterm still needs
    information from this call to extract data to initialize the
    erase-mode when the <code>ptyInitialErase</code> resource is
    false.</li>

    <li>modify <code>ScrollbarReverseVideo()</code> function to
    cache the original border color, so it can restore that when an
    application flashes the screen (Bugzilla #38872).</li>

    <li>resync with XFree86 CVS

      <ul>
        <li>remove ifdef's for X_NOT_STDC_ENV (patch by David
        Dawes).</li>

        <li>add Cygwin to special errno handling case in ptydata.c
        (Alan Hourihane)</li>

        <li>set screen size earlier in initialization, to address a
        race with window manager resizing its clients (Keith
        Packard).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_157" id="xterm_157">Patch #157 - 2001/6/18 -
  XFree86 4.1.0</a></h1>

  <ul>
    <li>clean up button.c and input.c (patch by Juliusz
    Chroboczek). The basic idea is to use a single set of APIs in
    the XTerm core, and put a set of workarounds in a separate
    file. As you will notice, this drastically simplifies parts of
    the code; in particular, the only remaining ifdefs related to
    the differences between Xutf8 and legacy systems are related to
    the selection provider logic. This defines two new files,
    xutf8.h and xutf8.c, provide some half-hearted but fully
    portable emulation for the three Xutf8* functions that XTerm
    uses. Putting these in a separate file will allow people to
    experiment with more complex versions without making the core
    of XTerm more difficult to maintain. The functionality of the
    emulation is as follows.

      <ul>
        <li>Xutf8TextListToTextProperty fully handles XStringstyle
        and XUTF8StringStyle. It will only generate STRING for
        XStdICCTextStyle, and wil only generate Latin-1 in
        XCompoundTextStyle (but label it as COMPOUND_TEXT, as the
        spec requires). (I have hesitated to make this function
        fail for XStdICCTextStyle and XCompoundTextStyle; this
        might be a smart thing to do, in the hope that the
        selection requestor will try UTF8_STRING afterwards;
        opinions?)</li>

        <li>Xutf8TextPropertyToTextList fully handles STRING and
        UTF8_STRING. It systematically fails for
        COMPOUND_TEXT.</li>

        <li>Xutf8LookupString will properly handle single-keystroke
        input for the keysyms covered by Markus' keysym2ucs
        function. It will not handle either compose key input or
        external input methods.</li>
      </ul>
    </li>

    <li>add an ifdef for <code>SunXK_F36</code>, used in
    <code>xtermcapKeycode()</code> (patch by Mark Waggoner
    &lt;waggoner@ichips.intel.com&gt;).</li>

    <li>modify check for login name to try <code>getlogin()</code>
    and $LOGNAME, $USER environment variables to detect if the user
    has logged in under an alias, i.e., an account with the same
    user id but a different name (Debian bug report #70084).</li>

    <li>add resource <code>tiXtraScroll</code>, which can be used
    to preserve the screen contents in the scrollback rather than
    erasing it when starting a fullscreen application such as
    <code>vi</code> (patch by Ken Martin
    &lt;fletcher@catsreach.org&gt;).</li>

    <li>two patches by Denis Zaitsev &lt;zzz@cd-club.ru&gt;:

      <ul>
        <li>added <code>forceBoxChars</code> resource to control
        the "line-drawing characters" option.</li>

        <li>added <code>freeBoldBox</code> resource, which, when
        set true, suppresses check in
        <code>same_font_size()</code>, so xterm does not attempt to
        ensure that the bold font is the same size as the normal
        font.</li>
      </ul>
    </li>

    <li>change the color class for ANSI colors and similar ones
    such as bold-color, etc., to follow the convention that the
    classname is the instance name with a leading capital (e.g.,
    <code>color0</code> and <code>Color0</code> rather than
    <code>color0</code> and <code>Foreground</code>). There was
    little use for Foreground as a class other than to create
    occasional confusion and bug reports, most recently by Nelson
    Beebe who reports that it disables colors in xterm but not on
    Linux, which is probably due to a difference in resource
    evaluation order. A configure script option
    (--disable-color-class) is provided for anyone who did use the
    older behavior.</li>

    <li>fix a signal-handling bug. When running xterm with
    <code>ksh</code> or similar shell such as bash 2.05, xterm will
    hang and not respond to keystrokes after the user types
    <code>suspend</code>. Additionally the popup menus do not
    respond, so it is not possible to send SIGCONT to the shell.
    What is happening is that the shell is sending itself SIGSTOP,
    and it is being stopped. Per specification it also means that
    the operating system is sending SIGCHLD to parent to the bash
    (XTERM). Now the issue is that xterm assumes it cannot happen
    and it expects to receive SIGCHLD only upon
    <em>termination</em> of its children. This causes a deadlock
    with xterm waiting for the child to die, and the child waiting
    for SIGCONT. (report/patch by Adam Sulmicki), analysis/testing
    by Sven Mascheck
    &lt;sven.mascheck@student.uni-ulm.de&gt;).</li>

    <li>correct some inconsistent checks for
    <code>XtReleaseGC()</code> calls in
    <code>xtermLoadFont()</code> (patch by Nam SungHyun
    &lt;namsh@lge.com&gt;).</li>

    <li>updated wcwidth.c and keysym2ucs.c to versions dated
    2001/1/12 and 2001/4/18, respectively from
    http://www.cl.cam.ac.uk/~mgk25/ucs/</li>

    <li>correction to change from <a href="#xterm_90">patch
    #90</a>, which was intended to reset the saved cursor position
    for normal/alternate screens on a soft reset, but actually
    wiped out all of the saved cursor information. Just reset the
    saved position for the current screen (report by Michael
    Schroeder).</li>

    <li>modify ShowCursor() and HideCursor() so that if the cursor
    points to the second part of a wide character, make the
    show/hide operate on the first position of the wide character
    (patch by Sven Verdoolaege).</li>

    <li>scrolling in the alternate screen just before switching
    back to the main screen can cause extra blank lines to be
    inserted into the scrollback buffer (patch by Paul Vojta
    &lt;vojta@math.berkeley.edu&gt;).</li>

    <li>resync with XFree86 4.1.0:

      <ul>
        <li>Use TermcapLibrary as -lncurses instead of -ltermcap,
        fixes problem building xterm/resize on Cygwin/XFree86
        (Harold Hunt).</li>

        <li>Install xterm.termcap and xterm.terminfo when
        installing xterm (Torrey T. Lyons).</li>

        <li>Fix some build issues on Cygwin/XFree86 (Suhaib
        Siddiqi).</li>

        <li>Define CBAUD, when it's missing in xterm, on LynxOS
        (Stuart Lissaman).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_156" id="xterm_156">Patch #156 - 2001/4/28 -
  XFree86 4.0.3</a></h1>

  <ul>
    <li>change order of selection-target types to make 8-bit xterm
    prefer UTF8_STRING to COMPOUND_TEXT (patch by Juliusz
    Chroboczek).</li>

    <li>document <code>-fa</code>, <code>-fs</code> command-line
    options and <code>faceName</code>, <code>faceSize</code>
    resources which are used by the freetype library support.</li>

    <li>if configure script finds freetype libraries, but imake
    definitions do not have the XRENDERFONT definition, define it
    anyway.</li>

    <li>modify configure script check for freetype libraries to
    include <code>&lt;Xlib.h&gt;</code>, since an older version of
    the related headers relies on this (patch by Adam
    Sulmicki).</li>
  </ul>

  <h1><a name="xterm_155" id="xterm_155">Patch #155 - 2001/4/20 -
  XFree86 4.0.3</a></h1>

  <ul>
    <li>correct return type of in_put() from <a href=
    "#xterm_155">patch #153</a> changes, which left it not wide
    enough for UTF-8 (patch by Bruno Haible).</li>
  </ul>

  <h1><a name="xterm_154" id="xterm_154">Patch #154 - 2001/4/11 -
  XFree86 4.0.3</a></h1>

  <ul>
    <li>undo check for return value from <code>pututline</code>
    (used for debugging) since that function does not return a
    value on Slackware 3.6.</li>

    <li>correct length in ScreenWrite, when rendering invisible
    text (patch by Sven Verdoolaege &lt;skimo@kotnet.org&gt;).</li>

    <li>fixes/improvements for the <code>i18nSelection</code>
    resource from patch #153, by Bruno Haible:

      <ul>
        <li>add missing initialization for
        <code>i18nSelection</code> resource.</li>

        <li>split-out the non-ICCM aspect of the
        <code>i18nSelection</code> resource as a new resource,
        <code>brokenSelections</code>.</li>
      </ul>
    </li>

    <li>add configure check for <code>&lt;time.h&gt;</code> and
    <code>&lt;sys/time.h&gt;</code>, to allow for Unixware&nbsp;7,
    which requires both. If the configure script is not used, only
    <code>&lt;time.h&gt;</code> will be included as before (report
    by Thanh Ma).</li>

    <li>fix redefinition of <code>dup2</code>,
    <code>getutent</code>, <code>getutid</code>,
    <code>getutline</code> and <code>sleep</code> functions on
    Unixware&nbsp;7 (report by Thanh Ma
    &lt;Thanh.Ma@casi-rusco.com&gt;)</li>

    <li>add a fall-back definition for <code>__hpux</code>, which
    is apparently not defined in some compilers on HPUX 11.0
    (reported by Clint Olsen).</li>

    <li>change VAL_INITIAL_ERASE, which is used as a fallback for
    the <code>"kb"</code> termcap string to 8, since that matches
    the xterm terminal description (request by Alexander V
    Lukyanov).</li>

    <li>correct an off-by-one in <code>ClearInLine</code>, which
    caused the erase-characters (ECH) control to display
    incorrectly (patch by Alexander V Lukyanov).</li>

    <li>correct escape sequences shown in terminfo for shifted
    editing keys. The modifier code was for the control key rather
    than the shift key.</li>
  </ul>

  <h1><a name="xterm_153" id="xterm_153">Patch #153 - 2001/3/29 -
  XFree86 4.0.3</a></h1>

  <ul>
    <li>increase PTYCHARLEN to 8 for os390, add some debugging
    traces for UTMP functions (patch by Paul Gilmartin).</li>

    <li>correct an misplaced brace in
    <code>SelectionReceived()</code> (patch by Bruno Haible).</li>

    <li>correct an assignment dropped in
    <code>SelectionReceived()</code> which made it not compile for
    wide-characters combined with debug traces.</li>

    <li>correct typo, clarify description of 88- and 256-color
    controls (report by Bram Moolenaar).</li>

    <li>correct a typo in ctlseqs.ms which caused DEC Locator
    control sequences using single quote "'" display grave "`"
    instead (reported by Paul Williams, apparently in patch
    #114).</li>
  </ul>

  <h1><a name="xterm_152" id="xterm_152">Patch #152 - 2001/3/13 -
  XFree86 4.0.2</a></h1>

  <ul>
    <li>correct index in inner loop in <code>VTInitI18N()</code>
    from patch #151 changes, which resulted in infinite loop under
    some conditions (report/analysis by Paul Gilmartin).</li>

    <li>remove spurious "%|" from terminfo sgr capabilities
    (report/analysis by Adam M Costello, Debian #89222).</li>

    <li>add shell script to adjust list of dynamic libraries linked
    by <code>resize</code> when building with the standalone
    configure script. Otherwise it uses the same list as for xterm,
    which is excessive.</li>

    <li>fix a few compiler warnings reported by the 20010305 gcc
    snapshot.</li>
  </ul>

  <h1><a name="xterm_151" id="xterm_151">Patch #151 - 2001/3/10 -
  XFree86 4.0.2</a></h1>

  <ul>
    <li>alter the behaviour of selections in XTerm (patch by
    Juliusz Chroboczek). It is believed to follow the ICCCM +
    UTF8_STRING to the letter, both in UTF-8 and in eight-bit mode.
    From his description:

      <ul>
        <li>When compiled against XFree86 4.0.2, the patched XTerm
        will make the selection available as COMPOUND_TEXT, STRING
        or UTF8_STRING in both modes. It will request selections in
        the following order:

          <p>UTF-8 mode: UTF8_STRING, TEXT, COMPOUND_TEXT,
          STRING.<br>
          eight-bit mode: TEXT, COMPOUND_TEXT, UTF8_STRING,
          STRING.</p>
        </li>

        <li>When compiled against an earlier version of XFree86 (or
        compiled with OPT_UTF8_API=0), it will still obey the
        ICCCM, but will neither request nor provide UTF8_STRING in
        eight-bit mode, and neither TEXT nor COMPOUND_TEXT in UTF-8
        mode.</li>

        <li>For compatibility with previous versions of XTerm, a
        resource <code>i18nSelections</code> is provided, please
        see the manpage for details. However, due to an unexpected
        combination of ICCCM extensions by various bits and pieces
        of the libraries, interacting with previous versions of
        XTerm will work in many locales even without this flag.
        (Please do not set this resource to true by default, as
        this would violate the ICCCM.)</li>
      </ul>
    </li>

    <li>improved error checking/reporting in VTInitI18N(), ensuring
    that lack of input method styles is treated distinctly from a
    mismatch.</li>

    <li>remove an incorrect ifdef from patch #141 which suppressed
    overstriking to simulate bold font when xterm was compiled to
    support wide characters (report/analysis by Adam M Costello
    &lt;amc@cs.berkeley.edu&gt;, Debian #76404, Debian
    #77575).</li>

    <li>modify <code>RequestResize()</code> function to
    save/restore window manager hints. Its call to
    <code>XtMakeResizeRequest()</code> had the undesirable
    side-effect of clearing window manager hints, e.g., when
    switching to 132-columns via DECCOLM escape sequence. Window
    manager hints make it simple to resize xterm in terms of
    character cells rather than pixels (reports by Christian
    Weisgerber, Debian #79939).

      <p>This applies to the normal configuration. When built with
      toolbar support, the hints are applied to a different widget
      level (more work will be needed to make hints work with the
      toolbar).</p>
    </li>

    <li>fix a redefinition warning for resize.c on OpenBSD (patch
    by Christian Weisgerber).</li>

    <li>change resource corresponding to <code>-T</code> option to
    match Xt library's <code>-title</code>, i.e.,
    <code>.title</code> rather than <code>*title</code> so the
    command-line options are interchangeable as documented (Debian
    bug report #68843).</li>

    <li>add script used from autoconf'd makefile for installing
    manpages, since recent XFree86 changing the way section numbers
    are represented makes the install dependent on extra
    scripts.</li>

    <li>add configure check for freetype libraries and configure
    option --disable-freetype to override this feature.</li>

    <li>modify some configure script macros to avoid using
    changequote(), which has been rendered useless in the latest
    autoconf alpha 2.49c</li>

    <li>update config.guess, config.sub to 2001-2-13</li>

    <li>remove redundant/contradictory __CYGWIN__ definitions from
    resize.c</li>

    <li>correct manpage typo introduced by X11R6.5 resync.</li>
  </ul>

  <p>Changes from XFree86 4.0.2:</p>

  <ul>
    <li>add definition of <code>_POSIX_C_SOURCE</code> for Solaris
    to make this compile with <code>gcc -ansi -pedantic</code>
    (report by &lt;mark@zang.com&gt;.</li>
  </ul>

  <h1><a name="xterm_150" id="xterm_150">Patch #150 - 2000/12/29 -
  XFree86 4.0.2</a></h1>

  <ul>
    <li>move the binding for shifted keypad plus/minus, which
    invokes the <code>larger-vt-font()</code> and
    <code>smaller-vt-font()</code> actions, respectively, into the
    translations resource (suggested by Marius Gedminas
    &lt;mgedmin@puni.osf.lt&gt;).</li>

    <li>modify configure script to support the
    <code>--program-prefix</code>, <code>--program-suffix</code>
    and <code>--program-transform-name</code> options (request by
    Alison Winters &lt;alison@mirrabooka.com&gt;).</li>

    <li>fixes for wide/combining characters (Robert Brady):

      <ul>
        <li>fix a scrolling / combining characters display
        anomaly</li>

        <li>fix a problem with double-width characters where if the
        primary font had no box-drawing characters, the right hand
        half of double-width characters was erased (reported by Yao
        Zhang &lt;yzhang@sharemedia.com&gt;).</li>

        <li>fix special case of null byte for key handling in UTF-8
        locales.</li>
      </ul>
    </li>

    <li>modify logic that compares sizes of normal and bold fonts
    to be more forgiving of the font server's choice of bold font
    which must match the normal font's size. Now
    <code>same_font_size()</code> compares the height of the fonts
    rather than individually ascent and descent, and allows the
    bold font to be one pixel smaller than the normal font
    (addresses a report by Alan Citterman &lt;alan@mticket.com&gt;,
    who says that something in patches #146 to #148 made xterm more
    likely to overstrike bold fonts, and indirectly Debian bug
    report #76404, which reports the opposite).</li>

    <li>make configure script use $CFLAGS and $CPPFLAGS
    consistently, including removing a chunk from configure.in
    which attempted to save/restore $CPPFLAGS while processing
    value set by the --x-includes option, but lost values set in an
    intervening AC_CHECK_HEADERS. This change modifies macros
    CF_ADD_CFLAGS, CF_ANSI_CC_CHECK and CF_X_TOOLKIT, as well as
    removing variables IMAKE_CFLAGS and X_CFLAGS from the generated
    makefile (the AC_CHECK_HEADERS problem was reported by Albert
    Chin-A-Young &lt;china@thewrittenword.com&lt;).</li>

    <li>correct a comparison in SELECTWORD case of ComputeSelect(),
    which resulted in a word-selection wrapping past the first
    column without checking the first column's character class
    (reported by Christian Lacunza
    &lt;celacunza@netscape.net&gt;</li>

    <li>correct a logic in UTF-8 mode for selecting double-width
    characters; a combining character was omitted (patch by Markus
    Kuhn).</li>

    <li>add feature to pop (raise) window when a bell is received
    (patch by Gael Roualland
    &lt;gael.roualland@dial.oleane.com&gt;).</li>

    <li>add __NetBSD__ and __OpenBSD__ to special-case in
    xterm_io.h for USE_POSIX_TERMIOS definition (patch by Christian
    Weisgerber).</li>

    <li>move special-case HPUX include for &lt;sys/bsdtty.h&gt; to
    xterm_io.h to define TIOCSLTC, making HAS_LTCHARS defined for
    HPUX 10.20 (report by Bruno Betro).</li>
  </ul>

  <h1><a name="xterm_149" id="xterm_149">Patch #149 - 2000/12/6 -
  XFree86 4.0.1h</a></h1>

  <ul>
    <li>restructured includes for <code>termios.h</code>,
    <code>termio.h</code> and related definitions for main.c,
    os2main.c, screen.c and resize.c so they will share equivalent
    definitions in a new header <code>xterm_io.h</code>. This is
    intended to solve some problems mainly for HPUX which appear to
    arise from inconsistent definitions for SIGWINCH- and
    HAS_LTCHARS-related symbols (reports by Bruno Betro, Jeremie
    Petit and Clint Olsen).</li>

    <li>improve usability of double-width fonts by allowing normal
    fonts to be given as double-width (from a patch by Fabrice
    Bellard &lt;bellard@email.enst.fr&gt;).</li>

    <li>correct a few compiler warnings in TRACE() macros for
    signed/unsigned variable differences (reported by Clint
    Olsen).</li>

    <li>make configure script use $CFLAGS and $CPPFLAGS more
    consistently, i.e., by using CF_ADD_CFLAGS in CF_ANSI_CC
    macro.</li>

    <li>expanded description of environment variables in
    manual-page.</li>

    <li>modify OPT_TCAP_QUERY feature to always return the termcap
    or terminfo capability string in the response, and to
    read/write the names in hexadecimal form to allow for the
    special case of termcap's <code>k;</code> name (patch by Bram
    Moolenaar).</li>

    <li>add OPT_SAME_NAME and OPT_TCAP_QUERY to xtermcfg.hin, so
    the corresponding configure options work (patch by Bram
    Moolenaar).</li>

    <li>resync with XFree86 4.0.1g:

      <ul>
        <li>Rewrite Xft library for Render extension/core text and
        font management Change xterm to use new interface (Keith
        Packard).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_148" id="xterm_148">Patch #148 - 2000/10/31 -
  XFree86 4.0.1d</a></h1>

  <ul>
    <li>document logfile options in man-page.</li>

    <li>correct spelling of <code>-samename</code> option in help
    message.</li>

    <li>add configure script option
    <code>--enable-tcap-query</code> (request by Bram
    Moolenaar).</li>

    <li>add a "Co" or "colors" entry to the OPT_TCAP_QUERY feature
    (patch by Bram Moolenaar).</li>

    <li>patch by Kiyokazu Suto &lt;suto@ks-and-ks.ne.jp&gt;:

      <ul>
        <li>add support for bold font for double width characters.
        The font name may be specified with the command line option
        <code>-fwb</code> or with resource
        <code>wideBoldFont</code> (class
        <code>WideBoldFont</code>).</li>

        <li>correct underlining of double width character string,
        which was drawn only half width.</li>

        <li>correct binary search of precomposed character table,
        which may return wrong result when <code>int</code> is just
        32 bits.</li>
      </ul>
    </li>

    <li>some changes to align terminfo with ncurses 5.2:

      <ul>
        <li>remove xtermm description, retaining xterm-mono since
        the former conflicts with ncurses.</li>

        <li>modify initialization and reset strings to avoid
        putting the save/restore cursor operations bracketing
        changes to video attributes, since the changes could be
        lost when the cursor is restored. This affects xterm-r6 and
        xterm-8bit (the xterm-xfree86 entry uses the soft-reset
        feature which resets scrolling margins and origin mode
        without requiring us to save/restore the cursor
        position).</li>

        <li>make a few entries explicitly inherit from
        xterm-xfree86 rather than xterm: xterm-rep, xterm-xmc,
        xterm-nrc</li>
      </ul>
    </li>

    <li>ensure that sign-extension does not affect
    <code>ctype</code> macros by using <code>CharOf()</code> macro
    to coerce the parameter to an unsigned char.</li>

    <li>resync with XFree86 4.0.1d:

      <ul>
        <li>Add primitive support in xterm for Xft based fonts
        (Keith Packard). The changes are ifdef'd with
        <code>-DXRENDERFONT</code>.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_147" id="xterm_147">Patch #147 - 2000/10/26 -
  XFree86 4.0.1c</a></h1>

  <ul>
    <li>correct implementation of <code>ptyInitialErase</code>: the
    value assigned to <code>initial_erase</code> was for the
    control terminal, which is correct as far as it goes. But there
    was no following test for the pseudo-terminal's erase value,
    which would overwrite the default obtained from the control
    terminal (reported by Christian Weisgerber
    &lt;naddy@mips.inka.de&gt;).</li>

    <li>modify check for printable-characters in OSC string to use
    xterm's ansi_table rather than isprint() macro, to isolate this
    check from locale settings. This fixes a problem using 8-bit
    characters to set the title (reported by Ricardas Cepas
    &lt;rch@richard.eu.org&gt;).</li>

    <li>modify sample scripts to check for printf before print,
    since the latter is not as well standardized (e.g., on
    Linux).</li>

    <li>updated config.sub, config.guess to reflect changes on
    subversions.gnu.org</li>
  </ul>

  <h1><a name="xterm_146" id="xterm_146">Patch #146 - 2000/9/12 -
  XFree86 4.0.1c</a></h1>

  <ul>
    <li>correct two instances overlooked from patch #141 which
    assumed UTF-8 mode without checking, causing a core dump in
    non-UTF-8 mode (one instance was reported by Tommi Virtanen
    &lt;tv@debian.org&gt;).</li>

    <li>correct a problem selecting from the scrollback buffer in
    UTF-8 mode by changing remaining getXtermCell() calls to
    XTERM_CELL() as in the non-UTF-8 cases (report by Markus Kuhn,
    patch by Robert Brady).</li>
  </ul>

  <h1><a name="xterm_145" id="xterm_145">Patch #145 - 2000/9/11 -
  XFree86 4.0.1c</a></h1>

  <ul>
    <li>changes for UTF-8 configuration (Robert Brady):

      <ul>
        <li>doublewide characters don't lose their accents when the
        cursor moves onto or from them (a visual bug)</li>

        <li>fix logic in addXtermCombining, which mean that if the
        low byte of a cell's first combining char was 0, a
        following combining char would go into combining slot 1,
        not 2.</li>

        <li>modify logic for cut-buffers so UTF-8 data is first
        converted to Latin1.</li>

        <li>collapse surrogates, 0xfffe, 0xffff to UCS_REPL.</li>

        <li>modify to allow xterm to to show combining characters
        attached to doublewidth characters.</li>

        <li>correct bug in linewrap with -u8 option (reported by
        Andreas Koenig &lt;andreas.koenig@anima.de&gt;).</li>
      </ul>
    </li>

    <li>several changes to PTY logic (based on request by Tim Ryan
    &lt;timryan@nortelnetworks.com&gt;).

      <ul>
        <li>modify treatment of <code>-S</code> option to to make
        it work with Unix98 PTY's.</li>

        <li>restore sense of IsPts flag in <code>get_pty()</code>,
        which was lost in Unix98 changes.</li>

        <li>use new functions <code>my_pty_id()</code> and
        <code>my_pty_name()</code> to simplify/fix strings used for
        utmp, wtmp identifiers.</li>

        <li>simplify <code>get_pty()</code> function, making it
        have a single return point so its inputs/outputs can be
        identified.</li>
      </ul>
    </li>

    <li>update config.guess and config.sub and scripts to my
    20000819 patch, adding cases for OS/2 EMX.</li>

    <li>add special case for os390 compiler options to configure
    script (patch by Paul Gilmartin)</li>

    <li>fix some unused-variable compiler warnings (reported by
    Zdenek Sekera).</li>

    <li>split-out some string functions into xstrings.c, to use
    them more consistently among main.c, os2main.c and
    resize.c</li>

    <li>align termcap/terminfo files, adding entries to make them
    match. The termcap entries are necessarily less complete than
    the terminfo, to fit within 1023 character per entry.</li>

    <li>add terminfo entry for xterm-sco (SCO function keys).</li>

    <li>modify <code>same_font_name()</code> to properly handle
    wildcard introduced in <code>bold_font_name()</code>, making
    comparison for different fonts succeed when only the normal
    font is specified. This is needed to decide if 1-pixel offset
    should be used. (reported in a newsgroup by Bart Oldeman
    &lt;enbeo@enbeo.resnet.bris.ac.uk&gt;)</li>

    <li>correct preprocessor line for OPT_WIDE_CHARS in
    drawXtermText() from patch #141 which resulted in overstriking
    for bold fonts not working.</li>

    <li>correct Imakefile from 4.0.1c resync so UTF-8 modules are
    in UTF8SRC, UTF8OBJ lists, allowing build without UTF-8
    support.</li>
  </ul>

  <h1><a name="xterm_144" id="xterm_144">Patch #144 - 2000/8/23 -
  XFree86 4.0.1b</a></h1>

  <ul>
    <li>remove a spurious assignment in ScreenWrite() from Robert
    Brady's patch which set a null at the "end" of the buffer to be
    written. That made the autowrap feature write a blank in the
    first column for the non-UTF-8 configuration, rather than the
    actual character (reported by Alan Citterman
    &lt;alan@mticket.com&gt;).</li>
  </ul>

  <h1><a name="xterm_143" id="xterm_143">Patch #143 - 2000/8/19 -
  XFree86 4.0.1b</a></h1>

  <ul>
    <li>add a check to ensure that <code>-class</code> command-line
    option is not confused with <code>-c</code> (reported by Paul
    Townsend &lt;aab@aab.cc.purdue.edu&gt;).</li>
  </ul>

  <h1><a name="xterm_142" id="xterm_142">Patch #142 - 2000/8/18 -
  XFree86 4.0.1b</a></h1>

  <ul>
    <li>correction to precompose scripts, so 0061 + 0300 will now
    be really be displayed as 00C0 (patch by Robert Brady
    &lt;robert@susu.org.uk&gt;).</li>

    <li>correct macro ClassSelects() in button.c, used to hide
    ifdef's for OPT_WIDE_CHARS in patch #141 (reported by Andreas
    Paul &lt;paula@informatik.tu-muenchen.de&gt;).</li>

    <li>change wcwidth.h to include stddef.h rather than wchar.h,
    which is not present on OpenBSD and FreeBSD (reported by
    Christian Weisgerber and Bram Moolenaar).</li>

    <li>newer config.sub and config.guess, from lynx
    2.8.4dev.7</li>
  </ul>

  <h1><a name="xterm_141" id="xterm_141">Patch #141 - 2000/8/14 -
  XFree86 4.0.1b</a></h1>

  <ul>
    <li>changes for doublewidth and combining characters, from
    http://www.ecs.soton.ac.uk/~rwb197/xterm/ (integrated patch by
    Robert Brady). In this context, doublewidth refers to 16-bit
    character sets which may have glyphs occupying two cells.</li>

    <li>add command-line option <code>-class</code>, which allows
    one to override xterm's resource class. Also add resource file
    <code>UXTerm.ad</code>, which simplifies using xterm for both
    8-bit character sets and UTF-8.</li>

    <li>fixes/improvements to OPT_TCAP_QUERY logic (patches by Bram
    Moolenaar, Steve Wall).</li>
  </ul>

  <h1><a name="xterm_140" id="xterm_140">Patch #140 - 2000/7/23 -
  XFree86 4.0.1</a></h1>

  <ul>
    <li>modify Makefile.in to circumvent GNU make's built-in suffix
    rule for ".sh" which confuses install.sh with the "make
    install" target (report/patch by Paul Gilmartin).</li>

    <li>implement an experimental control sequence which an
    application may use to query the terminal to determine what
    sequence of characters it would send for a given function key.
    This is ifdef'd with OPT_TCAP_QUERY (request by Bram
    Moolenaar).</li>

    <li>add /usr/local to search path in CF_X_ATHENA configure
    macro to build with Xaw3d on OpenBSD (patch by Christian
    Weisgerber).</li>

    <li>add missing <code>#undef HAVE_TERMIO_C_ISPEED</code> to
    xtermcfg.hin, omitted in patch #133 fix for IRIX 6.5 baudrate
    (report by Alain Filbois &lt;Alain.Filbois@loria.fr&gt;).</li>

    <li>correct a few errors in xterm.man: font in filename example
    for Tektronix emulation, and description of -nul/+nul
    command-line options (report by Eric Fischer
    &lt;enf@pobox.com&gt;).</li>

    <li>update config.guess and config.sub, from tin and lynx.</li>
  </ul>

  <h1><a name="xterm_139" id="xterm_139">Patch #139 - 2000/6/17 -
  XFree86 4.0d</a></h1>

  <ul>
    <li>back out change to <code>-name</code> command-line option,
    restoring its original behavior (as noted by David Madore, the
    correct interpretation of this option is the application
    instance rather than the application class).</li>
  </ul>

  <h1><a name="xterm_138" id="xterm_138">Patch #138 - 2000/6/15 -
  XFree86 4.0c</a></h1>

  <ul>
    <li>workaround for fixed fonts which are generated from Unicode
    fonts: they omit glyphs for some xterm's less-used line-drawing
    characters, which caused xterm to set a flag telling it to use
    only its internal line-drawing characters. Do not set the flag
    (it can be set from the popup menu), and xterm will generate
    only the line-drawing glyphs which actually are missing.<br>
    Otherwise, when used for large fonts, xterm may generate a
    2-pixel wide line, which can leave dots on the screen.</li>

    <li>restore first line of 256colres.pl, omitted in 4.0c
    diffs.</li>
  </ul>

  <h1><a name="xterm_137" id="xterm_137">Patch #137 - 2000/6/10 -
  XFree86 4.0b</a></h1>

  <ul>
    <li>make command-line <code>-name</code> option work as
    documented. Apparently this was lost in X11R5 when coding to
    use <code>XtAppInitialize</code>.</li>

    <li>limit numeric parameters of control sequences to 65535 to
    simplify checks for numeric overflow.</li>

    <li>change index into UDK list to unsigned to guard against
    numeric overflow making the index negative (Taneli Huuskonen
    &lt;huuskone@cc.helsinki.fi&gt;).</li>

    <li>change <code>sun&nbsp;function-keys</code> resource name to
    <code>sunFunctionKeys</code> to work around redefinition of the
    token <code>sun</code> by xrdb on Solaris. Similarly, renamed
    resource <code>sun&nbsp;keyboard</code> to
    <code>sunKeyboard</code> (Steve Wall).</li>

    <li>change similar resource names for HP and SCO to avoid
    potential conflict with xrdb symbols on other systems, as well
    as for consistency.</li>

    <li>reorganized the install targets in the autoconf'd Makefile,
    adding install-app, install-bin, install-dirs and install-man.
    The app-defaults class can be overridden by setting the make
    variable 'CLASS', simplifying customization of xterm as a
    Unicode terminal, e.g., CLASS=UXTerm.</li>

    <li>add limit checks to <code>ClearInLine()</code>,
    <code>ScrnInsertChar()</code>, <code>ScrnDeleteChar()</code> to
    correct potential out-of-bounds indexing (prompted by Debian
    bug report #64713, which reported a problem with ICH escape
    sequences).</li>

    <li>updates to config.sub and config.guess Kevin Buettner
    &lt;kev@primenet.com&gt; for elf64_ia64 Bernd Kuemmerlen
    &lt;bkuemmer@mevis.de&gt; and MacOS X.</li>

    <li>for os390, add check for errno set to ENODEV on failure to
    open /dev/tty when there is no controlling terminal (patch by
    Paul Gilmartin).</li>

    <li>fixes for building on Digital Unix 4.0 and AIX 4.2 (patch
    from H Merijn Brand &lt;h.m.brand@hccnet.nl&gt;).</li>

    <li>modify DECRQSS reply for DECSCL to additionally report if
    the terminal is set for 8-bit controls.</li>
  </ul>

  <h1><a name="xterm_136" id="xterm_136">Patch #136 - 2000/6/3 -
  XFree86 4.0b</a></h1>

  <ul>
    <li>add a resource (<code>limitResize</code>) limiting resizing
    via the CSI 4 t and CSI 8 t sequences.</li>

    <li>ignore out-of-bounds resize requests, i.e., where
    sign-extension or truncation of the parameters would
    occur.</li>
  </ul>

  <h1><a name="xterm_135" id="xterm_135">Patch #135 - 2000/5/29 -
  XFree86 4.0b</a></h1>

  <ul>
    <li>remove code introduced in #134 which made some backgrounds
    bold.</li>

    <li>minor correction to format of updated $TERMCAP when adding
    <code>kb</code> capability for <code>ptyInitialErase</code>
    logic.</li>

    <li>improved test for SVR4 definition.</li>
  </ul>

  <h1><a name="xterm_134" id="xterm_134">Patch #134 - 2000/5/28 -
  XFree86 4.0b</a></h1>

  <ul>
    <li>update URL's and mailing addresses, moved to
    http://dickey.his.com and dickey@herndon4.his.com</li>

    <li>correct missing quotes in CF_TTY_GROUP configure script
    macro in case the script is run in batch mode.</li>

    <li>modify ownership-check of log file to ignore the group
    ownership. Otherwise xterm cannot create logfiles in
    directories with set-gid permissions.</li>

    <li>simplify the logic that reads termcap data.</li>

    <li>add fallback definition for B9600 in case line speed
    definition for 38400 is missing (report by Jack J Woehr
    &lt;jwoehr@ibm.net&gt;, for OpenBSD 2.6).</li>

    <li>fix: Set highlightColor, and select a region containing the
    text cursor. If the window loses focus, the cursor becomes
    hollow, with the region inside the cursor being
    background/foreground, unlike the rest of the selection, which
    is foreground/highlight (patch by Ross Paterson
    &lt;ross@soi.city.ac.uk&gt;).</li>

    <li>add configure script tests to define SVR4, SYSV and
    USE_POSIX_WAIT, which enables xterm to compile on Solaris 7 and
    SCO Openserver without imake, though there are still a few
    features for the latter which require <code>sco</code> to be
    predefined.</li>

    <li>patches from Steve Wall:

      <ul>
        <li>add support for two Sun-specific function keys. These
        keys are labeled F11 and F12 on Sun Type 5 keyboards, but
        return SunXK_F36 and SunXK_F37. Support will only be
        compiled in if the header file &lt;X11/Sunkeysym.h&gt;
        exists and contains the appropriate symbol definitions. The
        keycodes for the DEC keycodes were arbitrary unused codes,
        but the ones for the Sun keycodes are what cmdtool and
        shelltool actually send.</li>

        <li>add <code>colorRV</code> and <code>colorRVMode</code>
        resources to allow specifying a color to use for reverse
        video, similar to the existing UL, BD, and BL modes.</li>

        <li>add <code>alwaysUseMods</code> resource, to override
        check if <code>alt</code> or <code>meta</code> modifiers
        are used in <code>translations</code> resource. Revamped
        the code to calculate the modifier value, and included Meta
        if alwaysUseMods is TRUE, using values 9-16.</li>
      </ul>
    </li>

    <li>fixes for os390 (Paul Gilmartin):

      <ul>
        <li>regularize the definition of CONTROL() and remove an
        acknowledged "trial and error" table.</li>

        <li>translate "^?" into A2E(0177) which is the EBCDIC "DEL"
        rather than plain 0177 which is the EBCDIC quotation
        mark.</li>

        <li>modify <code>xtermMissingChar()</code> so that EBCDIC
        codes 128-159 are not rendered as blanks by X server
        running on Solaris, which sees those as control
        characters.</li>

        <li>make debugging traces (configure --enable-trace) work
        properly with EBCDIC.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_133" id="xterm_133">Patch #133 - 2000/5/2 -
  XFree86 4.0a</a></h1>

  <ul>
    <li>add substitutions in autoconf'd Makefile for CPPFLAGS,
    LDFLAGS and AWK (reported by Neil Bird).</li>

    <li>correct uninitialized <code>childstat</code> variable from
    patch #131 in <code>creat_as()</code> function, which caused
    logging to not work on Solaris, whose <code>waitpid()</code>
    function does not initialize its parameter. Add check for EINTR
    on return from <code>waitpid()</code> as well (reported by Neil
    Bird &lt;neil.bird@rdel.co.uk&gt;).</li>

    <li>remove a redundant check for working <code>setuid()</code>
    function introduced in patch #132. Greg Smith reports that this
    does not work as intended on os390.</li>

    <li>change line speed from 9600bd to 38400bd, to accommodate
    people who mistakenly use $TERM set to <em>vt100</em>, to
    reduce the effect of padding associated with this terminal
    type.</li>

    <li>add configure script check for IRIX 6.5's redefinition of
    baud rates associated with <code>struct termio</code>, to
    correct a situation where the baud rate was initialized to zero
    (reported by Andrew Isaacson &lt;adi@lcse.umn.edu&gt;).</li>

    <li>remove unused configure script check for VDISABLE.</li>
  </ul>

  <h1><a name="xterm_132" id="xterm_132">Patch #132 - 2000/4/11 -
  XFree86 4.0a</a></h1>

  <ul>
    <li>undo an incorrect change from patch #113 caused the right
    scrollbar to be positioned incorrectly when re-enabling it
    (analysis by D Roland Walker).</li>

    <li>add ctrlFKeys resource, replacing constant for adjusting
    control-F1 to control-F12 to VT220-style F10-F20. The resource
    changes the constant 12 to a default value of 10 (request by
    Jim Knoble &lt;jmknoble@pobox.com&gt;).</li>

    <li>correct ifdef'ing for conflict between definitions in AIX's
    &lt;sys/select.h&gt; and &lt;X11/Xpoll.h&gt; (reported by Clint
    Olsen).</li>

    <li>add checks for return-values of getutid(), initgroups() and
    setuid() in main.c, as well as modifying ifdef's for __osf__ to
    include tty-group and WTMP logic (adapted from patch by Paul
    Szabo &lt;psz@maths.usyd.edu.au&gt;)</li>

    <li>modify resize.c to build and work on os390 (uses EBCDIC)
    (adapted from patch by Phil Sidler
    &lt;Phil.Sidler@airborne.com&gt;)</li>

    <li>use Ires(), Bres() and Sres() macros to simplify resource
    list in charproc.c</li>

    <li>resync with XFree86 4.0a:

      <ul>
        <li>correct a typo in os2main.c (Holger Veit, from
        4.0a).</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_131" id="xterm_131">Patch #131 - 2000/3/3 -
  XFree86 3.9.18b</a></h1>

  <ul>
    <li>improve logfile security (integrated patch by Branden
    Robinson)

      <ul>
        <li>make the <code>creat_as()</code> function more strict
        by using O_EXCL rather than O_APPEND.</li>

        <li>fixes to make DEBUG ifdef's compile/run, including
        making the debug logfile more unique by appending a
        timestamp to its name.</li>

        <li>include &lt;term.h&gt; in resize.c, to fix a
        missing-prototype warning.</li>
      </ul>
    </li>

    <li>modified <code>creat_as()</code> a little more, retaining
    the ability to append to a logfile If the user specifies the
    name. Also, check if the opened file (which patch #130 ensures
    is owned by the effective user) is not writable by other
    users.</li>

    <li>use <code>creat_as()</code> logic to make tek4014
    screen-copy more secure (noted by Branden Robinson).</li>

    <li>ifdef'd some of Branden's changes to build/work on older
    machines.</li>

    <li>correct missing initialization of the <code>.mode</code>
    flag in <code>ColorRes</code> struct, from patch #129. This
    worked on Linux because <code>malloc()</code> zeroes memory on
    that platform (reported by Christian Weisgerber).</li>

    <li>modify logic for <code>deleteIsDEL</code> resource so it
    has internally 3 states: unspecified, true and false. If
    unspecified, the keyboard type determines whether the Delete
    key transmits <code>&lt;ESC&gt;[3~</code> or <code>\177</code>,
    and the popup menu entry reflects the internal state.
    Otherwise, the popup menu entry overrides the keyboard type
    (suggested by Dr Werner Fink, to make it simpler to set
    resources that imitate the legacy X11R6 xterm).</li>
  </ul>

  <h1><a name="xterm_130" id="xterm_130">Patch #130 - 2000/3/1 -
  XFree86 3.9.18a</a></h1>

  <ul>
    <li>modify <code>scroll-forw()</code> and
    <code>scroll-back()</code> actions, adding a third parameter
    which will direct xterm to ignore the action when mouse
    reporting is enabled. This is needed for the wheel mouse to be
    used to report to the application rather than scroll the
    window.</li>

    <li>add menu entry and action to allow disabling xterm's
    assumption that the current font contains line-drawing
    characters if the font cells 1-31 are nonempty. Some fonts may
    have other characters (reported by Bruno Betro
    &lt;bruno@iami.mi.cnr.it&gt;).</li>

    <li>add a check in <code>creat_as()</code> to ensure that the
    user really owns the logfile that has been opened.</li>

    <li>add logic to implement SCO function-keys. (This is really
    incomplete, since I intend to revisit this and make xterm able
    to emulate scoansi better than just the function-keys).</li>

    <li>add configure script option --enable-sco-fkeys, minor
    related fixes (patch by Dr Werner Fink).</li>

    <li>fix typos in ctlseqs.ms (reported by Bram Moolenaar)</li>

    <li>fix typo in sinstall.sh default for $TST_PROG (reported by
    Paul Gilmartin &lt;pg@sweng.stortek.com&gt;)</li>
  </ul>

  <h1><a name="xterm_129" id="xterm_129">Patch #129 - 2000/2/26 -
  XFree86 3.9.18a</a></h1>

  <ul>
    <li>improve initialization of ANSI colors by delaying
    allocation until each color is first used.</li>

    <li>remove ifdef that prevented colorBD/colorUL/colorBL
    resources from working when 256-color configuration was built
    (reported by Todd Larason).</li>

    <li>fix some minor inconsistencies in terminfo (Debian
    #58530).</li>
  </ul>

  <h1><a name="xterm_128" id="xterm_128">Patch #128 - 2000/2/17 -
  XFree86 3.9.18</a></h1>

  <ul>
    <li>correct logic for <code>oldXtermFKeys</code> resource,
    fixes a core dump when attempting to set it from the
    command-line (reported by Dr Werner Fink).</li>

    <li>correct ifdef for meta-sends-escap so configure
    --disable-num-lock builds.</li>
  </ul>

  <h1><a name="xterm_127" id="xterm_127">Patch #127 - 2000/2/12 -
  XFree86 3.9.17e</a></h1>

  <ul>
    <li>add resource, popup menu entry and control sequence to
    allow changing the Delete key to send either DEL or the
    VT220-style Remove escape sequence.</li>

    <li>remove logic for metaSendsEscape that would allow xterm to
    send <code>&lt;ESC&gt;[3~</code> before a function key that
    would begin with <code>&lt;ESC&gt;[3~</code> (request by
    Christian Weisgerber).</li>

    <li>add missing action and documentation for
    meta-sends-escape.</li>

    <li>correct a few typos in ctlseqs.ms (incorrect code for Cyan
    color)</li>
  </ul>

  <h1><a name="xterm_126" id="xterm_126">Patch #126 - 2000/2/8 -
  XFree86 3.9.17c</a></h1>

  <ul>
    <li>ensure that xterm will automatically activate the UTF-8
    mode whenever the name of the locale environment variable
    suggests that a UTF-8 locale is in use (patch by Markus Kuhn).
    This will help that by simply setting LC_CTYPE an entire system
    can be switched over to UTF-8, without users having to remember
    the UTF-8 command line options ("-u8", etc.) of the various
    applications. Command line options and X resource entries can
    still be used to override this default choice.</li>

    <li>add old function-keys control sequences and popup menu
    entry, for compatibility with legacy X11R6 xterm.</li>

    <li>revert translation of editing keypad "Delete" key to legacy
    \177.</li>

    <li>simplify the color-resource data expressions with macro
    COLOR_RES, for later use in restructuring color
    initialization.</li>

    <li>change encoding of wheel mouse (buttons 4 and 5) to avoid
    conflict with legacy mouse modifiers (suggested by Bram
    Moolenaar).</li>
  </ul>

  <h1><a name="xterm_125" id="xterm_125">Patch #125 - 2000/1/31 -
  XFree86 3.9.17c</a></h1>

  <ul>
    <li>make this work on OpenVMS (integrated patch by David
    Mathog).</li>

    <li>rename some functions, e.g., <code>Index</code> to
    <code>xtermIndex</code> so that ports such as VMS which link
    externals ignoring case will not have library conflicts
    (reported by David Mathog).</li>

    <li>correct logic of <code>do_reversevideo()</code>, which did
    not update the corresponding popup menu check mark (reported by
    David Mathog, this was a detail overlooked in patch #94).</li>

    <li>change TRACE macro so semicolon is not within definition,
    making <em>indent</em> and similar programs work better.</li>

    <li>add <code>depend</code> rule to Makefile.in</li>

    <li>modify logic of boldColors resource to suppress it if an
    extended color control has been used, e.g., for 88-color or
    256-color mode (patch by Todd Larason).</li>

    <li>revise logic that handles menus and input translation for
    keyboard type so only one can be selected at a time.</li>

    <li>restore kdch1=\177 for the Sun function-key type, and make
    the the Delete key send DEL (\177) if the oldXtermFKeys
    resource is set.</li>

    <li>rephrase logic and ifdef's for POSIX VDISABLE to avoid
    preprocessor expression that will not compile on NetBSD/x86
    1.4.1 (reported by Takaaki Nomura
    &lt;amadeus@yk.rim.or.jp&gt;).</li>
  </ul>

  <h1><a name="xterm_124" id="xterm_124">Patch #124 - 2000/1/27 -
  XFree86 3.9.17b</a></h1>

  <ul>
    <li>change coding of editing keypad's "Delete" key to
    &lt;escape&gt;[3~, in the default (Sun/PC) keyboard mode. This
    makes the terminfo kdch1 capability independent of the coding
    of the backarrow key, which sends either backspace (8) or DEL
    (127). The reason for doing this (compatibility with the
    <em>screen</em> program) outweighs the choice of DEL (127)
    which was used in X11R5/X11R6 xterms. The <em>screen</em>
    program translates whatever matches kdch1 into
    &lt;escape&gt;[3~, even if it happens to be the stty erase
    character.</li>

    <li>add encoding for control/?, to work around xmodmap or key
    translations which may confuse backspace and delete. A
    control/? will send DEL (127), and a control/H will of course
    send backspace (8).</li>

    <li>add encoding for kcbt to &lt;escape&gt;[Z (fixes Debian
    #54840).</li>

    <li>minor correction to logic that encodes Sun and DEC function
    keys to avoid sending an escape sequence if the key symbol is
    not found in xterm's lookup table.</li>

    <li>simplify ifdef's in main.c for POSIX VDISABLE so the "^-"
    pattern is more likely to be implemented when <em>imake</em>
    configures xterm (fixes Debian #55105).</li>

    <li>change manpage to make it clearer what codes are sent by
    the backarrow key.</li>
  </ul>

  <h1><a name="xterm_123" id="xterm_123">Patch #123 - 2000/1/22 -
  XFree86 3.9.17a</a></h1>

  <ul>
    <li>add a note reserving OSC 51 for use in Emacs shell (request
    by Rob Mayoff &lt;mayoff@dqd.com&gt;).</li>

    <li>correct a missing backslash in xterm-vt220 termcap.</li>

    <li>cleanup remaining quoted includes, preferring bracketed
    form.</li>

    <li>minor configure-script macro updates from tin and
    vile.</li>

    <li>add configure-script option for using utempter library,
    adapted from Redhat 6.1 patch for XFree86 3.3.5</li>

    <li>resync with XFree86 3.9.17a:

      <ul>
        <li>correction to QNX support (Frank Guangxin Liu)</li>

        <li>some cosmetic changes that did not correct any reported
        problems.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_122" id="xterm_122">Patch #122 - 1999/12/28 -
  XFree86 3.9.16f</a></h1>

  <ul>
    <li>move the suggested wheel-mouse button translations into
    charproc.c to simplify customization. Correct some minor logic
    errors in the support for buttons 4 and 5, used for wheel mice
    (reported by Bram Moolenaar).</li>

    <li>implement <em>metaSendsEscape</em> resource, with
    corresponding control sequence and menu entry. Like
    <em>eightBitInput</em>, this causes xterm to send ESC prefixing
    the given key, but applies to all keys and is independent of
    the 8-bit/7-bit terminal setting. (requests by Alexander V
    Lukyanov and Marc Feeley).</li>

    <li>correct potential indexing with negative subscript in
    udk_lookup(), (reported by Ian Collier
    &lt;Ian.Collier@comlab.ox.ac.uk&gt;).</li>

    <li>modify configure script that sets TERMINFO_DIR to use
    ${prefix} rather than /usr if the --prefix option was specified
    (request by Zdenek Sekera &lt;zs@sgi.com&gt;).</li>

    <li>modify checks for repeat-character control sequence to test
    the character class against xterm's state table, rather than
    the isprint() macro (patch by Alexander V Lukyanov).</li>

    <li>change several functions to macros to improve speed</li>

    <li>two corrections to simulation of bold font via
    overstriking:

      <ul>
        <li>use clipping to avoid leaving trash at end of the text,
        and</li>

        <li>add brackets so wide-character logic does not
        fall-through into the overstriking logic (reported by Marc
        Feeley &lt;feeley@IRO.UMontreal.CA&gt;)</li>
      </ul>
    </li>

    <li>add several entries to termcap file to make it have the
    same set of aliases as the terminfo file.</li>

    <li>scale the color values used for xterm-256color terminfo
    entry to 0..1000, as expected by ncurses.</li>

    <li>change xterm-r6 terminfo definitions for F1-F4 to match
    program.</li>

    <li>Add QNX/Neutrino support (Frank Guangxin Liu
    &lt;frank@ctcqnx4.ctc.cummins.com&gt;)</li>
  </ul>

  <h1><a name="xterm_121" id="xterm_121">Patch #121 - 1999/11/14 -
  XFree86 3.9.16c</a></h1>

  <ul>
    <li>change label on "Sun/PC Keyboard" popup menu entry to
    "VT220 Keyboard", since the checked state corresponds to VT220
    rather than Sun/PC.</li>

    <li>add configure test CF_UTMP_UT_XSTATUS to handle the
    variants of utmp exit status (reports by Dave Ellement, Jeremie
    Petit, Tomas Vanhala).</li>

    <li>amend treatment of ALT key (see <a href="#xterm_94">patch
    #94</a>) so that if ALT is used as a modifier in key
    translations, then no parameter will be sent in escape
    sequences for Sun/PC function keys (request by Dr Werner
    Fink).</li>

    <li>modify default for OPT_I18N_SUPPORT to assume that
    <code>XtSetLanguageProc()</code> is available in X11R5.

      <p>Caveat: <code>XtSetLanguageProc()</code> was added fairly
      late in the X11R5 patches, and some vendors shipped buggy
      versions of this function (request by Tomas Vanhala).</p>
    </li>

    <li>correct configure macro CF_SYSV_UTMP to test-link with
    functions consistent with the header, e.g., getutent() for
    utmp.h and getutxent() for utmpx.h (reported by Greg
    Smith).</li>

    <li>modify terminfo entry for <code>xterm-xfree86</code> to
    reflect modifiers for shift and control which (from a patch by
    Alexander V Lukyanov).</li>

    <li>modify terminfo entry for <code>xterm-sun</code> to match
    the function-key definitions in ncurses. The pageup/pagedown
    and related function keys correspond to the Sun keyboard, which
    does not necessarily correspond with X's notion of those
    keys.</li>

    <li>modify treatment of XK_Delete keysym so it transmits
    parameterized VT220-style <code>&lt;ESC&gt;[3~</code> if
    modifiers (shift, control alt) are given (request by Alexander
    V Lukyanov).</li>

    <li>corrected misspelled resource name in command-line option
    for HP function keys.</li>
  </ul>

  <h1><a name="xterm_120" id="xterm_120">Patch #120 - 1999/10/28 -
  XFree86 3.9.16c</a></h1>

  <ul>
    <li>refine the change to <code>SGR_Background()</code> in patch
    #119, by not flushing the pending scrolling operation if the
    background color is not actually changing. This combination
    occurs when using color-ls to display a long listing, since
    each line ends with an SGR0 which affects only the foreground
    color. The unnecessary flushing made it noticeably slower
    (reported by D Roland Walker &lt;walker@pobox.com&gt;).</li>

    <li>remove obsolete documentation about modifiers which can be
    returned in mouse tracking mode, and modify logic to ignore
    modifiers other than the existing ones, e.g., NumLock (prompted
    by discussions with Christian Weisgerber and Brad Pepers
    &lt;brad@linuxcanada.com&gt;).</li>

    <li>use free bit from obsolete shift-modifier coding of mouse
    tracking button events to encode buttons 4 and 5, e.g., for a
    wheel mouse (requests by Brad Pepers and Bram Moolenaar).</li>

    <li>correct a place where the ptyInitialErase logic did not set
    the backarrowKey state, and modify it further to use tgetstr()
    rather than parse the termcap data returned from tgetent() so
    the ptyInitialErase logic will work when xterm is linked with a
    terminfo library (based on a patch by Dr Werner Fink
    &lt;werner@suse.de&gt;).</li>

    <li>fix definition of HAVE_UTMP_UT_HOST for ISC configuration
    (patch by Michael Rohleder).</li>

    <li>improve configure script's utmp tests (based on reports by
    Greg Smith for os390, and David Ellement for HPUX).</li>

    <li>modify sinstall.sh to use uid=0 rather than 'root' to
    determine if the installer is privileged. This is needed on
    some systems since more than one account may be privileged
    (report by Greg Smith).</li>

    <li>add an application resource, <code>messages</code> (and a
    corresponding -/+mesg option) which controls the initial
    permission on the terminal: if messages is set to true (the
    default), behavior is as without the patch; if it is set to
    false (as per -mesg), the terminal is opened in mode 0600, thus
    producing the effect of the <code>mesg n</code> command. This
    is useful for users who want to redirect all their messages to
    one particular xterm: it is more pleasant to do this with xterm
    resources than with explicit calls to the <code>mesg</code>
    program (patch, description by David Madore
    &lt;david.madore@ens.fr&gt;).</li>
  </ul>

  <h1><a name="xterm_119" id="xterm_119">Patch #119 - 1999/10/16 -
  XFree86 3.9.16c</a></h1>

  <ul>
    <li>add responses (DA and DSR) for DEC locator mode</li>

    <li>add coding for ANSI color to DA response</li>

    <li>implement UTF-8 translation for Media Copy (print)
    operations.</li>

    <li>implement vt320 control sequences for Print Composed Main
    Display and for Print All Pages. The latter directs xterm to
    print the current screen as well as the scrollback buffer.</li>

    <li>correct error in _GNU_SOURCE configure test, which left it
    always defined.</li>

    <li>add more information, i.e., with strerror for some system
    calls in the main program which may fail due to insufficient
    permissions (prompted by a problem report for <code>-C</code>
    by Jeremie Petit &lt;Jeremie.Petit@digital.com&gt;).</li>

    <li>add workaround for conflict between &lt;X11/Xpoll.h&gt; and
    &lt;sys/select.h&gt; on AIX 4.3 (Richard Griswold
    &lt;griswold@acm.org&gt;).</li>

    <li>add configure script test to resolve conflict between
    between &lt;X11/Xpoll.h&gt; and &lt;sys/select.h&gt;</li>

    <li>modify translation of UTF-8 sequences to reject "overly
    long" variations (patch by Markus Kuhn).</li>

    <li>remove <code>utf8controls</code> resource, since Markus'
    change removes the corresponding logic.</li>

    <li>correct a case where colors were not rendered properly.
    This happened when an application inserted several lines, then
    changed colors. If this was done all in one write, then there
    would be no intervening refresh, and the new color was applied
    to the pending scrolling operation which was awaiting the next
    refresh (reported by Stephane Chazelas
    &lt;Stephane_Chazelas@Raytheon.com&gt;).</li>
  </ul>

  <h1><a name="xterm_118" id="xterm_118">Patch #118 - 1999/10/5 -
  XFree86 3.9.16b</a></h1>

  <ul>
    <li>refine configure test for utmp versus utmpx, to build on
    HP-UX 10.x (reported by David Ellement).</li>

    <li>move the configure check for <code>const</code> after the
    check for ANSI C compiler options, since those may be required
    to make it work properly on HP-UX.</li>

    <li>add configure test for defining
    <code>_GNU_SOURCE</code></li>

    <li>correction to <em>-hold</em> option, ensure that if data is
    already in the output buffer that it will be displayed before
    closing the PTY.</li>

    <li>move the configure checks for setuid install of xterm into
    a script to avoid installing it setuid'd to a non-root user
    (reported by Adam Sulmicki &lt;adam@cfar.umd.edu&gt;).</li>

    <li>correct configure script's check for termcap.h to avoid
    using ncurses' version of it on systems that have a working
    <code>tgetent()</code> function. This is needed to make
    <code>resize</code> work properly.</li>

    <li>fix some typography in ctlseqs.ms description of DEC
    locator events (reported by Steve Wall).</li>
  </ul>

  <h1><a name="xterm_117" id="xterm_117">Patch #117 - 1999/9/29 -
  XFree86 3.9.16b</a></h1>

  <ul>
    <li>change order of tests in configure script for utmp and
    utmpx to test utmpx first, to compile on Solaris (reported by
    Leena Heino &lt;liinu@uta.fi&gt; and Patrik Hagglund
    &lt;patha@ida.liu.se&gt;).</li>

    <li>add a configure test for utmp.ut_xtime, needed for SCO
    Openserver, and for lastlog, needed for Redhat 6.0, to refine
    the utmp/utmpx auto-configure.</li>

    <li>remove a spurious comma in an #undef (reported by David
    Green &lt;greendjf@cvhp152.marconicomms.com&gt; and David
    Ellement &lt;ellement@sdd.hp.com&gt; both on HP-UX, whose
    compiler does care about syntax).</li>

    <li>change ifdef's using __CYGWIN32__ to __CYGWIN__ (reported
    by Suhaib M. Siddiqi &lt;Ssiddiqi@InspirePharm.Com&gt;, who is
    told that the next Cygnus release will drop that symbol in
    their next release).</li>

    <li>minor cleanup of ifdef's for makeColorPair (patch by Steve
    Wall).</li>

    <li>work around problem observed in XFree86 3.3.5 (patch by
    Alexander V Lukyanov, Redhat #5419). From the problem report:

      <blockquote>
        <p>xterm consumes cpu when selecting text with mouse
        (holding down left mouse button) and when a program working
        under the xterm outputs something to stdout.</p>

        <p>Easy way to reproduce:<br>
        <code>while :; do echo aaa; sleep 1; done</code><br>
        (while this runs, select text and hold down left mouse
        button) watch cpu load.<br>
        release left mouse button - spinning stops.</p>
      </blockquote>
    </li>
  </ul>

  <h1><a name="xterm_116" id="xterm_116">Patch #116 - 1999/9/25 -
  XFree86 3.9.16a</a></h1>

  <ul>
    <li>modify warning if change-ownership of PTY fails; some
    configurations may not happen to have old-style pty's (reported
    by Bob Maynard).</li>

    <li>improve check in configure script for group ownership of
    installed xterm; some platforms use the -g option of ls to
    toggle group off rather than on (reported by Greg Smith).</li>

    <li>minor improvement to toolbar geometry, to make it not
    resizable. This still is not satisfactory (but is usable) since
    the toolbar overlaps the xterm widget if the window is resized
    to make it smaller. It appears that some work is needed for the
    xterm widget's geometry management to make it function
    properly.</li>

    <li>implement configure script tests for utmp, tty group.</li>

    <li>implement <em>-hold</em> option, allowing users to retain
    the window after a shell has exited (this is recently an FAQ,
    but prompted by a comment by Joachim Plaettner-Hochwarth
    &lt;plaettner@aem.umn.edu&gt; in comp.unix.programmer, that the
    IRIX winterm provides this option).</li>

    <li>add support for DEC Locator control sequences for xterm
    (integrated patch by Steve Wall):
      <pre>
                DECEFR, "Enable Filter Rectangle"
                DECELR, "Enable Locator Reports"
                DECSLE, "Select Locator Events"
                DECRQLP, "Request Locator Position"
</pre>

      <p>This allows the xterm mouse to be used with applications
      that use the DEC Locator sequences, such as VAX Tpu, or SMG$
      based applications.</p>
    </li>

    <li>improve print action (patch by Matthias Baake). From his
    notes,

      <ul>
        <li>Bug 1<br>
        Underlined text is preceded by ESC&nbsp;[0;2m . This should
        be ESC&nbsp;[0;4m&nbsp;, ESC&nbsp;[2m doesn't seem to have
        any effect. (print.c/send_SGR)</li>

        <li>Bug 2<br>
        The check for the last non-empty column (while (last &gt;
        0) ... in print.c/printLine) omits the rightmost column of
        the screen, the loop must start with last =
        screen-&gt;max_col+1 instead of last =
        screen-&gt;max_col.</li>

        <li>Bug 3<br>
        Any attributes of the first character (and of all
        immediately following characters with the same attributes)
        are ignored. The variable attr (print.c/printLine) should
        be initialized with 0, not with *a &amp; SGR_MASK.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_115" id="xterm_115">Patch #115 - 1999/9/18 -
  XFree86 3.9.16a</a></h1>

  <ul>
    <li>integrated changes by Steve Wall to implement an 88-color
    model for systems where 256-colors cannot be allocated.</li>

    <li>when 256-color configuration is compiled, colored bold and
    underlining is not available; ifdef'd to avoid possible odd
    effects in this case (reported by Steve Wall).</li>

    <li>add resource <em>cacheDoublesize</em>, to limit the caching
    of font information for double-sized characters. This addresses
    a problem reported by Aryeh Koenigsberg for X terminals with
    limited font memory.</li>

    <li>modify treatment of line-drawing characters in UTF-8 mode
    so that the Unicode values are used rather than the C0 codes
    for storing the translated characters (request by Markus
    Kuhn).</li>
  </ul>

  <h1><a name="xterm_114" id="xterm_114">Patch #114 - 1999/9/15 -
  XFree86 3.9.16</a></h1>

  <ul>
    <li>add configure script checks for Athena headers and
    libraries under /usr/contrib to work on HPUX (reported by
    several people: David Nixon &lt;djn@csc.liv.ac.uk&gt; Aryeh
    Koenigsberg &lt;aryeh.koenigsberg@telrad.co.il&gt; Johannes
    M&auml;hner &lt;johanm@camline.com&gt; Andrew Gaylard
    &lt;andrew.gaylard@bsw.co.za&gt;).</li>

    <li>add check to configure script if xterm is installed setgid
    rather than setuid, since wtmp and utmp may be installed with
    group-writable permissions other than root (based on Debian bug
    report #7112 by Bo Branten &lt;bosse@ing.umu.se&gt;).</li>

    <li>rewrote logic that removes data from termcap entry, e.g.,
    for titeInhibit, to make it less likely to remove the wrong
    data.</li>

    <li>correct logic which checks for missing characters used for
    line drawing. The 0 character was tested unnecessarily, leading
    to some inefficiency when rendering.</li>

    <li>change termcap capability which is used as input or output
    of ptyInitialErase logic from <em>kD</em> to <em>kb</em>.
    Christian Weisgerber &lt;naddy@mips.rhein-neckar.de&gt; pointed
    out in effect that <em>kD</em> (in terminfo <em>kdch1</em>)
    should correspond to the control sequence for <em>dch1</em>,
    which deletes from the current position toward the right.</li>

    <li>check for failure to change ownership of the PTY device and
    warn when xterm is running setuid'd to root. This was reported
    to happen on the FreeBSD/NetBSD/OpenBSD systems as a result of
    the chflags() call.</li>

    <li>add xterm-noapp terminfo entry to illustate a nominally
    bash-compatible terminal description.</li>
  </ul>

  <h1><a name="xterm_113" id="xterm_113">Patch #113 - 1999/8/15 -
  XFree86 3.9.15b</a></h1>

  <p>Several fixes. The main one is a first draft of pulldown
  menus. It's not complete (I have some minor/annoying geometry
  problems to correct), but is usable. Once it's complete I plan to
  add a menu to support additional selections that won't fit on the
  current popup menus. Also, this fits into my longterm plan to
  allow configuring with Motif libraries.</p>

  <ul>
    <li>correct error in input conversion for NRC mode (reported by
    Stefan Traby &lt;stefan@sime.com&gt;).</li>

    <li>fix initialization of num_lock data in Misc struct (since
    those fields of the reference widget aren't initialized), and
    add logic to deal with XVision whose NumLock key does not
    transmit but does alter keypad state.</li>

    <li>correct a missing return-value in get_pty(), for SCO</li>

    <li>add E2A fix for backspace (patch by Greg Smith), i.e.,<br>
    #define VAL_INITIAL_ERASE A2E(127)</li>

    <li>correct foreground color within cursor outline when the
    window is unfocused (reported by Stephane Chazelas).</li>

    <li>corrected position of scrollbar set in ResizeScrollBar(),
    which left it positioned incorrectly if the right scrollbar
    were enabled from the popup menu but was not initially enabled.

      <p>I have noticed some additional problems with
      right-scrollbar on X11R5 which I will correct later.</p>
    </li>

    <li>integrate changes by Jean-Claude Michot for QNX from
    XFree86 3.3.4c</li>

    <li>add resources menuBar/MenuBar, menuHeight/MenuHeight for
    later use in toolbar geometry.</li>

    <li>add configure option --enable-toolbar</li>

    <li>add missing definition to make ziconbeep logic not
    compile-in when configure script disables it.</li>

    <li>add configure-check for input-method support in X
    libraries</li>
  </ul>

  <h1><a name="xterm_112" id="xterm_112">Patch #112 - 1999/7/17 -
  XFree86 3.9Pw</a></h1>

  <ul>
    <li>add null-pointer check to FlushLog(), fixes a core dump
    when both -l and -lf options are used when xterm is configured
    with wide-character support.</li>

    <li>remove "ISO" case for SD, which was due to a typographical
    error in ECMA-48 (reported by Paul Williams
    &lt;paul@celigne.co.uk&gt; for vttest).</li>

    <li>add "FILES" section to manpage.</li>

    <li>generate header file to initialize default resources for
    colors 16-255.</li>

    <li>fixes for os390 (Greg Smith):

      <ul>
        <li>add README.os390</li>

        <li>use the pty_search() function to find an available
        pty/tty pair.</li>

        <li>move E2A() call out of getXtermCell() to SaveText()
        function so it will be available in all
        configurations.</li>
      </ul>
    </li>

    <li>patches by Todd Larason:

      <ul>
        <li>enable SGR 48 5 in ISO color mode, not just 256 color
        mode</li>

        <li>change configure's --disable-256-color option to
        --enable-256-color, to match its effect</li>

        <li>fix OSC 4 xx ? (report ansi color) to report a string
        which can actually be used to set the color back</li>

        <li>fix OSC 4 xx yy (change ansi color) to not allow
        setting colors &gt; 15 in 16 color mode</li>

        <li>simplify the COLOR_ settings a bit in ptyx.h, along
        with setting NUM_ANSI_COLORS needed for #1 and #4
        above</li>

        <li>correct string-terminator code passed for reference to
        OSC responses; when in 7-bit mode, only the final byte of
        ST was seen.</li>

        <li>Allow multiple color #;name pairs in OSC 4, and
        document changes to match.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_111" id="xterm_111">Patch #111 - 1999/7/10 -
  XFree86 3.9Pw</a></h1>

  <ul>
    <li>add control sequences for specifying the RGB value of the
    ANSI colors, and for configuring with 256 colors (patch by Todd
    Larason &lt;jtl@molehill.org&gt;). I made the default
    configuration to 16-colors, because xterm uses the default
    color map (which has only 256 colors).</li>

    <li>correct an error in DCS $ q m reporting for colors 8-15
    (Todd Larason).</li>

    <li>add test/demo script for double size characters. Used this
    to test/correct display of double size characters that should
    wrap, underlined double size characters.</li>

    <li>increased cache size for double size fonts to 8, to allow
    for both normal and bold fonts (discussion with Aryeh
    Koenigsberg &lt;aryeh.koenigsberg@telrad.co.il&gt;).</li>

    <li>add fixes for port to OS390 aka MVS (integrated patch from
    Greg Smith &lt;rys@epaibm.rtpnc.epa.gov&gt;). OS390 uses EBCDIC
    rather than ASCII.</li>

    <li>correct an off-by-one in binary search limits in
    keysym2ucs.c (Markus Kuhn).</li>

    <li>implement logging for UTF-8 mode. The output is written in
    UTF-8 form.</li>
  </ul>

  <h1><a name="xterm_110" id="xterm_110">Patch #110 - 1999/6/29 -
  XFree86 3.9Pu</a></h1>

  <ul>
    <li>If colorMode is enabled by default, compile-in default
    resources to match the colors listed in XTerm-col.ad (this
    should fix a longstanding FAQ).</li>

    <li>added new OSC&nbsp;3&nbsp;;&nbsp;PROPNAME=VALUE&nbsp;ST
    escape sequence to set an arbitrary X property on the top level
    xterm X11 window. Omit "=VALUE" to delete the X property (patch
    by Greg Badros &lt;gjb@cs.washington.edu&gt;).</li>

    <li>change internal flag used for <em>utf8controls</em>
    resource so we allow 31-bit range of characters (suggested by
    Thomas Wolff).</li>

    <li>add check for 16-bit characters in OSC strings, change them
    to '?' (reported by Thomas Wolff).</li>

    <li>modify logic of same_font_name() to avoid trying to
    interpret both parameters as wildcard patterns. That does not
    (cannot) work, and in some instances the font server will
    return unresolved wildcards for the normal or bold fontnames,
    making them match inadvertently, triggering the fallback
    overstrike logic (reported by Tim Adye).</li>
  </ul>

  <h1><a name="xterm_109" id="xterm_109">Patch #109 - 1999/6/23 -
  XFree86 3.9Pt</a></h1>

  <ul>
    <li>correct range-check from patch #108, which resulted in not
    being able to select from the scrollback buffer (reported by
    Tim Adye &lt;T.J.Adye@rl.ac.uk&gt;)</li>

    <li>correct "no available ptys" problem with Cygwin B20.1
    (patch by Tim Adye).</li>

    <li>modified install-ti rule in Makefile.in to allow override
    of the terminfo directory when doing a "make install", i.e., by
    assigning to TERMINFO_DIR (request by Zdenek Sekera
    &lt;zs@sgi.com&gt;).</li>

    <li>added install-full rule to Makefile.in</li>

    <li>resync mkdirs.sh and install.sh scripts against current
    autoconf</li>

    <li>implement $(DESTDIR) in Makefile.in, making it simple to
    install xterm and associated files into a directory just for
    packaging a binary release (suggested by CaT
    &lt;cat@zip.com.au&gt;).</li>

    <li>change IChar type to unsigned, rather than unsigned short,
    making room for a flag to keep with 16-bit characters to
    prevent them from being interpreted as C0 or C1 controls
    (reported by Thomas Wolff).</li>

    <li>correct a typo from patch #107, incorrect array name, in
    the filterUTF8 function (patch by Bruno Haible
    &lt;haible@ilog.fr&gt;)</li>

    <li>add <em>utf8controls</em> resource to specify whether xterm
    should interpret 16-bit characters unpacked from UTF-8 form as
    control characters if they happen to fall into that range. This
    behavior is left unspecified by the Unicode standard (request
    by Thomas Wolff).</li>

    <li>modify handling of OSC to recover if application sends
    16-bit characters with codes above 255. We cannot display them
    as is, but translate out-of-range characters to a '?' (reported
    by Thomas Wolff).</li>
  </ul>

  <h1><a name="xterm_108" id="xterm_108">Patch #108 - 1999/6/19 -
  XFree86 3.9Ps</a></h1>

  <ul>
    <li>add a range-check to LastTextCol(), to guard against
    indexing before the beginning of the scrollback buffer. This
    appears to happen with certain fonts under X11R5 (reported by
    Stephane Chazelas &lt;Stephane_Chazelas@Raytheon.com&gt;).</li>

    <li>implement resource <em>boldMode</em>, to allow disabling
    the simulation of bold fonts when the bold and normal fonts are
    not different (requested by Will Day
    &lt;willday@rom.oit.gatech.edu&gt;).</li>

    <li>change the atom "UTF-8" to "UTF8_STRING", and fixes a few
    bugs in the UTF-8 selection (patch by Juliusz Chroboczek).</li>

    <li>correct logic of binary-search in keysym2ucs.c (patch by
    Markus Kuhn).</li>

    <li>add special interpretation of keysym codes above 0x1000000
    as the corresponding UCS value plus 0x1000000 (patch by Markus
    Kuhn).</li>
  </ul>

  <h1><a name="xterm_107" id="xterm_107">Patch #107 - 1999/6/12 -
  XFree86 3.9Pq</a></h1>

  <ul>
    <li>Two changes from Stephen P Wall. From his description:

      <blockquote>
        <p>The first change is simple - I added ESC[3J to erase the
        stored lines above the screen. That's what the changes to
        util.c and ctlseqs.ms are.</p>

        <p>The second change is to get the blinking cursor working.
        I took out the cursorBlinkTime resource, and put in
        cursorBlink (Boolean), cursorOnTime (time cursor is on in
        msecs) and cursorOffTime, and added a cursorblink item to
        the vtMenu to enable/disable it.</p>
      </blockquote>
    </li>

    <li>improve selection (integrated patch by Juliusz Chroboczek).
    From his description:

      <blockquote>
        <p>With this patch, selection conversion works
        properly:</p>
        <pre>
        ISO 8859-1 xterm -&gt; ISO 8859-1 xterm (transferred as STRING);
        ISO 8859-1 xterm -&gt; UTF-8 xterm (transferred as STRING);
        UTF-8 xterm -&gt; ISO 8859-1 xterm (transferred as STRING);
        UTF-8 xterm -&gt; UTF-8 xterm (transferred as UTF-8).
</pre>

        <p>It will not work properly if one xterm is in, say, ISO
        8859-2. Actually, for this case xterm breaks the ICCCM
        routinely (sending ISO 8859-2 data as STRING), so I
        wouldn't worry too much about it. I have not changed the
        behaviour in eight-bit mode in any way.</p>
      </blockquote>
    </li>
  </ul>

  <h1><a name="xterm_106" id="xterm_106">Patch #106 - 1999/6/9 -
  XFree86 3.9Pq</a></h1>

  <ul>
    <li>remove duplicate fix for OpenBSD in resize.c</li>

    <li>correct logic in ScreenWrite, which did not reset the high
    bytes of 16-bit characters when overwriting them with a 8-bit
    character string (reported by Thomas Wolff).</li>

    <li>provide limited support for input of UTF-8 16-bit data by a
    lookup table (integrated patch by Markus Kuhn).</li>

    <li>correct check in non_blank_line to ensure we're in
    wide-character mode before looking at the high bytes, for
    InsertChar.</li>
  </ul>

  <h1><a name="xterm_105" id="xterm_105">Patch #105 - 1999/6/5 -
  XFree86 3.9Pp</a></h1>

  <ul>
    <li>implement new resource <em>trimSelection</em>, which allows
    xterm to trim trailing blanks from selected lines. This does
    not affect the highlighting. (reported by several people using
    <em>mutt</em>, including Hans Morten Kind &lt;edphk@uib.no&gt;,
    Jeremy &lt;jeremy@exit109.com&gt; and (Michael Fuller
    &lt;msf@mds.rmit.edu.au&gt;).</li>

    <li>include term.h in resize for OpenBSD (patch by Matthieu
    Herrb).</li>

    <li>correct logic for UTF-8 in functions that hide and show the
    cursor; it was displaying a space whenever the low byte of the
    character at the cursor position was zero (reported by Thomas
    Wolff &lt;Thomas.Wolff@icn.siemens.de&gt;).</li>
  </ul>

  <h1><a name="xterm_104" id="xterm_104">Patch #104 - 1999/5/30 -
  XFree86 3.9Pn</a></h1>

  <p>This is a resync patch against XFree86 3.9Pn, reflecting
  changes which were submitted by Branden Robinson, who worked with
  Wichert Akkerman &lt;wichert@cs.leidenuniv.nl&gt; to set up
  ifdef's to handle GNU libc 2.1, and use getpt() which lets xterm
  avoid having to know the actual PTY name.</p>

  <p>I have also added a few fixes for signed/unsigned mismatches,
  and corrected a problem in the configure script (the UTF-8 code
  was always configured since the Imakefile defines this).</p>

  <h1><a name="xterm_103" id="xterm_103">Patch #103 - 1999/5/14 -
  XFree86 3.9Pm</a></h1>

  <ul>
    <li>correct selection logic: I omitted an offset that accounts
    for the distance into the scrollback buffer when rewriting this
    for patch #101. Also fixed a similar problem for selecting
    double size characters from the scrollback buffer (first was
    reported by D Roland Walker &lt;walker@pobox.com&gt;).</li>

    <li>improved support for Unix98 PTY's, using patch in Debian
    bug report #35650, by J.H.M. Dassen
    &lt;jdassen@wi.leidenuniv.nl&gt;. From the patch description:

      <blockquote>
        <ul>
          <li>No longer links xterm against libutil on a glibc2.1
          system. libutil is a compatibility library and should
          only be used when necessary. Rather than having get_pty()
          use openpty() from this compatibility library, use the
          real UNIX98 pty support in get_pty() (open()ing the
          master pty, through getpt() if available (glibc
          extension)). Use openpty() only under glibc2.0.</li>

          <li>GNU libc2 is not Linux-specific; already it runs on
          the Hurd. It provides the UNIX98 pty functions (plus the
          getpt() extension), regardless of the underlying OS.
          Changed two constructs to look for GNU libc2 only, not
          GNU libc2 on Linux.</li>
        </ul>
      </blockquote>
    </li>

    <li>improve font configuration, by checking if the user's
    resource settings for normal and bold fonts give the same font
    sizes (fixes problem reported by Peter Waltenberg
    &lt;peterw@dascom.com&gt;).</li>
  </ul>

  <h1><a name="xterm_102" id="xterm_102">Patch #102 - 1999/5/12 -
  XFree86 3.9Pm</a></h1>

  <ul>
    <li>revert change to openpty call in patch #101; this causes
    xterm to fail on DEC-Alpha OSF/1 4.0B (reported by H Merijn
    Brand).</li>

    <li>modify print.c to move include of stdio.h after the
    autoconf'd xtermcfg.h since HP's ANSI C compiler otherwise sees
    inconsistent prototype for getopt, probably due to problem with
    const (reported by H Merijn Brand).</li>
  </ul>

  <h1><a name="xterm_101" id="xterm_101">Patch #101 - 1999/5/10 -
  XFree86 3.9Pm</a></h1>

  <ul>
    <li>moved includes and definitions for 'select' from data.h to
    xterm.h to fix problem introduced by prototype for getPtyData,
    part of UTF-8 changes (reported by Jens Schleusener
    &lt;Jens.Schleusener@dlr.de&gt;)</li>

    <li>added "Meta &lt;Btn2Down&gt;:clear-saved-lines()" default
    translation (patch by H Merijn Brand)</li>

    <li>fixes to configure script and ifdef's in main.c to build on
    a HP9000/D390 (hppa-2.0w) running HP-UX 11.00 (64 bit) with
    egcs 1.1.2 and HP's ANSI C compiler (patch by H Merijn Brand
    &lt;PROCURA_BV@CompuServe.com&gt;)</li>

    <li>add more parentheses in ifdef's (patch by Bob
    Maynard).</li>

    <li>eliminate conflicting definitions for USE_TERMINFO in
    resize.c (reported by Jeremy Buhler).</li>

    <li>change openpty call to pass NULL rather than ttydev
    parameter, since that was used only to estimate the length of
    the corresponding data, and may not really be long enough
    (reported by Andreas Jaeger)</li>

    <li>update description in xterm manpage for character class
    table, which said it handles only 7-bit codes.</li>

    <li>correct a typo in ScrnDeleteChar() which made it not clear
    the high byte of wide-character data.</li>

    <li>add logic to convert selection to UTF-8 form when
    appropriate. This makes select/paste "work", but further work
    is needed to make UTF-8 recognized as a locale in Xlib.</li>

    <li>correct right-limit check when selecting double-width
    characters.</li>

    <li>change default answerback response to an empty string.</li>
  </ul>

  <h1><a name="xterm_100" id="xterm_100">Patch #100 - 1999/5/3 -
  XFree86 3.9Pl</a></h1>

  <ul>
    <li>Correct a typo in the default resource value for
    backarrowKeyIsErase: it was always true (reported by Bram
    Moolenaar).</li>

    <li>improve configure script's test if the installed xterm is
    setuid, in case that is a symbolic link.</li>

    <li>correct "install-ti" rule in Makefile.in, by not setting a
    blank $TERMINFO value. That is interpreted as "." by ncurses'
    tic.</li>
  </ul>

  <h1><a name="xterm_99" id="xterm_99">Patch #99 - 1999/5/2 -
  XFree86 3.9Pk</a></h1>

  <ul>
    <li>correct logic that computes num_ptrs count of the number of
    indices into the screen buffer. This is the maximum of the
    colors and character-set indices; was incorrect in patch
    #97.</li>

    <li>correct argument type for sigsetjmp, incidental change in
    patch #96's Unix88 PTY patch (reported by Bram Moolenaar).</li>

    <li>correct description of secondary DA in ctlseqs.ms (reported
    by Bram Moolenaar).</li>

    <li>decouple the backarrowKey and ptyInitialErase resources by
    adding a new resource backarrowKeyIsErase, to accommodate
    people using applications which have hardcoded tests for
    characters 8 and 127 rather than relying on the stty
    settings.</li>

    <li>modify the UTF-8 decoder so that all possible illegal UTF-8
    sequences are properly represented by U+FFFD. This should be
    very helpful for developers of code that output UTF-8 strings
    for debugging. See the file utf-8-test.txt in
    http://www.cl.cam.ac.uk/~mgk25/download/ucs-fonts.tar.gz for a
    demonstration text that contains numerous illegal UTF-8 values.
    (patch by Markus Kuhn).</li>

    <li>correct a place in ScrnRefresh where I was filling the high
    byte of a wide character with a space rather than a null
    (reported by Markus Kuhn).</li>
  </ul>

  <h1><a name="xterm_98" id="xterm_98">Patch #98 - 1999/4/26 -
  XFree86 3.9Pk</a></h1>

  <ul>
    <li>correct data manipulation in unparseputc(), broken for
    little-endian machines by patch #97's UTF-8 changes. This meant
    that keyboard input on SunOS did not work, though Linux i386
    was fine.</li>

    <li>modify initialization for backarrowKey and logic for
    initial-erase to prevent the initial-erase from overriding an
    explicitly set backarrowKey resource (reported by Vikas
    Agnihotri).</li>

    <li>add a missing null-pointer check in ScrnRefresh, for the
    wide-characters configuration.</li>
  </ul>

  <h1><a name="xterm_97" id="xterm_97">Patch #97 - 1999/4/25 -
  XFree86 3.9Pk</a></h1>

  <ul>
    <li>add configure script test for -lutil, needed for openpty
    call when configuring xterm for Glibc-2.1 and Unix98 PTY's
    (first reported by Martin Lorentz"
    &lt;m.lorentz@w12.link-goe.de&gt;).</li>

    <li>completely parenthesize ifdef expressions for Glibc
    (suggested by Bob Maynard).</li>

    <li>add initial-erase options (-ie, +ie) to help message
    (reported by Vikas Agnihotri).</li>

    <li>remove duplicate definition of USE_USG_PTYS (reported by
    Jeremy Buhler).</li>

    <li>change termcap <em>kD</em> and terminfo <em>kdch1</em> to a
    DEL (\177). I overlooked this when separating the styles of
    keyboard with the <em>sunKeyboard</em> resources in patch #94,
    so that it normally matches the value of the stty erase
    character:

      <ul>
        <li>Reported by Jae Gangemi
        &lt;jgangemi@ccf.rutgers.edu&gt;, this caused emacs to not
        process the DEL properly, combining it with succeeding
        characters.</li>

        <li>This does not appear to be related to a problem which I
        have found with <em>screen</em>, which translates the stty
        erase into the termcap <em>kD</em> or terminfo
        <em>kdch1</em> value (depending on how it is linked) if the
        $TERMCAP variable is set when <em>screen</em> is
        invoked.</li>
      </ul>
    </li>

    <li>add command-line options for enabling UTF-8 mode: -u8 and
    +u8. The more obvious -utf8 and +utf8 would conflict with
    xterm's -ut and +ut (utmp) options. The UTF-8 changes were
    requested by Markus Kuhn &lt;Markus.Kuhn@cl.cam.ac.uk&gt;. This
    patch does not complete UTF-8 implementation, but makes it
    usable, i.e., display and refresh work, and I am able to
    display the test cases which Markus provides. More work is
    needed to complete this feature:

      <ul>
        <li>the control sequences for switching in/out of UTF-8
        mode are partly implemented (don't use them). Similarly,
        the switching between vt100 and tek4014 emulations when
        UTF-8 mode is enabled will not work properly.

          <p>You must use the -u8 command line option to use this
          feature, as well as compile with the OPT_WIDE_CHARS
          definition.</p>
        </li>

        <li>cut/paste only copies 8-bit characters.</li>

        <li>logging is disabled in the wide-character
        configuration</li>

        <li>printing only writes 8-bit characters.</li>

        <li>input only does 8-bit characters. This is the area that
        I know least about.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_96" id="xterm_96">Patch #96 - 1999/4/19 -
  XFree86 3.9Pj</a></h1>

  <ul>
    <li>modify Makefile.in to work with configure script's --srcdir
    option. (patch by Jeremy Buhler
    &lt;jbuhler@cs.washington.edu&gt;)</li>

    <li>add checks for 'echo -n' equivalent for 8colors.sh and
    16colors.sh scripts (reported by Vikas Agnihotri).</li>

    <li>improve logic that looks for bold fonts to allow for
    wildcards in the specification for normal fonts, and to ensure
    that if a bold font is specified as normal, that xterm will
    simulate a bold version of that using a one-pixel offset
    overstrike (reported by Henrik Harmsen
    &lt;harmsen@erv.ericsson.se&gt;).</li>

    <li>correct horizontal spacing of double width line-drawing
    characters that xterm simulates.</li>

    <li>improve support for Unix98 PTY's, using patch in Debian bug
    report #35650, by Topi Miettinen
    &lt;Topi.Miettinen@medialab.sonera.fi&gt;. Andreas Jaeger says
    this also corrects a permissions problem reported by
    cat@zip.net.au</li>

    <li>modify initial-erase logic to ensure that
    <code>ttyModes</code> resource overrides it.</li>
  </ul>

  <h1><a name="xterm_95" id="xterm_95">Patch #95 - 1999/4/5 -
  XFree86 3.9Ph</a></h1>

  <ul>
    <li>modify primary DA response to allow a '1' parameter.</li>

    <li>add printer and national replacement character sets to
    VT220 primary DA response.</li>

    <li>document primary and secondary DA responses in
    ctlseqs.ms</li>

    <li>use the patch number (e.g., 95) in the secondary DA
    response, providing user applications a means of determining
    the version of xterm for feature comparison (request by Bram
    Moolenaar).</li>

    <li>make xterm respond to secondary DA when the decTerminalID
    is set for VT100.</li>

    <li>limit user-defined keys (DECUDK) to VT220-style keyboard
    when sunKeyBoard resource is true.</li>

    <li>modify ifdef's for Linux-2.2.x with Glibc-2.1 to work with
    Glibc-2.1 and no Unix98 PTY support (patch from Andreas Jaeger
    &lt;aj@arthur.rhein-neckar.de&gt;)</li>

    <li>add optional feature (resource and command-line options) to
    make xterm use the PTY's sense of erase character on startup,
    rather than requiring it to be \177, or set the PTY's erase
    character to match xterm's configuration. Note that while
    $TERMCAP is modified to reflect the actual configuration, the
    terminfo kdch1 string is not (request by Dirk H Hohndel
    &lt;hohndel@suse.de&gt;)</li>

    <li>improve scripts in vttests to work with newer shells that
    do not use 'echo -n'.</li>

    <li>add fonts.sh example script</li>

    <li>correct inequality in handling of "#1" font
    specification.</li>

    <li>correct call to XGetWMNormalHints() used for computing
    maximum screen size; the size hints may not have been set.</li>

    <li>begin implementation of support for wide-characters
    (configure option --enable-wide-chars defines OPT_WIDE_CHARS,
    invoke xterm with -wc option to activate this feature). This
    patch optionally widens internal data structures, invokes the
    16-bit text output rather than the 8-bit version and adds some
    tables.</li>
  </ul>

  <h1><a name="xterm_94" id="xterm_94">Patch #94 - 1999/3/27 -
  XFree86 3.9Pf</a></h1>

  <ul>
    <li>further fixes for terminfo: ka1, ka3, etc., differ between
    the default xterm-xfree86 and xterm-vt220 entries.</li>

    <li>change default (with sunKeyboard resource false) behavior
    of the editing keypad "Delete" to send a 127, like xterm-r6.
    The VT220-style <code>&lt;ESC&gt;[3~</code> is sent when
    sunKeyboard is true (reported by Tomas Vanhala).</li>

    <li>add parameters to function keys to indicate if shift,
    control or alt are set. The codes are based on a description of
    a DEC VT510 with a PC keyboard, from Jeffrey Altman
    &lt;jaltman@watsun.cc.columbia.edu&gt;.</li>

    <li>add control sequence 1035, set-num-lock action and num-lock
    menu entry to control the use of the NumLock and Alt keys for
    the Sun/PC and VT220 keyboard extensions.</li>

    <li>implement DECSET/DECRST numeric keypad (DECNKM) mode.</li>

    <li>modify terminfo and termcap to use recommended "X Window"
    or "X11" names rather than "X Windows" (reported by Tomas
    Vanhala).</li>

    <li>suppress translation of shifted keypad "+" when sunKeyboard
    is true.</li>

    <li>workaround unexpected behavior (perhaps bug) in
    XmbLookupString, which returns trash in the string buffer for
    numlock and control-key combined with keypad-keys.</li>

    <li>modify ScrollBarReverseVideo() to keep scrollbar border
    visible when reverse video is toggled.</li>

    <li>correct missing case for parameter 17 (set highlight color)
    in dynamic colors control sequences.</li>

    <li>extend dynamic colors control sequences to allow users to
    determine the colors and font which are currently active.</li>

    <li>minor tweak to OSC responses, to use BEL if the application
    used that to end the request, rather than ST. This works better
    with shell scripts, which may not handle an
    <code>&lt;ESC&gt;backslash</code> very well.</li>

    <li>separate menu settings for reverse video from that done
    under program control.</li>

    <li>corrected ifdef's for menus, which did not allow tek4014 to
    be suppressed properly (reported by Clint Olsen).</li>

    <li>changes for Linux-2.2.x with GLibc-2.1 and /dev/ptmx
    support (integrated patch from Pavel Roskin):

      <ul>
        <li>main.c and resize.c were using different rules to
        determine whether ATT should be defined (actually
        USE_USG_PTYS is more apt).</li>

        <li>copy definitions from main.c to resize.c to prevent
        sys/stream.h and sys/ptem.h from inclusion when SYSV is not
        defined</li>

        <li>define CNUL if not already defined like other
        variables.</li>

        <li>/dev/tty does exist in Linux, but it doesn't mean, it
        should be used. Therefore EACCES is now an acceptable
        result.</li>

        <li>ifdef'd several calls such as <code>ioctl (ptyfd,
        I_PUSH, "ptem")</code> to build on Linux (I_PUSH is not
        defined when sys/stropts.h is not included).</li>
      </ul>
    </li>

    <li>initialize second "ltc" variable in main.c (reported by
    David Dawes).</li>

    <li>provide definition for USE_USG_PTYS in screen.c</li>

    <li>add resource-files to install rule in standalone
    Makefile.in</li>

    <li>add sample scripts to illustrate titlebar controls,
    resizing and colors.</li>
  </ul>

  <h1><a name="xterm_93" id="xterm_93">Patch #93 - 1999/3/14 -
  XFree86 3.9Pd</a></h1>

  <p>Here are several fixes and minor enhancements. The chief ones
  are the fixes for NumLock mode and reverse video, since we had
  become used to working around the problems.</p>

  <ul>
    <li>remove kfnd/kll/kslt strings from terminfo, because curses
    applications do not necessarily return khome/kend pairs
    (reported by Vikas Agnihotri).</li>

    <li>implement NumLock resource which overrides the keyboard
    tables for the special case of keypad keys. This is a problem
    introduced in xterm by X11R6 changes, i.e., an ambiguity which
    in effect discarded vt100 keypad support.</li>

    <li>modify Sun/PC keyboard mode to extend this (emulation of
    DEC vt100 keypad) to the remainder of the numeric keypad. Now,
    the default operating mode of xterm uses the keyboard tables
    as-is (except if the NumLock mode overrides), but provides good
    vt100 keypad compatibility if the Sun/PC keyboard menu item is
    checked.</li>

    <li>separate command-line settings for reverse video from that
    done under program control. This is a problem which was
    introduced by X11R6. Though <em>correct</em>, most users are
    confused by allowing the reset command to undo the effect of
    the command-line <kbd>-rv</kbd> option.</li>

    <li>add description of function keys, keypad and cursor keys to
    ctlseqs.ms</li>

    <li>add terminfo entries for xterm-vt52, xterm-sun and
    xterm-hp</li>

    <li>correct typo (missing case value) for DECSET 35,
    enable/disable shifted keypad action and a few compiler
    warnings (reported by Zdenek Sekera &lt;zs@sgi.com&gt;).</li>

    <li>correct reporting of color values 8-15 in DECRQSS (reported
    by Vikas Agnihotri).</li>

    <li>modify parsing of ttyModes resource to recognize "^-" as
    "undef" (requested by Tomas Vanhala).</li>

    <li>integrate/extend changes to add iconify/maximize actions
    (from Edward S. Arthur &lt;eda@ultranet.com&gt;).</li>

    <li>add control sequences for maximizing/restoring window, and
    for reporting maximum screen size.</li>

    <li>add 'interpret' action, to support local function-key
    interpretation. Used properly, this makes most of the
    specialized actions of xterm redundant.</li>

    <li>add control sequence private modes 1051, 1052 and 1052, for
    setting the Sun and HP function key modes, and for setting the
    Sun/PC keyboard mode.</li>

    <li>add configure option --disable-maximize</li>

    <li>add configure option --disable-num-lcok</li>

    <li>extend descriptions of configure script options in
    INSTALL.</li>
  </ul>

  <h1><a name="xterm_92" id="xterm_92">Patch #92 - 1999/2/5 -
  XFree86 3.9Nz</a></h1>

  <ul>
    <li>increase buffer size for tgetent (i.e., termcap) to 1500.
    This fixes a problem where <em>screen</em> is built using
    ncurses or GNU termcap and <em>xterm</em> is built using the
    standard termcap interface. The former does not limit the
    termcap size, while the latter is assumed to be no longer than
    1023 characters. The <em>screen</em> program's termcap entry is
    about 1200 characters long.</li>

    <li>change update_menu_item() to a function, to simplify
    debugging. This also reduces the executable by 4Kb.</li>

    <li>add control sequences for DECSET 30, 1010, 1011 like rxvt
    (enable or disable some features that were only settable via
    resources or command line arguments).</li>

    <li>add control sequence for DECSET 35, which enables/disables
    the shifted keypad functions.</li>

    <li>add support for switching font sizes, by stepping through
    the font menu using shifted keypad plus and minus.</li>

    <li>correct missing initialization of tekInhibit and tekSmall
    resources.</li>

    <li>correct ifdef's in charproc.c for XtNgeometry and
    XtCGeometry (reported by Bram Moolenaar).</li>
  </ul>

  <h1><a name="xterm_91" id="xterm_91">Patch #91 - 1999/1/21 -
  XFree86 3.9Nw</a></h1>

  <ul>
    <li>Implement logic to translate input characters which are
    mapped when in vt220 National Replacement Character mode
    (requested by Tomas Vanhala).</li>

    <li>Resync configure scripts with my patches to autoconf
    2.13</li>

    <li>Change order of -lXmu and -lXext to accommodate cygwin32
    (reported by Vikas Agnihotri).</li>

    <li>Add "-ti" option to set terminal emulation level from
    command line rather than via resource.</li>

    <li>Simplify some of the preprocessor logic using #elif.</li>
  </ul>

  <h1><a name="xterm_90" id="xterm_90">Patch #90 - 1998/12/13 -
  XFree86 3.9Nq</a></h1>

  <p>This implements several small fixes and enhancements. The
  chief one implements fallback support for line drawing characters
  with fonts that do not include those characters. But I
  implemented that last.</p>

  <ul>
    <li>If any of the glyphs in positions 0-31 (used by xterm to
    implement the VT100 alternate character set) are zero-sized
    (i.e., missing), xterm will reserve a normal space for the
    glyph when drawing. I implemented a simple stroke-drawing
    function to draw the line-drawing characters and a couple of
    the other (simpler) characters such as diamond. (This was
    suggested by Vikas Agnihotri).</li>

    <li>Modify the computation of doublesize characters to work
    around font servers which shift the scaled characters up/down
    or do not give the correct width.</li>

    <li>Add popup menu item and corresponding resource settings to
    disable the font-scaling logic for doublesize characters to
    work around (older) font servers which simply do not draw the
    fonts scaled to the size that they said they would. I see this
    problem on a SunOS system running X11R5; the X11R6 servers seem
    well behaved.</li>

    <li>Implement new escape sequence, private mode 1049, which
    combines the switch to/from alternate screen mode with screen
    clearing and cursor save/restore. Unlike the existing escape
    sequence, this clears the alternate screen when switching to it
    rather than when switching to the normal screen, thus retaining
    the alternate screen contents for select/paste operations.

      <p>When I implemented the popup menu entry to toggle between
      the normal and alternate screens, I considered only pasting
      from the normal screen to the alternate; this improvement
      allows either direction.</p>
    </li>

    <li>Changed the termcap and terminfo for xterm-xfree86 and
    xterm-8bit to use the new 1049 private mode.</li>

    <li>Modify the logic which switches between normal and
    alternate screens so that the save/restore cursor operations
    apply only to the current screen. That means that applications
    which use the terminfo smcur/rmcur or termcap ti/te
    capabilities will restore the cursor to the original position
    on the normal screen rather than to the most recent place where
    a save-cursor operation was performed.

      <p>I note that a real VT100 terminal would not behave in this
      way, but it is a moot point since the VT100 does not
      implement alternate screen, and therefore the save/restore
      cursor sequence would not be used in this context. I reviewed
      the logic which switches between normal and alternate screens
      based on some recent newsgroup postings as well as a proposed
      patch in the Debian group which attempts to do this (the
      patch has a bug, however, so I did not use it).</p>
    </li>

    <li>Add popup menu entry for toggling the titeInhibit
    resource.</li>

    <li>Add new resource answerbackString, which overrides the
    default "xterm" returned by xterm when responding to an ENQ
    (control/E) character (request by Rajesh Vaidheeswarran
    &lt;rv@fore.com&gt;).</li>

    <li>Add new resource keyboardDialect for setting the NRC
    display character set (request by Tomas Vanhala, who notes that
    I should add logic to translate the keyboard as well).</li>

    <li>Add new command-line option and corresponding resources for
    making xterm generate escape sequences compatible with HP
    terminals. Like the existing Sun escape sequences, this is
    available as a popup menu item. It is enabled by the configure
    script with the option --enable-hp-fkeys (requested by Toni
    Mueller &lt;sales@oeko.net&gt;).</li>

    <li>Add configure script option --disable-boxchars to disable
    the fallback support for line drawing characters.</li>

    <li>Fix ifdef's for configure script --disable-ansi-color, and
    reviewed all configure options to ensure that all can be
    enabled/disabled appropriately.</li>

    <li>Update config.guess and config.sub, from Lynx.</li>
  </ul>

  <h1><a name="xterm_89" id="xterm_89">Patch #89 - 1998/11/20 -
  XFree86 3.9Nm</a></h1>

  <p>This patch completes the implementation of double-sized
  character support for the VT100 emulation, and fixes a few minor
  bugs:</p>

  <ul>
    <li>corrected the cursor position in HideCursor, which did not
    multiply the column by two when in doublesize mode. This bug,
    which did not appear in normal use, dates back to my original
    <a href="#xterm_44">changes</a> to partly implement
    double-sized characters. I noticed it when cat'ing a typescript
    from vttest's double-sized character test.</li>

    <li>ensure that the current line is repainted when switching
    between single and double width characters.</li>

    <li>reduce the number of bits used for double-sized character
    coding from 3 to 2, to make more room for soft-font codes.</li>

    <li>copy newer ifdef's from the XFree86 3.3.3 release's main.c,
    which address details of glibc and powerpc.</li>

    <li>moved definition of DECL_ERRNO in xterm.h to match XFree86
    3.3.3</li>

    <li>modify <em>resize</em> to remove the ifdef on SVr4 that
    suppressed printing the script for $LINES and $COLUMNS.
    Solaris' resize utility does this; suppressing the behavior is
    unnecessary.</li>
  </ul>

  <p>I tested the double-sized characters using vttest and the
  xfsft patch. These fonts worked reasonably well:</p>
  <pre>
        -bitstream-courier-medium-r-normal--0-0-0-0-m-0-iso8859-1
        9x15
</pre>

  <p>The iso8859 font does not include box characters, of course,
  but looks good.</p>

  <h1><a name="xterm_88" id="xterm_88">Patch #88 - 1998/10/31 -
  XFree86 3.9Nk and 3.3.2h</a></h1>

  <p>This refines my #85 patch by checking for a case where the
  font server returns a bold font that does not quite correspond to
  the normal font. When I asked for a bold version of the 6x12
  font, the font server returned a near equivalent where the ascent
  and descent values did not match, causing xterm to leave lines
  across the display. This patch makes xterm reject that type of
  mismatch, falling back to the old font behavior.</p>

  <h1><a name="xterm_87" id="xterm_87">Patch #87 - 1998/10/21 -
  XFree86 3.9Nj and 3.3.2f</a></h1>

  <p>This corrects a problem reported by Stefan Dalibor. My table
  entries for the <em>printerExtent</em> and
  <em>printerFormFeed</em> resources used the wrong types for
  sizeof, causing the printer to not work properly on some
  platforms because the <em>printAttributes</em> resource was
  overwritten (e.g., Digital Unix with DEC Alpha).</p>

  <p>I reviewed all of the resource table entries and fixed a
  potential problem with <em>resizeGravity</em>, which was typed as
  <em>int</em> rather than <em>XtGravity</em>.</p>

  <h1><a name="xterm_86" id="xterm_86">Patch #86 - 1998/10/14 -
  XFree86 3.9Nj and 3.3.2e</a></h1>

  <p>A small fix: when switching to/from the continuous mouse
  reporting mode, the event mask was incorrect if xterm was built
  under X11R5 because the original data was saved under an ifdef
  for active-icon.</p>

  <h1><a name="xterm_85" id="xterm_85">Patch #85 - 1998/10/12 -
  XFree86 3.9Nj and 3.3.2e</a></h1>

  <p>Some cleanup (I noticed the pixel droppings a few months ago
  after getting a new 17" monitor):</p>

  <ul>
    <li>split-out the functions that load/reload fonts for xterm as
    new file fontutils.c to extend them to support automatic
    loading of bold font corresponding to the normal font. Adapted
    logic from EMU 1.3 for this purpose. This fixes most
    occurrences of pixel droppings from bold characters.</li>

    <li>modified by renaming variables and adding casts to permit
    compile with g++.</li>

    <li>modify headers so they can all be compiled without order
    dependencies, and use bracketed rather than quoting includes to
    allow compile from separate directory.</li>

    <li>renamed xtermm terminfo entry to xterm-mono, to avoid
    conflict with Solaris entry now in ncurses.</li>
  </ul>

  <h1><a name="xterm_84" id="xterm_84">Patch #84 - 1998/10/9 -
  XFree86 3.9Ni and 3.3.2e</a></h1>

  <p>Several small fixes and enhancements, including a patch from
  Bjorn Helgaas:</p>

  <ul>
    <li>correct initialization of TERMCAP environment variable,
    which was frequently set to garbage on non-Linux systems
    because "termcap" and "newtc" contained random data from the
    stack.</li>

    <li>remove the LINEWRAPPED attribute from lines as they are
    cleared. Previously, the attribute was set but never
    cleared.</li>

    <li>make word and line selections work even when lines are
    wrapped by xterm. Previously, selections were limited to one
    screen line.</li>
  </ul>

  <p>as well as</p>

  <ul>
    <li>modify logic for line-wrapping to reset the associated flag
    if the application deletes a character. This fixes a problem
    reported by Bjorn Helgaas where word/line selection would still
    wrap even after deleting characters from the first line.</li>

    <li>add kll/kH capabilities to xterm-xfree86 entries in termcap
    and terminfo (request by Michael Schroeder).</li>

    <li>shorten descriptions in termcap to make resolved entries
    all shorter than 1023 character limit.</li>

    <li>use DECSTR control sequence to shorten initialization and
    reset strings in xterm-xfree86 termcap and terminfo.</li>

    <li>use rmul/smul and rmir/smir in xterm-r5 terminfo to match
    termcap.</li>

    <li>correct typos in initialization and reset strings in
    xterm-r5 termcap and terminfo.</li>

    <li>disable special translations of key symbols (the backarrow
    key, the editing keypad and the keypad "+") when a modifier
    other than shift, control or numlock is used. This makes xterm
    handle the meta key as expected by people using emacs (reported
    by Pete Harlan &lt;harlan@pointofchoice.com&gt; in
    linux.debian.user newsgroup).</li>
  </ul>

  <h1><a name="sync_83" id="sync_83">Resync #83 - 1998/10/7 -
  XFree86 3.3.2e</a></h1>

  <p>Merge changes through patch #83 with the 3.3.2e version.</p>

  <p>This follows a change from XFree86 CVS which adds checks for
  non-null return from malloc (patch by Matthieu Herrb).</p>

  <h1><a name="xterm_83" id="xterm_83">Patch #83 - 1998/8/25 -
  XFree86 3.9Nb</a></h1>

  <p>Several small fixes and enhancements:</p>

  <ul>
    <li>add configure test to infer if xterm should be installed
    setuid based on previously installed xterm (reported by Stephen
    Marley and Stefan Dalibor).</li>

    <li>implement quasi-continuous mouse reporting (integrated
    patch by Jason Bacon).</li>

    <li>correct control sequences transmitted by function keys F1
    to F4 when sunFunctionKeys resource is true (it was still using
    the VT100 control sequences).</li>

    <li>modify handling of backarrow key so that the control
    modifier toggles the backspace/delete interpretation set by the
    backarrowKey resource.</li>

    <li>limit the row and column values used to report mouse
    position.</li>
  </ul>

  <p>From resync with XFree86 3.9Nb:</p>

  <ul>
    <li>add support for the VSTATUS control character (patch by
    Robert Earl &lt;rearl@teleport.com&gt;).</li>
  </ul>

  <h1><a name="xterm_82" id="xterm_82">Patch #82 - 1998/7/15 -
  XFree86 3.9Aj</a></h1>

  <p>Bug fix for patch #81:</p>

  <ul>
    <li>remove an #undef for NBBY, which caused compile problem on
    FreeBSD (reported by David Dawes).</li>
  </ul>

  <h1><a name="xterm_81" id="xterm_81">Patch #81 - 1998/7/14 -
  XFree86 3.9Aj</a></h1>

  <p>More bug fixes:</p>

  <ul>
    <li>fix conflicting ifdef's for TIOCSLTC when building with
    Linux on AXP aka DEC Alpha (reported by Robin Cutshaw).</li>

    <li>correction to patch #79, move assignment for
    *utptr-&gt;ut_user = 0; back into non-SVR4 ifdef in main.c,
    since this clobbers username on Solaris 2.5.1 (analysis by Will
    Day &lt;willday@rom.oit.gatech.edu&gt;).</li>

    <li>corrected khome/kend in xterm-8bit terminfo
    description.</li>

    <li>improve cursor color by making it always the reverse of
    fg/bg unless the cursorColor resource is set, i.e., to
    something other than the default foreground (reported by Vikas
    Agnihotri and Bram Moolenaar).</li>

    <li>minor fixes for compiler warnings, including a syntax error
    in the AMOEBA ifdef's.</li>
  </ul>

  <p>From resync with XFree86 3.9Aj:</p>

  <ul>
    <li>correction to patch #73, supply missing #else for fallback
    definitions of size_t, time_t (Robin Cutshaw
    &lt;robin@intercore.com&gt;).</li>
  </ul>

  <h1><a name="xterm_80" id="xterm_80">Patch #80 - 1998/6/29 -
  XFree86 3.9Ai</a></h1>

  <p>This fixes a couple of items leftover or introduced by patch
  79:</p>

  <ul>
    <li>take out the logic that suppresses editing-keypad in vt100
    mode (those keys are too valuable to give up for a fine point
    of emulation).</li>

    <li>corrected a couple of places in terminfo where I missed
    using the vt220-style editing-keypad codes for Find/Select
    (mapped to Home/End).</li>

    <li>checked termcap file against terminfo, fix several places
    where it was inconsistent.</li>
  </ul>

  <h1><a name="xterm_79" id="xterm_79">Patch #79 - 1998/6/28 -
  XFree86 3.9Ai</a></h1>

  <p>This patch fixes several small bugs:</p>

  <ul>
    <li>use X_EXTRA_LIBS in standalone Makefile.in (patch by Tomas
    Vanhala).</li>

    <li>add new resource 'oldXtermFKeys' which provides backward
    compatibility for F1-F4 control sequences with TOG's
    xterm.</li>

    <li>determine the server's default foreground/background Pixel
    values, needed if the -flipPixels X server option is used
    (reported by David Dawes).</li>

    <li>correct logic for F1-F4 function keys so that they generate
    VT100 compatible escape sequences in VT220 mode, since that is
    what the numeric keypad is supposed to do (reported by Ron
    Johnson, Jr. &lt;ronjohn@communique.net&gt;).</li>

    <li>modify logic for editing keypad to work more like VT220:
    don't pass those codes in VT100-mode unless oldXtermFKeys mode
    is set.</li>

    <li>correct an interaction with the editing-keypad logic that
    prevented backarrow key from sending a 127 for the delete key
    (the 'remove' escape sequence was being sent instead).</li>

    <li>use return-value from getuid() rather than the parameter,
    to work on systems which do not update the latter (patch by
    Kevin Buhr &lt;buhr@mozart.stat.wisc.edu&gt;)</li>

    <li>correct scrollbar border color when toggling to/from secure
    keyboard mode (patch by Jeff Uphoff
    &lt;juphoff@tarsier.cv.nrao.edu&gt;)</li>

    <li>modifications to terminfo file:

      <ul>
        <li>rename description to xterm-xfree86, adding an entry
        'xterm' which is derived from xterm-xfree86 to simplify
        customization.</li>

        <li>change string for kdch1 from \177 to \E[3~, to address
        complaints from Debian developers. (This applies to the key
        labeled "Delete", and does not affect the backarrow
        key).</li>

        <li>add user-strings u6, u7, u8, u9 to entries to make them
        work with Daniel Weaver's "tack" program.</li>

        <li>modify xterm-24, xterm-bold, xterm-boldso entries to
        disentangle them from explicit dependency upon
        xterm-xfree86.</li>

        <li>add generic 'xterm-color' entry.</li>

        <li>minor corrections to xterm-xfree86, xterm-8bit,
        xterm-r5 and xterm-r6 entries.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_78" id="xterm_78">Patch #78 - 1998/6/3 -
  XFree86 3.9Ah and 3.3.2</a></h1>

  <p>Again, most of the bulk of this patch is for ANSI conversion.
  I used the IRIX compiler's -wlint option to find the remaining
  functions that use K&amp;R syntax (since gcc does not do this
  properly). Also, I changed the logic in the print code slightly
  to close unwanted files before opening a pipe to the printer.
  This may help in some configurations where the line printer hangs
  until xterm closes the pipe.</p>

  <h1><a name="xterm_77" id="xterm_77">Patch #77 - 1998/5/26 -
  XFree86 3.9Ah and 3.3.2</a></h1>

  <p>Most of the bulk of this patch is to convert the extended C
  (K&amp;R functions with prototypes) to ANSI. I verified that on
  Linux by comparing object files, to ensure that I did not, for
  example, interchange parameters in the function declarations.</p>

  <p>The rest of the patch fixes several minor bugs, and adds a few
  features:</p>

  <ul>
    <li>back-out my use of ncurses "captoinfo -f" option
    (if/then/else/endif) formatting, since ncurses did not
    correctly filter embedded newlines in terminfo capability
    strings until _after_ ncurses 4.1, thus corrupting
    setf/setb/sgr strings (reported by Darren Hiebert and
    others).</li>

    <li>document SGR 8, 28 (invisible/visible), add corresponding
    capabilities to terminfo description.

      <p>I would also add the 'prot protected capability, but the
      control sequences for that would not be recognized or
      properly ignored by the older xterm programs.</p>
    </li>

    <li>modify ChangeGroup to not suppress a null-resource, but
    treat it as an empty string (recommended by Stefan
    Dalibor).</li>

    <li>add printerAutoClose resource to control whether printer is
    closed when going offline. More than one person reports
    problems (on Solaris 2.6 and Digital Unix 4.0) getting the
    printer to proceed unless xterm exits; I think that it is a
    problem flushing the pipe. Closing it ought to flush it.</li>

    <li>adapt TOG fix-3 to in HandleKeymapChange and VTInitI18N
    (but adapt XtStackAlloc/XtStackFree for clarity, as well as
    fixing memory leak).</li>

    <li>change calls on FillCurBackground to ClearCurBackground, in
    effect using XClearArea rather than XFillRectangle when
    clearing as a side-effect of scrolling and insertion (patch by
    Alexander V Lukyanov)</li>

    <li>correct some places where insert/delete did not _move_ the
    color attributes, using memmove (patch by Alexander V Lukyanov
    &lt;lav@long.yar.ru&gt;)</li>

    <li>add ifdef's for __CYGWIN32__, for port to cygnus version
    B19.1 (patch by Andrew Sumner
    &lt;andrew_sumner@hotmail.com&gt;).</li>

    <li>remove #define for hpux that turned on USE_SYSV_ENVVARS,
    since this causes some applications (such as 'less') to get
    incorrect $LINES and $COLUMNS values (reported by Clint
    Olsen).</li>

    <li>modify behavior for HP-UX, to set the "reserved" process
    group controls to _POSIX_VDISABLE so the TIOCSLTC ioctl does
    not produce an error (patch by Ben Yoshino
    &lt;ben@wiliki.eng.hawaii.edu&gt;).</li>

    <li>correct length of underlining, reducing it by one pixel to
    avoid leaving a dot when the application does not clear the
    whole screen I noticed this only recently myself (and other
    people as well); it depends on the font chosen. A 6x10 font
    shows it, but the other fonts from XTerm.ad do not. I also see
    a similar problem with the emulation of bold fonts. (patch by
    Sergei Laskavy &lt;Laskavy@cs.msu.su&gt;).</li>

    <li>add include for Xos.h to xterm.h, to ensure proper
    definitions (reported by Holger Veit).</li>

    <li>update config.guess to recognize Unixware 2.1 and 7 (patch
    by Mike Hopkirk &lt;hops@sco.com&gt;).</li>
  </ul>

  <h1><a name="xterm_76" id="xterm_76">Patch #76 - 1998/5/8 -
  XFree86 3.9Ah and 3.3.2</a></h1>

  <p>A fix for the print-window function, and some minor
  cleanup:</p>

  <ul>
    <li>modify logic that closes pipe in the print-window function
    to not use pclose, which does not work on all systems, since I
    did not open the pipe with popen (reported by Stefan
    Dalibor).</li>

    <li>correct name of $(EXTRA_LOAD_FLAGS) imake variable
    (reported by Stefan Dalibor).</li>

    <li>guard logic in ChangeGroup() function against null pointer
    (reported by Stefan Dalibor).</li>

    <li>ensure that menu entry for toggling sunKeyboard resource is
    initialized (reported by Branden Robinson
    &lt;branden@purdue.edu&gt;).</li>

    <li>gcc unused-variable warnings (reported by Bernd Ernesti
    &lt;bernd@arresum.inka.de&gt;)</li>

    <li>rename global variable 'buffer' to 'VTbuffer'</li>
  </ul>

  <h1><a name="xterm_75" id="xterm_75">Patch #75 - 1998/5/7 -
  XFree86 3.9Ah and 3.3.2</a></h1>

  <p>This incorporates fixes from several people, as well as some
  improvements that I made based on feedback from users:</p>

  <ul>
    <li>add option to standalone configure script,
    "--with-own-terminfo-dir", which causes xterm to pass a
    predefined value of $TERMINFO to the application. Also use this
    value in install rule "make install-ti", for the standalone
    configure script. (patch &amp; feedback from Tor Lillqvist
    &lt;tml@hemuli.tte.vtt.fi&gt;)</li>

    <li>change ifdef's for "hpux" to "__hpux" (patch by Tor
    Lillqvist). The imake configuration uses the former, but the
    latter is predefined by HP's compilers.</li>

    <li>define USE_SYSV_ENVVARS for HP-UX, curses does not use
    $TERMCAP (patch by Tor Lillqvist).</li>

    <li>on HP-UX, use the /dev/ptym/clone device to allocate PTY's.
    Works both on HP-UX 9 and 10. (patch by Tor Lillqvist).</li>

    <li>modify configure script to obtain the $(EXTRA_LOADFLAGS)
    value from imake, needed for compiling under DEC OSF/1
    (reported by Stefan Dalibor)</li>

    <li>modify print-window action so that the printer is closed
    after printing a window, unless the printer was already opened
    (i.e., by an application running in the window). This makes the
    printing complete without having to exit xterm, since not all
    systems treat fflush through a pipe very well (reported by
    Stefan Dalibor)</li>

    <li>modify printing code so that the ^M's are not printed if
    the printAttribute resource is set to zero (request by Stefan
    Dalibor).</li>

    <li>correct typo in xterm.man, for the default value of
    printAttribute (reported by Stefan Dalibor).</li>

    <li>correct printing code so that the alternate character set
    is printed, like other attributes, with escape sequences.</li>

    <li>correct termcap description, removing spurious 'm'
    character from the 'op' capability (reported by Greg Woods
    &lt;woods@weird.com&gt;).</li>

    <li>correct trace code so that the initial timestamp is
    set.</li>

    <li>correct/modify utmp data for the Linux glibc 2
    configuration, so that the ut_line member is set before using
    it to update wtmp (patch by Bill Nottingham
    &lt;wen1@cec.wustl.edu&gt;).</li>
  </ul>

  <h1><a name="xterm_74" id="xterm_74">Patch #74 - 1998/4/27 -
  XFree86 3.9Ag and 3.3.2</a></h1>

  <p>This corrects a couple of recent bugs and adds a new
  resource:</p>

  <ul>
    <li>modify definition of TRACE_CHILD so that it does not
    conflict with ifdef's for USE_USG_PTYS in main.c (reported by
    Vikas Agnihotri &lt;VikasA@att.com&gt; and Stefan
    Dalibor).</li>

    <li>correct ownership of file (actually pipe) written by the
    print controls. When undoing the setuid changes in patch #69, I
    overlooked this. Now xterm forks a process which resets setuid
    and routes the printer data as the real user.</li>

    <li>add a new resource, "printAttributes", which controls
    whether color attributes (or any attributes) are sent to the
    printer.</li>
  </ul>

  <h1><a name="xterm_73" id="xterm_73">Patch #73 - 1998/4/25 -
  XFree86 3.9Ag and 3.3.2</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>implements a print-window facility for xterm. Though useful
    in itself, I added it as part of some debugging which I am
    doing. (Occasionally during an exposure event xterm fails to
    restore the proper colors for highlighted text, and printing
    the screen will show the internal states nicely).

      <p>The print facility now also displays the color
      information. (I will probably make this a resource).</p>
    </li>

    <li>modified the xterm-16color terminfo description to use the
    setaf and setab strings, which is a little more efficient
    (requested by Stephen Marley).</li>

    <li>reduced some clutter of the ifdef/includes (e.g., stdlib.h,
    unistd.h, errno) making the configure script test for these.

      <p>I removed the symbols Size_t and Time_t, since they no
      longer serve a useful purpose.</p>
    </li>

    <li>added some debugging traces to show the initial screen
    size, and the success/failure of the ioctl calls pass handle
    window resizing events to the application (for Clint Olsen).

      <p>I also modified the trace code to produce two files since
      some of the information is produced by the child process. So
      now they are Trace-parent.out and Trace-child.out</p>
    </li>

    <li>updated configure test for ANSI compiler options to handle
    a special case for HP-UX 10.x (reported by Clint Olsen).</li>
  </ul>

  <h1><a name="xterm_72" id="xterm_72">Patch #72 - 1998/4/17 -
  XFree86 3.9Ag and 3.3.2</a></h1>

  <p>This is a patch from Chris Siebenmann
  &lt;cks@hawkwind.utcs.toronto.edu&gt;, which I have cleaned up a
  little, and integrated into the configure script.</p>

  <p>From his description:</p>

  <blockquote>
    <p>This set of patches is the latest incarnation of patches
    originally written by Ian! D Allen, then of the University of
    Waterloo and now of who knows where; I have been carrying them
    forward from xterm to xterm ever since about X11R4. What they
    do is add an option so that when an iconified xterm receives
    output it prepends '*** ' to its icon title and (optionally)
    beeps the bell; deiconifying the xterm removes the '*** '. Over
    the years I've found this to be incredibly convenient for
    monitoring all sorts of low-activity things.</p>
  </blockquote>

  <h1><a name="xterm_71" id="xterm_71">Patch #71 - 1998/4/12 -
  XFree86 3.9Ag and 3.3.2</a></h1>

  <p>This patch is a slightly modified version of one by Richard
  Braakman, which prevents buffer overflow in the input-method and
  preedit-type parsing in xterm. I changed a couple of details to
  make the code more maintainable, and looked for similar things -
  copying into a fixed-size buffer (found none, though I did spot
  an unused variable).</p>

  <h1><a name="xterm_70" id="xterm_70">Patch #70 - 1998/3/29 -
  XFree86 3.9Af and 3.3.2</a></h1>

  <p>This patch corrects some minor bugs in xterm, and fills in
  some more details in the VT220 emulation:</p>

  <ul>
    <li>modify Imakefile to use SpecialCObjectRule for menu and
    data modules, making xterm build properly if logging is enabled
    (patch by Scott Sewall &lt;scott@iprg.nokia.com&gt;).</li>

    <li>restore "ich" capability to terminfo entries, since Michael
    Schroeder points out that "ich1" is the one which is the
    problem in Solaris vi.</li>

    <li>correct color of cursor, which would disappear on
    inverse-video since the initialization did not compare the
    cursor color against both foreground and background (reported
    by Olivier Calle).</li>

    <li>correct abbreviation-test for -version and -help options,
    making command-line option -vb work (reported by Stefan
    Dalibor).</li>

    <li>correct a dependency between ifdef's for OPT_I18N_SUPPORT
    and OPT_INPUT_METHOD (reported by Stefan Dalibor).</li>

    <li>split-out character-set translations as new module
    charsets.c, to implement VT220 national replacement character
    sets (a mode where some of the characters are displayed as
    specific European glyphs). This relies on xterm using an ISO
    8859-1 font (approach suggested by Kenneth R. Robinette
    &lt;zkrr01@mailbox.neosoft.com&gt;).</li>

    <li>correct a missing increment, which made SS2 and SS3
    controls repeat the shifted character.</li>

    <li>add xterm-nrc to terminfo to illustrate the VT220 national
    replacement character sets.</li>

    <li>reformat terminfo using new ncurses tic option "-f", which
    makes if/then/else/endif expressions easier to read.</li>
  </ul>

  <h1><a name="xterm_69" id="xterm_69">Patch #69 - 1998/3/16 -
  XFree86 3.9Ad and 3.3.2</a></h1>

  <p>This corrects the problem in xterm with utmp, reported by
  Olivier Calle &lt;olivier@tc.fluke.com&gt; as well as some other
  people after the XFree86 3.3.2 release.</p>

  <p>The error was introduced by my patch #53 in XFree86 3.9r
  (October 1997).</p>

  <p>The correction removes the reset of setuid/setgid before the
  main event loop, and solves the problem which I had worked around
  in a different manner: for some reason, the particular waitpid()
  call in creat_as() hangs, does not return when the child process
  exits. I changed the ifdef's to force the Linux configuration to
  use wait() instead. This call appears to work properly on other
  platforms such as SunOS and Solaris.</p>

  <p>I also added tests in the standalone configure script to check
  for the existence of waitpid().</p>

  <h1><a name="xterm_68" id="xterm_68">Patch #68 - 1998/3/4 -
  XFree86 3.9Ad and 3.3.1z</a></h1>

  <p>This corrects another problem with the logic for
  highlightColor resource. As reported by David Dawes:</p>

  <blockquote>
    <p>I've just noticed a problem with with the "inverse" control
    sequence (ESC[7m) with the 3.3.2 xterm. What it does is sets
    the background black, and the text the usual foreground colour
    rather than simply swapping the foreground/background.</p>
  </blockquote>

  <p>This appears to be because when I added logic to check that
  the highlightColor was distinct from foreground and background
  colors, I did not add a further check to see that it was not
  black (I would make an explicit check for the resource not being
  set, but see nothing definite in the headers that would let me
  reference an explicitly-undefined Pixel value, though there are
  some implications in xpm.h). But this should work.</p>

  <h1><a name="xterm_67" id="xterm_67">Patch #67 - 1998/2/23 -
  XFree86 3.9Ad and 3.3.1e</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>improve test for highlightColor so that xterm does not
    attempt to use that unless it is different from the foreground
    and background colors (reported by Stefan Dalibor
    &lt;Stefan.Dalibor@informatik.uni-erlangen.de&gt;.

      <p>I could not reproduce this until I noticed that the -rev
      option exposed it nicely.</p>
    </li>

    <li>remove ich and ich1 from xterm and xterm-8bit terminfo
    descriptions. SVr4 terminfo documents that you must not combine
    these with smir/rmir, but ncurses allows it, opening a hole.
    Solaris 2.6 vi does not work properly if it is using a terminfo
    description when these are combined, since it was written to
    accommodate old terminals that required it (reported by Stephen
    Marley).</li>

    <li>restore 1-pixel overlap of scrollbar border with left edge
    of window (reported by Jim Burmeister
    &lt;jimb@metrolink.com&gt;).</li>

    <li>add a configure option, --enable-logfile-exec, which allows
    the user to specify a pipe for logfile. This defines
    ALLOWLOGFILEEXEC.</li>

    <li>makes the ALLOWLOGFILEEXEC code compile &amp; run, if
    configured.</li>

    <li>minor documentation nits.</li>
  </ul>

  <h1><a name="xterm_66" id="xterm_66">Patch #66 - 1998/2/16 -
  XFree86 3.9Ad and 3.3.1d</a></h1>

  <p>This fixes the problem reported with failure to build the
  <em>resize</em> program (BSDI, OSF/1) due to not having
  &lt;termcap.h&gt;, by changing the ifdef to one that would be set
  only if the file exists (not currently specified, except by the
  standalone configure script). We do not really need to include
  &lt;termcap.h&gt; to build, but only for a clean compile, since
  it may declare the tgetent() prototype. I also updated the
  man-page for <em>resize</em>, since I had recently noticed that
  it can be used to resize <em>xterm</em> using the "Sun" control
  sequences option.</p>

  <h1><a name="xterm_65" id="xterm_65">Patch #65 - 1998/2/14 -
  XFree86 3.9Ad and 3.3.1c</a></h1>

  <p>This is a small patch to xterm's 8-bit terminal description. I
  noticed while testing ncurses that I had specified the wrong
  (VT100-style) codes for the F1-F4. Xterm only uses VT220-style
  function keys in 8-bit mode.</p>

  <h1><a name="xterm_64" id="xterm_64">Patch #64 - 1998/2/8 -
  XFree86 3.9Ad</a></h1>

  <p>This fixes the following problems with xterm:</p>

  <ul>
    <li>save/restore the ANSI foreground and background colors with
    the other visible attributes in the save-cursor and
    restore-cursor operations. This works around a problem with
    vim, which apparently assumed that switching between the normal
    and alternate screens resets the colors (reported by Jim Battle
    &lt;jb@chromatic.com&gt;).

      <p>It would be nice to implement save/restore cursor as a
      stack (and solve this type of problem completely), but that
      would lead to incompatibility with applications which assume
      they are running with a VT100 or VT220.</p>
    </li>

    <li>corrects behavior of a restore-cursor operation which does
    not follow a save-cursor (it is supposed to set the character
    sets to a known initial state).</li>

    <li>extends the sunKeyboard resource (and menu toggle) to
    modify the home, end and delete keys on a Sun or PC editing
    keypad, making them generate codes compatible with DEC VT220's
    Find, Select and Remove keys.</li>

    <li>corrects a length in checking command-line options, which
    caused the "-help" message to not work when X was not
    running.</li>

    <li>add some detail to the man-page (requested by Jason Bacon
    &lt;acadix@execpc.com&gt;)</li>

    <li>modify the standalone configure script to ignore the broken
    nsl and socket libraries on IRIX 6.2 (the ones on 5.2 also are
    broken, so this change just widens the check for the system
    version number).</li>
  </ul>

  <h1><a name="xterm_63" id="xterm_63">Patch #63 - 1998/2/5 -
  XFree86 3.9Ad</a></h1>

  <p>This is another patch from Bjorn Helgaas
  &lt;helgaas@rsn.hp.com&gt;, which I've reviewed (and learned
  some). Following are his notes:</p>

  <p>I poked around some more and finally got xterm-62 to build and
  run cleanly on HP-UX 10.20. Here are the patches. They look sort
  of ugly, so here's a little explanation:</p>

  <ul>
    <li>aclocal.m4: Removed side effects from the AC_CACHE_VAL
    commands in CF_FUNC_TGETENT. Previously, LIBS was set inside
    AC_CACHE_VAL, which worked fine the first time configure was
    run, but failed if there were cached values.</li>

    <li>aclocal.m4: Added temporary setting of LIBS before
    AC_TRY_LINK in CF_FUNC_TGETENT. Previously, the last value set
    by the AC_TRY_RUN loop was used, so only -lcurses was
    checked.</li>

    <li>configure.in: Added temporary setting of CPPFLAGS before
    AC_CHECK_HEADERS for X11 files. Previously
    &lt;X11/DECkeysym.h&gt; and &lt;X11/Xpoll.h&gt; were found only
    if they were in the compiler's default include directories,
    even if `--x-includes=DIR' had been used or AC_PATH_XTRA had
    found them elsewhere.</li>
  </ul>

  <p>The problem on HP-UX was that we were linking with -lcurses
  rather than -ltermcap due to the second bullet above, and
  apparently something in HP-UX curses is broken. This seems very
  strange, because the only thing used is tgetent, which should
  affect any tty/pty configuration, but I lost interest in tracking
  down the exact problem.</p>

  <h1><a name="xterm_62" id="xterm_62">Patch #62 - 1998/1/23 -
  XFree86 3.9Ac</a></h1>

  <p>This is a patch mostly by Bjorn Helgaas
  &lt;helgaas@dhc.net&gt; (I added the os2main.c change, and a
  little of the documentation). From Bjorn's description:</p>

  <ul>
    <li>If you use the "-hc &lt;color&gt;" option or set the
    "highlightColor" resource, text is highlighted by changing only
    the background color, rather than using reverse video. I find
    this easier to read, especially when selecting multi-colored
    text, and it is similar to the way Netscape shows
    selections.</li>

    <li>Most of the code changes are under "#if
    OPT_HIGHLIGHT_COLOR". The principal exception is in screen.c,
    where I added a couple calls to resetXtermGC(). This seems like
    it could be a bug even without the color highlighting changes
    (though I don't pretend to understand all the logic).</li>
  </ul>

  <h1><a name="xterm_61" id="xterm_61">Patch #61 - 1998/1/17 -
  XFree86 3.9Ac</a></h1>

  <p>This patch modifies the reset behavior of xterm slightly:</p>

  <ul>
    <li>change the terminfo entry so that rs1 (one of the strings
    used by the 'reset' program) does a hard reset rather than
    switching character sets. This is more in accord with other
    terminal descriptions.</li>

    <li>modifies the treatment of hard reset by the xterm program
    to reset the saved lines.</li>

    <li>corrects hard reset by also resetting user-defined keys,
    i.e., DECUDK.</li>
  </ul>

  <h1><a name="xterm_60" id="xterm_60">Patch #60 - 1998/1/10 -
  XFree86 3.9Ab</a></h1>

  <p>This fixes some minor bugs and adds new functionality:</p>

  <ul>
    <li>add support for blinking text.

      <ul>
        <li>This does not actually cause the text to flash, but
        text with the blink attribute can be displayed in color,
        using new resources colorBL and colorBLMode.</li>

        <li>If colors are not used, the blinking text will be
        displayed as before (just like bold). The main purpose of
        this is to make applications work properly when they assume
        the emulator supports blinking text.</li>

        <li>I did this by moving the per-cell LINEWRAPPED flag to a
        per-line flag, to make room for the new BLINK flag. There
        were no per-line flags, so this changes a lot of
        logic.</li>
      </ul>
    </li>

    <li>corrected missing save-cursor logic in the handling of SGR
    1048 (the new control sequence I added in patch #54,
    1997/10/17). Reported by Darren Hiebert.</li>

    <li>flush the output of the transparent printing after each
    line Reported by Tomas Vanhala
    &lt;vanhala@ling.helsinki.fi&gt;.</li>

    <li>correct the modes that are affected by save/restore cursor
    by adding WRAPAROUND and PROTECTED.</li>

    <li>corrected placement of one of the XSync calls that I added
    in patch #51, 1997/9/15, which had the side-effect of writing
    on the window border when the xterm was resizing from 132 to 80
    columns.</li>

    <li>work around an incompatibility of the XKB definition used
    in xterm versus that symbol from IRIX 6.2's imake definitions
    (by adjusting the standalone configure script).</li>
  </ul>

  <h1><a name="xterm_59" id="xterm_59">Patch #59 - 1998/1/5 -
  XFree86 3.9Ab</a></h1>

  <p>My last patch has an off-by-one error in the comparison for
  argc. Douglas Kosovic &lt;douglask@dstc.edu.au&gt; showed me
  where (he got a core dump). Also, I think this explains Clint
  Olsen's problem, but the symptoms were more subtle (EINVAL for a
  system call if the -display option is omitted).</p>

  <h1><a name="xterm_58" id="xterm_58">Patch #58 - 1998/1/3 -
  XFree86 3.9Ab</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>implement logic to permit xterm to work with proportional
    fonts.

      <ul>
        <li>Thomas Wolff &lt;Thomas.Wolff@sietec.de&gt; requested
        this (but it isn't exactly what he's asking for - that's a
        more involved task).</li>

        <li>I chose to do this by rendering the characters on a
        fixed pitch, because it would not be useful for existing
        applications to display varying numbers of characters on
        each line.</li>

        <li>Except that this forces the display to be wider, it
        works reasonably well. A couple of special cases (reverse +
        colorBD, for example) do not display with proper colors,
        since the inter-character gaps are painted with the
        background.</li>
      </ul>
    </li>

    <li>added a version number to the program (several people have
    requested this).</li>

    <li>make the -version and -help options interpreted before the
    program attempts to open the display.</li>

    <li>minor reorganization of the man-page (ordered the options,
    resources and translations alphabetically - and eliminated some
    duplication).</li>

    <li>corrected a misspelled filename in Makefile.in, and added a
    lint rule.</li>

    <li>updated the configure script to correct behavior when it
    cannot find imake, as well as to fix the IRIX+gcc build
    (conflict with /usr/include).</li>

    <li>regenerated the configure script with a newer patch to
    autoconf that fixes a problem with environment space vs the
    configure --help message.</li>
  </ul>

  <h1><a name="xterm_57" id="xterm_57">Patch #57 - 1997/12/26 -
  XFree86 3.9Aa</a></h1>

  <p>This patch is mostly concerned with the standalone configure
  script; a few minor corrections are added:</p>

  <ul>
    <li>add configure option --disable-tek4014, to allow xterm to
    be built without the tek4014 emulation.</li>

    <li>add configure option --with-terminal-type, to allow xterm
    to be compiled with default $TERM value other than "xterm"
    (e.g., "xterm-16color") -- requested by Stephen Marley
    &lt;stephen@memex.com&gt;.</li>

    <li>fix a typo in the configure --help message -- reported by
    Darren Hiebert &lt;darren@hmi.com&gt;.</li>

    <li>review diffs between main.c and os2main.c, to make them
    more alike. (applies some minor bug-fixes to OS/2's
    version).</li>

    <li>add missing quotes in memmove/bcopy configure test</li>
  </ul>

  <h1><a name="xterm_56" id="xterm_56">Patch #56 - 1997/11/28 -
  XFree86 3.9x</a></h1>

  <p>This patch is based on analysis by Arfst Ludwig
  &lt;arfst@luxor.IN-Berlin.DE&gt;, who reported:</p>

  <blockquote>
    <p>Setting the following resources xterm (all current versions)
    receives a segmentation fault on &lt;Btn2Up&gt; after
    scrolling:</p>
    <pre>
          *XTerm*VT100*translations:    #override \
              ~Shift~Ctrl&lt;Btn2Up&gt;: insert-selection(PRIMARY, CUT_BUFFER0)\n\
              Shift~Ctrl&lt;Btn2Up&gt;:  insert-selection(CLIPBOARD, CUT_BUFFER1)\n\
              ~Shift&lt;BtnUp&gt;:       select-end(PRIMARY, CUT_BUFFER0)\n\
              Shift&lt;BtnUp&gt;:        select-end(CLIPBOARD, CUT_BUFFER1)
</pre>

    <p>(The above resources intention is to be able to paste the
    latest selection even if the xterm was cleared.)</p>

    <p>And here is how it works (and a fix!): The widget given to
    the action handler as first argument is not guaranteed to be a
    XtermWidget (it can be the ScrollbarWidget). Instead of
    accessing the widget's member directly XtDisplay gives the
    required pointer in a safe way.</p>
  </blockquote>

  <p>I noticed that this was not the only instance (by reading the
  code, and testing with his example), and extended the solution to
  check the widget-class to ensure that it is indeed xterm's widget
  class before attempting to use it in the context of
  translations.</p>

  <h1><a name="xterm_55" id="xterm_55">Patch #55 - 1997/11/25 -
  XFree86 3.9x</a></h1>

  <p>This fixes the segmentation violation noted by Rogier Wolff
  about a month ago. He'd set xterm to 400 (rows) by 150 columns,
  which broke because there were limited buffers (200 rows) used
  for juggling data when adding or deleting lines and for switching
  between alternate and normal screens. I replaced this by an
  allocated buffer.</p>

  <p>The bug is simple to test if you set titeInhibit false.</p>

  <h1><a name="xterm_54" id="xterm_54">Patch #54 - 1997/10/17 -
  XFree86 3.9s</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>correct a minor placement problem with the right
    scrollbar.</li>

    <li>implement a new set of control sequences for switching
    between the normal and alternate VT100 screens. These work
    around the older sequences limitation that required
    modification of the runtime $TERMCAP to cooperate with the
    titeInhibit resource (that can't work with terminfo). I do this
    by moving all of the functionality of the rmcur terminfo
    capability into the control sequences.</li>

    <li>implement the alternate-screen menu entry</li>
  </ul>

  <h1><a name="xterm_53" id="xterm_53">Patch #53 - 1997/10/12 -
  XFree86 3.9r</a></h1>

  <p>This patch adds a fix and implements a new feature (as well as
  some minor typos):</p>

  <ul>
    <li>JCHANDRA@Inf.COM (JCHANDRA) noted that there was still a
    problem with the wait call with the logging option. It hung
    when the logfile was opened as a command-line option. I fixed
    this by moving the StartLogging() call down past the place
    where I'd reset the setuid mode. So the logfile is opened as
    the real user, without having to fork.</li>

    <li>improve Rohleder's changes by renaming the command-line
    options and reducing the number of ifdef's.</li>

    <li>implement right-scrollbars for xterm (patch by Michael
    Rohleder &lt;michael.rohleder@stadt-frankfurt.de&gt;).</li>
  </ul>

  <h1><a name="xterm_52" id="xterm_52">Patch #52 - 1997/9/29 -
  XFree86 3.9q</a></h1>

  <p>This patch addresses bugs and requests reported by</p>

  <ul>
    <li>Bob Maynard &lt;rmaynard@montana.com&gt;,</li>

    <li>Clint Olsen &lt;olsenc@ichips.intel.com&gt;,</li>

    <li>JCHANDRA@Inf.COM (JCHANDRA),</li>

    <li>Michael Schroeder
    &lt;Michael.Schroeder@informatik.uni-erlangen.de&gt;,</li>

    <li>Pablo Ariel Kohan &lt;pablo@memco.co.il&gt;</li>
  </ul>

  <p>Some of the changes are interrelated (it was an unusually busy
  week).</p>

  <ul>
    <li>change the default resource value for colorMode to true,
    matching the Xterm.ad file.</li>

    <li>correct behavior of 'ech' control, making the default and 0
    parameters erase one character rather than to the end of line
    (reported by Michael Schroeder).</li>

    <li>add resource boldColors, command-line options +pc and -pc
    and configure-script option to specify behavior of xterm's
    mapping bold colors 0 through 7 to colors 8 through 15.
    (request by Pablo Ariel Kohan).</li>

    <li>add resource colorAttrMode to specify whether colorULMode
    and colorBDMode can override the ANSI colors (report by Clint
    Olsen).</li>

    <li>correct a conflict between colorULMode/colorBDMode versus
    ANSI colors, where exposure events would occasionally pick up
    the former (e.g., colorBD) rather than ANSI colors. Testing the
    colorAttrMode made this apparent, though it has been in the
    code since 3.2A (patch #35 in Jan 1997).</li>

    <li>correct two problems with the optional logging support. On
    Linux at least, the waitpid call in creat_as hangs when the
    logging is toggled from the popup menu. Also, the mktemp
    template has the wrong number of X's (since X11R5!). Fixed the
    waitpid problem by exploiting the fact that the setuid behavior
    is reset before the popup menus are available. (reported by
    Jayachandran C.).</li>

    <li>add configure script options for building with the Xaw3d
    and neXtaw libraries.</li>

    <li>correct CF_IMAKE_CFLAGS standalone configure script macro,
    so that it will pick up $(ALLDEFINES) rather than
    $(STD_DEFINES). This is needed to make scrollbars work on
    Linux, since that uses narrow prototypes. (reported by Bob
    Maynard).</li>

    <li>various minor updates to configure-script macros.</li>
  </ul>

  <h1><a name="xterm_51" id="xterm_51">Patch #51 - 1997/9/15 -
  XFree86 3.9p</a></h1>

  <p>Most of this patch is related to the standalone configure
  script, though there are fixes/enhancements as well:</p>

  <ul>
    <li>add a new resource sunKeyboard, with associated
    command-line option and menu-toggle that allows using a normal
    Sun or PC keyboard to generated the complete DEC-style function
    keys and keypad.</li>

    <li>correct a reversed foreground/background test in the
    control sequence that replies with the current SGR
    settings.</li>

    <li>correct, by invoking XSync, a display problem that caused
    the program to not properly update newly exposed areas when a
    font change or 80/132 resize request was not completely
    accepted.</li>

    <li>restructured autoconf macros (I made a library of all of
    the macros across the complicated configure scripts I'm working
    on).</li>

    <li>use the autoconf config.guess and config.sub scripts to
    better identify the host-os.</li>

    <li>improve the configure script that uses 'imake' as a
    fallback for definitions.</li>

    <li>correct several instances of unsigned/signed mixed
    expressions.</li>
  </ul>

  <p>I've tested the configure script on Linux, SunOS 4.1.3,
  Solaris 2.5.1, IRIX 5.2 and 6.2, AIX 3.2.5 and CLIX 3.1 (all but
  the last run properly as well).</p>

  <h1><a name="xterm_50" id="xterm_50">Patch #50 - 1997/8/22 -
  XFree86 3.9m</a></h1>

  <p>This is a collection of small fixes, and a couple of minor
  enhancements:</p>

  <ul>
    <li>plug a security hole in the implementation of Media Copy
    (print) by invoking setuid just before the main loop.</li>

    <li>add an ifdef'd include for &lt;sys/termio.h&gt; for HP-UX,
    which allows the program to process SIGWINCH events (this is a
    bug in X11R6.3)</li>

    <li>add state-table entries for VT52 emulation to enter/exit
    keypad application mode.</li>

    <li>disable the popup-menu entry for 8-bit controls when the
    terminal-id is less than 200 (e.g., VT52 or VT100).</li>

    <li>ensure that the popup-menu entry for 8-bit controls is
    updated when the application enables/disables this mode,
    including the response to a full-reset.</li>

    <li>implement VT300 DECBKM feature: set interpretation of the
    backarrow key to either backspace or delete. The initial
    setting is via resource; it can also be modified in the main
    popup menu.</li>

    <li>implement VTxxx KAM (ISO AM), which allows a keyboard to be
    locked (i.e., the terminal discards input).</li>

    <li>implement VTxxx SRM, which is used to control local echoing
    of input on the terminal.</li>

    <li>add terminfo and termcap entries for xterm-8bit, a
    variation of the xterm description that uses 8-bit control
    characters.</li>

    <li>add fallback definitions for Imakefile to allow it to work
    on some X11R5 systems that have no SpecialCObjectRule or
    ProgramTargetName macros.</li>

    <li>add .c.o and .c.i rules to standalone Makefile.in</li>

    <li>correct order of -lXmu and -lXext in standalone configure
    script.</li>

    <li>add configure script options to allow selective disabling
    of active-icon, input-method and i18n code (mainly for users
    with X11R5 or an incomplete X11R6 configuration).</li>

    <li>change menu-indices from #define's to enum values, thereby
    making it work better with the ifdef's for logging and
    active-icon (the X11R6.3 active-icon code is incorrectly
    ifdef'd; this corrects an error introduced by incorporating
    that code).</li>

    <li>correct minor compile errors in the configuration where
    active-icon is not used.</li>

    <li>add configure option to suppress echoing of long compiler
    commands</li>

    <li>correct spelling of decTerminalID in configure script help
    message</li>

    <li>use gcc __attribute__((unused)) to quiet warnings about
    unused parameters when compiling with -W (to make it simpler to
    find the real problems).</li>
  </ul>

  <h1><a name="xterm_49" id="xterm_49">Patch #49 - 1997/8/10 -
  XFree86 3.9k</a></h1>

  <p>This patch implements the VT100/VT220 Media Copy (i.e.,
  print-screen) control sequences.</p>

  <h1><a name="xterm_48" id="xterm_48">Patch #48 - 1997/7/26 -
  XFree86 3.9j</a></h1>

  <p>This patch does the following (all but the first affect only
  the standalone configure script):</p>

  <ul>
    <li>minor correction to positioning of underlines for small
    (e.g., 5x8) font size.

      <p>The existing behavior allowed underlines to be drawn
      outside the character-cell, so they weren't cleared properly
      under some circumstances.</p>
    </li>

    <li>adds more special-case tokens to the standalone configure
    script's imake-option filter (e.g., "&amp;&amp;", since a "make
    -n main.o" on my IRIX system uses that shell construct).</li>

    <li>adds a '--enable-logging' option for the standalone
    configure script.</li>

    <li>adds check and ifdef's for the standalone configure script
    to allow for building on platforms with X11R6, which lacks
    Xpoll.h (introduced in X11R6.1).</li>
  </ul>

  <h1><a name="xterm_47" id="xterm_47">Patch #47 - 1997/7/13 -
  XFree86 3.9i</a></h1>

  <p>This patch does the following</p>

  <ul>
    <li>corrects an indexing error in the doublesize character
    logic (button.c) that caused core dump (this was reported by J.
    Wunsch).</li>

    <li>corrects the logic of ShowCursor when it is painting in a
    doublesize cell (charproc.c).</li>

    <li>corrects, according to vttest, the behavior when switching
    to doublesize characters and back again (doublechr.c).</li>

    <li>adds cbt (back_tab) to the terminfo description (this was
    something that I'd overlooked as applicable to curses
    optimization last summer).</li>

    <li>corrects, for the standalone xmc test, the logic for
    disabling xmc.</li>
  </ul>

  <h1><a name="xterm_46" id="xterm_46">Patch #46 - 1997/7/4 -
  XFree86 3.9h</a></h1>

  <p>This is a patch to provide test-support for some work I'm
  doing on ncurses. It does not modify the normal configuration of
  xterm; the code is compiled if the standalone configure option
  "--enable-xmc-glitch" is specified.</p>

  <h1><a name="xterm_45" id="xterm_45">Patch #45 - 1997/7/2 -
  XFree86 3.9h</a></h1>

  <p>This fixes the problem reported with xterm's cursor color
  versus the background (the second chunk in this patch) and also
  removes some duplicate initialization of the cursor GC's. If the
  cursor color at startup is the same as the background, then xterm
  will use the reverse GC, ignoring the setting of the colorMode
  resource.</p>

  <h1><a name="xterm_44" id="xterm_44">Patch #44 - 1997/6/22 -
  XFree86 3.9g</a></h1>

  <p>This implements the first part of the VT100 doublesize
  characters for xterm, as well as fixing a handful of bugs:</p>

  <ul>
    <li>the doublesize character support uses the normal font
    (using scaled fonts will be another patch) with blanks to
    simulate doublesize characters. This patch does most of the
    global changes that'll be required. I've hidden most of the
    details in macros and ifdef's so it's easy to configure out
    (part of the patch is a configure option for that
    purpose).</li>

    <li>corrected limits in DeleteChar() function -- it's always
    ignored the size of the left border and scrollbar. I noticed
    this when working on the doublesize characters since the glitch
    was doubled in size (i.e., it wrapped some garbage around the
    right margin).</li>

    <li>corrected 'memmove()' logic, for standalone builds (it
    referenced a malloc wrapper from my development library).</li>

    <li>add a check for HideCursor() to prevent repeated screen
    updates (which can cause a spurious cursor glitch to appear,
    e.g., during scrolling). I noticed this with the 3.2A version
    (but only a few weeks ago, when I started working on this
    patch).</li>
  </ul>

  <h1><a name="xterm_43" id="xterm_43">Patch #43 - 1997/6/10 -
  XFree86 3.9d</a></h1>

  <p>Here's a fix for two problems:</p>

  <ul>
    <li>modify handling of tgetent results in xterm and resize
    programs to make them tolerant of missing termcap file, or
    unknown terminal name. In this scheme, an explicit "-tn" option
    will succeed, overriding the fallback list.</li>

    <li>a nit in the configure script (log extra information to
    help diagnose which case of the test-compile of tgetent was
    used).</li>
  </ul>

  <h1><a name="xterm_42" id="xterm_42">Patch #42 - 1997/6/8 -
  XFree86 3.2Xl</a></h1>

  <p>Bram Moolenaar reported that the cursor color changed
  unexpectedly while scrolling. The cause was that it used the same
  GC's as the logic that draws the ANSI colors. The bug only
  appears if the cursorColor resource isn't set, and has been
  present since the initial implementation early last year. (The
  same bug also appears in rxvt ;-). Here's a fix.</p>

  <h1><a name="xterm_41" id="xterm_41">Patch #41 - 1997/5/28 -
  XFree86 3.2Xl</a></h1>

  <p>Some nits found by Darren Hiebert (missing part of
  install-rule, incorrect assignment for --enable-color-mode
  option).</p>

  <h1><a name="xterm_40" id="xterm_40">Patch #40 - 1997/5/26 -
  XFree86 3.2Xl</a></h1>

  <p>Patch for the configure script's logic for obtaining imake
  predefined symbols.</p>

  <h1><a name="xterm_39" id="xterm_39">Patch #39 - 1997/5/24 -
  XFree86 3.2Xl</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>integrate the 16-color change for 'xterm'</li>

    <li>minor fixes/clarification of tgetent in terminfo vs termcap
    to 'resize'</li>
  </ul>

  <p>(both changes also modify the configure script)</p>

  <h1><a name="xterm_38" id="xterm_38">Patch #38 - 1997/5/22 -
  XFree86 3.2Xh</a></h1>

  <p>This implements a simple configuration script with autoconf
  (to which I'll add more options later). It does the
  following:</p>

  <ul>
    <li>configures xterm to build with X11R5 (at least on SunOS
    4.1, Solaris 2.4, possibly IRIX - sorry network was down today,
    but I did test an earlier version yesterday).</li>

    <li>enables/disables the configuration ifdef's for ANSI color
    and VT52 emulation.</li>
  </ul>

  <p>It does not make tests for the things that imake does (that's
  another project), instead it uses a hybrid of the autoconf tests
  for libraries and adds imake's compiler options (which are
  necessary in some cases to get main.c to compile).</p>

  <h1><a name="xterm_37" id="xterm_37">Patch #37 - 1997/5/7 -
  XFree86 3.9a</a></h1>

  <p>This corrects a minor, but annoying error in the vt220
  emulation: the DECUDK is only supposed to be interpreted for
  _shifted_ function keys.</p>

  <h1><a name="xterm_36" id="xterm_36">Patch #36 - 1997/1/16 -
  XFree86 3.2r</a></h1>

  <p>This corrects something that I overlooked in patch #27
  (21-aug-1996), which is that when trimming the region to be
  repainted for the highlightSelection resource of xterm, I still
  have to paint the background past the highlighted region. This
  only happens when I first do a selection in a window that's
  partly off-screen, then move the window on-screen.</p>

  <h1><a name="xterm_35" id="xterm_35">Patch #35 - 1997/1/7 -
  XFree86 3.2o</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>combines the coding for foreground and background colors
    into a single byte, reducing the memory required to store
    saved-lines in color. (I'll take back that byte in a following
    patch to use to ensure the character-set, so there's no
    long-term decrease in memory use).</li>

    <li>modifies the PF1-PF4 coding in termcap/terminfo. Because
    xterm is still by default emulating vt100, the function key
    codes are vt100-compatible (I overlooked this in patch #31). I
    also reformatted the whole terminfo file into a single-column,
    for consistency.</li>

    <li>adds an interim xterm-vt220 description to accommodate the
    old and new styles of function-keys (though probably it'd be
    better to drop the old-style altogether).</li>
  </ul>

  <h1><a name="xterm_34" id="xterm_34">Patch #34 - 1997/1/5 -
  XFree86 3.2o</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>implement DECSTR (soft terminal reset). The biggest diff is
    due to adding another state table (note that there's only one
    useful state here, but it's only 256 bytes rather than 1k as it
    would have been before I reduced the size of state
    entries).</li>

    <li>some minor tidying up (e.g., signed/unsigned use bitcpy,
    MODE_DECCKM, resetColor, resetCharsets). More is done in patch
    #35.</li>
  </ul>

  <p>I got the description of DECSTR from a vt420 user's manual.
  I'll do some testing with vttest to ensure that there's nothing
  else to do than what was documented.</p>

  <h1><a name="xterm_33" id="xterm_33">Patch #33 - 1996/11/24 -
  XFree86 3.2</a></h1>

  <p>This adds to the reset-fix by Matthieu Herrb
  &lt;Mathieu.Herrb@mipnet.fr&gt; a small change to make xterm able
  to output 8-bit characters in VT100 mode. Applications that run
  on real VT100's don't do that anyway, and this feature should be
  removed sometime after finishing off the VT220 emulation (VT220's
  can do 8-bit characters). That would be a good time to change the
  default terminal-id to 220.</p>

  <h1><a name="xterm_32" id="xterm_32">Patch #32 - 1996/11/21 -
  XFree86 3.2</a></h1>

  <p>This implements the REP (repeat) control for xterm. That isn't
  part of the DEC VTxxx series, but is defined in ISO 6429. (Note
  that the base xterm terminal description is <em>not</em> changed
  -- I added a variant, "xterm-rep").</p>

  <h1><a name="xterm_31" id="xterm_31">Patch #31 - 1996/11/16 -
  XFree86 3.2</a></h1>

  <p>This implements vt52 emulation in xterm (ifdef'd so it can be
  removed). I've been using it for testing for the past month or
  so.</p>

  <h1><a name="xterm_30" id="xterm_30">Patch #30 - 1996/11/16 -
  XFree86 3.2</a></h1>

  <p>From bug-report by &lt;auroux@clipper.ens.fr&gt; (Denis
  Auroux), missing reset to ground state. I checked through the
  rest of <em>that</em> table and found another, in the
  unimplemented MC (screen print).</p>

  <h1><a name="xterm_29" id="xterm_29">Patch #29 - 1996/9/15 -
  XFree86 3.1.2Gb</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>corrects the restoration of color for bold/underline color
    mode</li>

    <li>adds a resource 'decTerminalID' to control the reporting
    level of xterm (e.g., VT100, VT220).</li>

    <li>uses the new resource to implement/correct the DA1, DA2 and
    DECRPTUI reports.</li>

    <li>change valid-response code in DECRQSS from 0 to 1 (the
    manual says 0, but the VT420 terminal I've been testing on says
    1).</li>
  </ul>

  <p>All of these changes are based on vttest 2.6</p>

  <p>(Most of the volume in the patch is to add 2 more state tables
  for parsing the 2nd/3rd device-attribute controls).</p>

  <h1><a name="xterm_28" id="xterm_28">Patch #28 - 1996/8/31 -
  XFree86 3.1.2F</a></h1>

  <p>This patch corrects the following reported by Roland Rosenfeld
  &lt;roland@spinnaker.rhein.de&gt;:</p>

  <ul>
    <li>handle SGR 22, 24 and 25 in combination with colorUL and
    colorBD resources. Also noted &amp; fixed reset of colored
    underline/bold with SGR 0.</li>

    <li>a typo in the termcap (missing '['), from 3.1.2Dj (my
    error)</li>
  </ul>

  <p>Roland also complained that he couldn't use box characters
  with</p>
  <pre>
        -adobe-courier-bold-r-normal--12-120-75-75-m-70-iso8859-1
</pre>

  <p>but that's a known xterm limitation (the box characters must
  be part of the font, in the first 32 locations).</p>

  <h1><a name="xterm_27" id="xterm_27">Patch #27 - 1996/8/21 -
  XFree86 3.1.2Ek</a></h1>

  <p>This patch fixes one of my long-term gripes: xterm's selection
  doesn't clearly show what's being selected (as per David's
  request, it's controlled by a resource, which defaults to the
  older behavior).</p>

  <h1><a name="xterm_26" id="xterm_26">Patch #26 - 1996/8/20 -
  XFree86 3.1.2Ei</a></h1>

  <p>Here's a patch to fix a problem with xterm's cut/paste and
  another to modify the appearance of the highlighting while
  selecting. (The changes are independent, so you can see if the
  change to screen.c is desirable).</p>

  <h1><a name="xterm_25" id="xterm_25">Patch #25 - 1996/8/18 -
  XFree86 3.1.2Ei</a></h1>

  <p>Here's a correction for two minor bugs that I picked up in
  testing, plus some lint (from Solaris 2.5) where NULL was used
  incorrectly:</p>

  <ul>
    <li>make the second alternate font the same as the first
    (that's what vt420 and dtterm do)</li>

    <li>corrected DECSCL report when DECSCL hasn't been set (i.e.,
    don't return a '60').</li>
  </ul>

  <h1><a name="xterm_24" id="xterm_24">Patch #24 - 1996/8/11 -
  XFree86 3.1.2Ee</a></h1>

  <p>This patch does several things. In effect, xterm can (I think)
  do a reasonably good job of emulating vt220 and vt320 terminals
  (as well as it was doing vt100, at any rate ;-).</p>

  <p>It does NOT do:</p>

  <ul>
    <li>soft fonts</li>

    <li>rigel or sixel graphics</li>
  </ul>

  <p>Anyway, I:</p>

  <ul>
    <li>added ECH, CPL, CNL, SU, SD, CBT, CHT controls</li>

    <li>added popup-menu for switching between DEC and Sun function
    keys. (corrected alignment err wrt logging entry at that
    point).</li>

    <li>make xterm recognize both 8-bit and 7-bit controls
    (including popup menu for switching modes).</li>

    <li>add user-definable function keys (aka DECUDK)</li>

    <li>support concealed text</li>

    <li>support protected text (both ISO compatible and DEC
    compatible - that's not the same thing, btw), with SPA, EPA,
    DECSCA, DECSED, DECSEL controls.</li>

    <li>implement DECSCL.</li>
  </ul>

  <p>I'll be continuing to test this patch for a while, but don't
  expect to add any new functionality (it passes all of the current
  tests I've built in vttest, but I need to make more tests)..</p>

  <h1><a name="xterm_23" id="xterm_23">Patch #23 - 1996/7/31 -
  XFree86 3.1.2Ec</a></h1>

  <p>This removes the blinking cursor I added last week (for
  performance reasons). Time-permitting, I'll revisit this after
  3.2 is released (there <em>will</em> be more work after XFree86
  3.2, I assume).</p>

  <h1><a name="xterm_22" id="xterm_22">Patch #22 - 1996/7/26 -
  XFree86 3.1.2Ec</a></h1>

  <p>I looked more closely at my "double-negative" and realized
  that I had been confused by the default color scheme (black on
  white) in combination with reverse video. However, I did see that
  the original_fg and original_bg data weren't really used - so I
  removed that logic.</p>

  <p>Also:</p>

  <ul>
    <li>during initialization, check if ANSI colors are set with
    non fg/bg values, disable color mode if not. This makes xterm
    tolerant of applications that allocate the whole color
    map.</li>

    <li>implemented blinking cursor (default is <em>off</em>)</li>
  </ul>

  <h1><a name="xterm_21" id="xterm_21">Patch #21 - 1996/7/24 -
  XFree86 3.1.2Ec</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>fixes some minor typography in the control-sequences
    documentation (it didn't occur to me til I'd sent the last
    patch that I could use ghostview for previewing the troff
    output ;-)</li>

    <li>adjusts the shell's background color in ReverseVideo so
    that flicker in resizing is reduced</li>

    <li>adds an ifdef OPT_ISO_COLORS to allow configuring xterm
    without the ISO color support (saves a lot of memory)</li>

    <li>used that ifdef to isolate/modify logic so that if the user
    doesn't have the colorMode enabled, then ISO color support is
    disabled (saving memory).

      <p>(If anyone needs numbers, I had savedLines set to 2000,
      and found a reduction from ~700k to ~400k of allocated
      memory, according to Purify).</p>
    </li>
  </ul>

  <h1><a name="xterm_20" id="xterm_20">Patch #20 - 1996/7/24 -
  XFree86 3.1.2Ec</a></h1>

  <p>This documents the changes in control sequences for window
  operations that I added in my previous patch. I'm testing another
  patch that allows the user to use less memory if colors aren't
  needed.</p>

  <h1><a name="xterm_19" id="xterm_19">Patch #19 - 1996/7/21 -
  XFree86 3.1.2Ec</a></h1>

  <p>This patch does the following:</p>

  <ul>
    <li>fixes the core dump that I reported on IRIX 5.2 (in main.c)

      <p>(it's worth noting that this bug exists in X11R6.1, so I'd
      like to assume that someone's already submitted a fix to X
      Consortium...)</p>
    </li>

    <li>change the interpretation of zero rows or columns in a
    resize-window request to use the root window's size (looking
    more carefully at dtterm, that seems to be what it does).</li>

    <li>change some memmove calls to memcpy for slightly better
    performance. also, a couple of memset calls to bzero, since
    Quantify says bzero runs 20% faster, I assume because there's
    one less argument.</li>

    <li>interpret character sets 1 and 2 (so that vttest gives a
    reasonable result) Both rxvt and dtterm do something
    equivalent.</li>

    <li>fix a minor memory leak in the logic that retrieves the
    window or icon names (Purify found this for me while I ran
    vttest).</li>
  </ul>

  <h1><a name="xterm_18" id="xterm_18">Patch #18 - 1996/7/18 -
  XFree86 3.1.2Ec</a></h1>

  <p>This implements the following:</p>

  <ul>
    <li>escape sequences that act like the CDE dtterm's window
    operations (though I have implemented the default width and
    height -- I've seen a rather buggy dtterm running that seems to
    treat width=0 or height=0 literally -- maybe that's a feature,
    not a bug?)</li>

    <li>minor tweak to the screen-repainting when resizing (I still
    cannot entirely get rid of flicker).</li>

    <li>still more fixes to terminfo &amp; termcap (I corrected my
    error for the hpa code and added some other stuff by comparing
    to ncurses' description and rxvt's).</li>

    <li>a tweak to the changes by Michael Rohleder for the color
    translation</li>

    <li>re-order attribute codes to allow later implementation of
    protected fields (dtterm supposedly does this; it's probably
    more useful than blinking or invisible text -- that uses up all
    of the available bits without changing the attribute scheme
    radically).</li>
  </ul>

  <h1><a name="xterm_17" id="xterm_17">Patch #17 - 1996/7/2 -
  XFree86 3.1.2Eb</a></h1>

  <p>This patch implements for xterm several minor features from
  ISO 6429 which are useful for terminfo applications. The HPA and
  VPA control sequences allow cursor movement along a row or
  column, cutting down a little on the characters transmitted. The
  other codes allow resetting specific graphic rendition attributes
  without modifying the other attributes. (now if someone just had
  time to implement blinking cursors...)</p>

  <h1><a name="xterm_16" id="xterm_16">Patch #16 - 1996/6/25 -
  XFree86 3.1.2Ea</a></h1>

  <p>Adam Tla/lka &lt;atlka@pg.gda.pl&gt; told me a couple of weeks
  ago that I'd missed some of the background coloring in xterm. I
  investigated, and found that while I'd picked up on the
  clear-to-bottom and clear-to-end-of-line operations, I'd
  overlooked the insert/delete lines. Just so I wouldn't overlook
  any more of these, I updated a copy of vttest to test ISO colors
  and bce (background color erase). This patch introduces a new
  function, ClearCurBackground, whose calls replace the direct
  XClearArea calls that I'd overlooked. (There's also a few
  compiler warnings fixed, etc ;-)</p>

  <h1><a name="xterm_15" id="xterm_15">Patch #15 - 1996/5/29 -
  XFree86 3.1.2E</a></h1>

  <p>This fixes the problem reported by David Dawes, by making the
  50msec select timeout for the Xaw3d arrow scrollbar a resource.
  (I made it a boolean for a variety of reasons -- to make it a
  number, you'd need an additional resource, to avoid breaking the
  logic).</p>

  <h1><a name="xterm_14" id="xterm_14">Patch #14 - 1996/5/12 -
  XFree86 3.1.2Dj</a></h1>

  <p>This patch brings the termcap and terminfo descriptions for
  xterm up to date. I made the following changes:</p>

  <ul>
    <li>reformatted the terminfo description in a single-column
    (this is ok for terminfo, and will simplify future patches --
    can't do that for termcap, since it would impact buffer
    requirements on some systems).</li>

    <li>omitted obsolete features in termcap to save a little space
    (bs, pt)</li>

    <li>added color capabilities to termcap (ut, Co, NC, op, AB,
    AF)</li>

    <li>corrected some capabilities (vi, ve)</li>

    <li>added 'st' (set tab)</li>

    <li>reduced function keys in termcap for 'xterm' to 12 because
    color capabilities makes that description larger than 1023
    characters.</li>

    <li>created new termcap name 'xtermm' (monochrome) to match the
    terminfo list, and make that description have 20 function
    keys.</li>

    <li>added corresponding color capabilities to terminfo (bce,
    colors, pairs, op, ncv, setab, setaf)</li>

    <li>corrected corresponding capabilities in terminfo (civis,
    cnorm, rmcup, smcup)</li>

    <li>added capabilities (el1, hts)</li>

    <li>in both, corrected home/end keys to match the code
    correction made by Thomas Mueller in 3.1.2Bk

      <p>=&gt; (I'm still considering modifying the code &amp;
      description to match the rxvt program).</p>
    </li>
  </ul>

  <h1><a name="xterm_13" id="xterm_13">Patch #13 - 1996/4/23 -
  XFree86 3.1.2Df</a></h1>

  <p>This corrects my earlier changes for colors - the inner border
  of the xterm was getting painted with the wrong color, since I'd
  moved the call to set the background into the logic that tracks
  SGR information.</p>

  <h1><a name="xterm_12" id="xterm_12">Patch #12 - 1996/3/16 -
  XFree86 3.1.2Dc</a></h1>

  <p>This corrects a memory leak in xterm that happens whenever one
  switches fonts.</p>

  <h1><a name="xterm_11" id="xterm_11">Patch #11 - 1996/3/5 -
  XFree86 3.1.2Db</a></h1>

  <p>This patch corrects the behavior of the ANSI colors in xterm
  when reverse video is used, as well as some other lesser
  sins:</p>

  <ul>
    <li>button.c

      <ul>
        <li>(compiler warnings: shadowing of 'time', redundant
        cast)</li>
      </ul>
    </li>

    <li>charproc.c

      <ul>
        <li>renamed screen.colors[] array to screen.Acolors[] to
        more easily distinguish the non-ANSI colors from the ANSI
        colors.</li>

        <li>moved logic of SGR_Save() into VTInitialize, getting
        rid of local private variables original_fg and
        original_bg.</li>

        <li>moved some logic into getXtermForeground and
        getXtermBackground from SGR_Foreground, SGR_Background,
        etc.</li>

        <li>corrected misleading 'row' to 'col' in case for CUF,
        CUB sequences.</li>
      </ul>
    </li>

    <li>ctlseqs.ms</li>

    <li>xterm.man

      <ul>
        <li>(correct a misconception which I'd added that the
        color0 through color6 resource values apply to non-ANSI
        colors)</li>
      </ul>
    </li>

    <li>ptyx.h

      <ul>
        <li>added original_fg, original_bg to TScreen
        structure.</li>
      </ul>
    </li>

    <li>scrollbar.c

      <ul>
        <li>(compiler warnings: redundant cast)</li>
      </ul>
    </li>

    <li>util.c

      <ul>
        <li>new functions getXtermForeground and getXtermBackground
        replace the macros GET_FG and GET_BG, with the added
        functionality of checking for the reverse-video status of
        xterm.</li>

        <li>in ReverseVideo, swap the SGR foreground and background
        colors also.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_10" id="xterm_10">Patch #10 - 1996/2/14 -
  XFree86 3.1.2Cd</a></h1>

  <p>I observed an occasional glitch in the xterm's color behavior;
  a clear to end of line would get a color that had been used in a
  program that supposedly reset colors. I traced this down to the
  way xterm was modifying colors of GC's on the fly; it didn't
  restore the original color of the GC, even though it would later
  be used in functions (such as ClearRight) that assumed (my error)
  that the GC would have the current foreground or background
  color.</p>

  <p>I fixed this by resetting the GC's colors with a new function
  'resetXtermGC()', and direct calls on
  SGR_Foreground/SGR_Background, as appropriate and using a new
  function 'updatedXtermGC()' to encapsulate the logic that
  modifies the GC's color. (I also removed some commented-out code
  that was trying to do this -- the problem was a little more
  obscure).</p>

  <h1><a name="xterm_09" id="xterm_09">Patch #9 - 1996/2/10 -
  XFree86 3.1.2Cb</a></h1>

  <p>This patch fixes the remaining problems that I had making
  xterm run with x11r5, as well as a couple of other bugs. It
  follows my patch from yesterday, that added ifdef's for some of
  the input-method resources.</p>

  <ul>
    <li>corrected ifdef's that suppress the input-method code
    (doesn't exist in my x11r5, and xterm works adequately without
    it).</li>

    <li>corrected fallback definition for 'Select()' macro (oops:
    I'd copied the wrong text...)</li>

    <li>moved the declarations for the fd_set variables to
    data.[ch]</li>

    <li>corrected an ifdef in resize.c (sunos 4.x doesn't have
    termcap.h)</li>

    <li>corrected (in main.c) some unused/orphaned variables.</li>
  </ul>

  <h1><a name="xterm_08" id="xterm_08">Patch #8 - 1996/2/9 -
  XFree86 3.1.2Cb</a></h1>

  <p>This is mostly a documentation patch for xterm. It describes
  the color control sequences in more detail, and documents some
  other features of xterm that aren't described elsewhere.</p>

  <p>I've also added a couple of ifdef's to fix (part of) the
  problem that I'm working on (making the program work properly on
  x11r5, where I'm doing memory testing -- I have a "good" version
  from mid-January, but my resync version doesn't work properly on
  x11r5). I'm not done with <em>that</em> yet.</p>

  <h1><a name="xterm_07" id="xterm_07">Patch #7 - 1996/1/28 -
  XFree86 3.1.2n</a></h1>

  <p>I did a (clean) build of 3.1.2n on Linux 1.2.13 (ELF). I've
  got an S3 card.</p>

  <p>This fixes the following in the 3.1.2n xterm:</p>

  <ul>
    <li>initialize cur_foreground, cur_background in charproc.c
    (Purify told me they weren't initialized).</li>

    <li>add interpretation of codes 39, 49, to reset background and
    foreground to default value (I'm told that ISO 6429 does this;
    but I don't have a written reference -- yet -- can anyone help
    here?). Anyway, rxvt does it, and it'll solve my remaining
    color management problems.</li>

    <li>shadowing of 'time' in menu.c</li>

    <li>'Cardinal' vs 'int' in scrollbar.c</li>

    <li>several changes to permit compile with X11R5 (the system
    that I've got Purify on won't be upgraded to X11R6 for a long
    time).</li>
  </ul>

  <p>I built this version (with a minor nit that I'll patch soon)
  on SunOS 4.1.3 so that I can test it some more with Purify.</p>

  <p><em>btw</em>: the changes made in Xpoll.h won't work on some
  older systems, because fd_set isn't a defined type (I've got one
  machine at least that this applies to).</p>

  <h1><a name="xterm_06" id="xterm_06">Patch #6 - 1996/1/8</a></h1>

  <p>This patch does all of the SGR foreground/background fixes
  (i.e., clearing the screen after an SGR color is set causes that
  color to be used in the foreground and/or background). If the
  FG_COLOR and/or BG_COLOR flags aren't set, then the xterm
  foreground and background default to the window's values. This
  usage is consistent with various types of hardware (especially
  the IBM PC), and is also used in rxvt.</p>

  <ul>
    <li>charproc.c:

      <ul>
        <li>add/use new macros GET_FG, GET_BG - n/c.</li>

        <li>add/use new functions SGR_Foreground() and
        SGR_Background() to set corresponding colors in GC's, and
        to retain sense of "original" colors.

          <p>=&gt; This makes redundant some of the corresponding
          logic in HideCursor to set the foreground and background,
          but I left it in since it <em>may</em> be fixing an
          unrelated requirement.</p>
        </li>

        <li>set GC's in LoadNewFont() according to whether the SGR
        fg/bg colors are active.

          <p>=&gt; This fixes some glitches in the accompanying
          resize, that leaves parts of the window in the original
          background color.</p>
        </li>
      </ul>
    </li>

    <li>screen.c:

      <ul>
        <li>modified ClearBufRows() to use the SGR fg/bg colors if
        they're set.</li>

        <li>added function ScrnClearLines(), used this to replace
        portions of ScrnInsertLine() and ScrnDeleteLine(). The new
        function uses the SGR fg/bg colors if they're set.

          <p>=&gt; Otherwise, selection after an index or reverse
          index will paint the wrong colors.</p>
        </li>

        <li>modified ScrnDeleteChar() and ScrnInsertChar() to use
        SGR fg/bg colors.</li>
      </ul>
    </li>

    <li>util.c:

      <ul>
        <li>modified ClearRight() so that if either of the SGR
        fg/bg colors is set, we don't bzero the attributes and
        color arrays, but instead fill them with the appropriate
        codes.</li>

        <li>modified ClearLeft to use SGR fg/bg colors.</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_05" id="xterm_05">Patch #5 - 1996/1/7</a></h1>

  <p>This patch modifies the object code, by replacing indexing
  expressions with temporary variables with the full indexing
  expression. At first glance, this seems inefficient (it did to me
  ;-), until remembering comments made in the compilers newsgroups
  that trying to "help" the compiler doesn't really work that well.
  A good optimizing compiler can do a better job than the
  programmer can. (There's a moral in the use of 'register'
  variables also, but I won't fix those...).</p>

  <p>Anyway, the revised code generates a smaller object...</p>

  <ul>
    <li>charproc.c:

      <ul>
        <li>recode index expressions in ShowCursor() and
        HideCursor() using SCRN_BUF_xxxxS macros - changes
        object.</li>

        <li>replace constant '4' by MAX_PTRS - n/c.</li>
      </ul>
    </li>

    <li>ptyx.h:

      <ul>
        <li>defined the SCRN_BUF_xxxxS macros in terms of BUF_xxxxS
        macros, to pick up references to ScrnBuf data directly, and
        added MAX_PTRS symbol to pick up those '4' constants strewn
        about the code - n/c.</li>
      </ul>
    </li>

    <li>screen.c:

      <ul>
        <li>recode index expressions in ScreenWrite() using
        SCRN_BUF_xxxxS macros - changes object.</li>

        <li>replace constant '4' by MAX_PTRS - n/c.</li>

        <li>use macros BUF_CHARS, BUF_ATTRS - n/c.</li>

        <li>cast calloc to 'Char *' to fix compiler warning on IRIX
        - n/c</li>
      </ul>
    </li>

    <li>scrollbar.c:

      <ul>
        <li>replace constant '4' by MAX_PTRS - n/c.</li>

        <li>cast calloc to 'Char *' to fix compiler warning on IRIX
        - n/c</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_04" id="xterm_04">Patch #4 - 1996/1/7</a></h1>

  <p>When setting up for this phase, I saw that you'd corrected the
  bug that I found in ClearLeft. I decided to make this series of
  patches anyway, since readability never hurt (and there's the
  potential for finding another bug while reviewing this set).</p>

  <ul>
    <li>button.c:

      <ul>
        <li>use SCRN_BUF_xxxxS macros - n/c</li>
      </ul>
    </li>

    <li>charproc.c:

      <ul>
        <li>use SCRN_BUF_xxxxS macros - n/c</li>
      </ul>
    </li>

    <li>ptyx.h:

      <ul>
        <li>added four macros: SCRN_BUF_CHARS, SCRN_BUF_ATTRS,
        SCRN_BUF_FORES, SCRN_BUF_BACKS to represent the four arrays
        that are derived from screen-&gt;buf.</li>
      </ul>
    </li>

    <li>screen.c:

      <ul>
        <li>use SCRN_BUF_xxxxS macros - n/c</li>
      </ul>
    </li>

    <li>util.c:

      <ul>
        <li>use SCRN_BUF_xxxxS macros - n/c</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_03" id="xterm_03">Patch #3 - 1996/1/7</a></h1>

  <p>This is my third (and final cleanup) patch for xterm. It gets
  rid of the unused stuff, and converts several functions to static
  (thereby reducing their scope).</p>

  <p>At this point, the only compile warnings I've got (on Linux)
  are those about the select arguments (int vs fd_set type), and a
  missing declaration for waitpid. Those both are hard to get right
  without autoconfigure.</p>

  <p>The next patches will address the functional changes...</p>

  <ul>
    <li>Tekproc.c:

      <ul>
        <li>changed several functions to 'static' that aren't used
        outside this module -- changes object</li>
      </ul>
    </li>

    <li>charproc.c:

      <ul>
        <li>changed several functions to 'static' that aren't used
        outside this module -- changes object</li>

        <li>deleted unused function unparsefputs -- changes
        object.</li>
      </ul>
    </li>

    <li>main.c:

      <ul>
        <li>changed several functions to 'static' that aren't used
        outside this module -- changes object</li>

        <li>ifdef'd out unused function 'consolepr()' -- changes
        object</li>

        <li>removed unused variable 'dummy_tio' -- changes
        object</li>

        <li>moved variable 'discipline' to quiet unused-warning --
        changes object</li>
      </ul>
    </li>

    <li>main.h:

      <ul>
        <li>deleted unused definition of DEFBORDERWIDTH - n/c</li>
      </ul>
    </li>

    <li>misc.c:

      <ul>
        <li>changed several functions to 'static' that aren't used
        outside this module -- changes object</li>

        <li>provide dummy return statements for xerror and xioerror
        to quiet compiler warnings -- changes object</li>
      </ul>
    </li>

    <li>ptyx.h:

      <ul>
        <li>change sbuf_address and abuf_address to 'Char *' -
        n/c</li>
      </ul>
    </li>

    <li>resize.c:

      <ul>
        <li>changed several functions to 'static' that aren't used
        outside this module -- changes object</li>
      </ul>
    </li>

    <li>screen.c:

      <ul>
        <li>remove unnecessary 'Char **' casts - n/c</li>
      </ul>
    </li>

    <li>util.c:

      <ul>
        <li>changed several functions to 'static' that aren't used
        outside this module -- changes object</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_02" id="xterm_02">Patch #2 - 1996/1/7</a></h1>

  <p>This is my second patch to xterm. It corrects most of the gcc
  warnings (except for some that are due to X header files ;-). I
  compared objects to keep track of the changes that don't affect
  the object code (n/c) versus those that do.</p>

  <p>At this point, I'm compiling (fairly) clean with gcc
  options</p>
  <pre>
        -Wall -Wstrict-prototypes -Wmissing-prototypes -Wshadow -Wnested-externs
</pre>

  <p>(I also compiled with -Wshadow, but while that found some
  things that I wanted to find, there's far too many warnings from
  the X headers to be usable in this context).</p>

  <p>The changes:</p>

  <ul>
    <li>Tekproc.c:

      <ul>
        <li>parenthesized expression to avoid gcc warning --
        n/c.</li>

        <li>corrected nested-extern declaration for Bool
        waiting_for_initial_map; ourTopLevelShellArgs, and
        number_ourTopLevelShellArgs - n/c</li>
      </ul>
    </li>

    <li>charproc.c:

      <ul>
        <li>corrected potentially-unintialized variables 'scstype',
        'xim', and 'input_style' -- changes object.</li>

        <li>adjusted logic of VTparse so that gcc won't warn about
        setjmp clobbering parsestate -- changes object.</li>

        <li>corrected initialization of 'scstype', which could have
        been clobbered by setjmp/longjmp - changes object.</li>

        <li>corrected nested-extern declaration of 'term',
        'ProgramName' - n/c</li>
      </ul>
    </li>

    <li>cursor.c:

      <ul>
        <li>corrected nested-extern declaration of 'term' --
        n/c</li>

        <li>renamed 'term' parameters to avoid gcc -Wshadow warning
        - n/c</li>
      </ul>
    </li>

    <li>input.c:

      <ul>
        <li>change interface of StringInput to assume size_t (i.e.,
        unsigned) nbytes -- changes object.</li>

        <li>change interface of funcvalue, and sunfuncvalue to use
        'KeySym' type instead of 'int' - changes object.</li>
      </ul>
    </li>

    <li>main.c:

      <ul>
        <li>moved definitions of SIGNAL_T, SIGNAL_RETURN to proto.h
        - n/c</li>

        <li>corrected missing params of 'do_hangup()' -- changes
        object (note: the missing params were not used).</li>

        <li>corrected missing param of 'Error()' -- changes
        object</li>

        <li>corrected nested-extern 'environ' - n/c</li>

        <li>adjusted assignments to 'tty_got_hung' and 'no_dev_tty'
        so that gcc can see they won't be clobbered by the longjmp
        - changes object.</li>

        <li>use Size_t type - n/c.</li>
      </ul>
    </li>

    <li>menu.c:

      <ul>
        <li>removed redundant prototype for 'do_hangup()' --
        n/c.</li>

        <li>renamed 'time' parameters to avoid gcc -Wshadow warning
        - n/c</li>
      </ul>
    </li>

    <li>menu.h:

      <ul>
        <li>renamed 'time' parameters to avoid gcc -Wshadow warning
        - n/c</li>
      </ul>
    </li>

    <li>misc.c:

      <ul>
        <li>corrected definition of 'HandleFocusChange()' --
        changes object</li>

        <li>cast parameters in call to 'TekExpose()' -- n/c</li>

        <li>corrected nested-extern declarations of 'term',
        'toplevel', ProgramName, and 'environ' -- n/c.</li>

        <li>use Size_t type - n/c.</li>
      </ul>
    </li>

    <li>proto.h:

      <ul>
        <li>moved definition of SIGNAL_T (and SIGNAL_RETURN) here
        from main.c, resize.c to allow use of this symbol in
        prototypes (mostly in xterm.h).</li>

        <li>added definition 'Size_t' to use as corrected type for
        strncpy, malloc sizes - n/c.</li>
      </ul>
    </li>

    <li>resize.c:

      <ul>
        <li>moved SIGNAL_T definition to proto.h -- n/c.</li>

        <li>use Size_t type - n/c.</li>
      </ul>
    </li>

    <li>screen.c:

      <ul>
        <li>use Size_t type - n/c.</li>
      </ul>
    </li>

    <li>tabs.c:

      <ul>
        <li>corrected nested-extern declaration of 'term' --
        n/c</li>
      </ul>
    </li>

    <li>util.c:

      <ul>
        <li>corrected/supplied parameters to 'TekExpose()' --
        changes object (note: 'TekExpose()' doesn't use its
        parameters).</li>

        <li>corrected nested-extern declaration of
        'waiting_for_initial_map' -- n/c.</li>

        <li>renamed 'term' parameters to avoid gcc -Wshadow warning
        - n/c</li>
      </ul>
    </li>

    <li>xterm.h:

      <ul>
        <li>prototype 'do_hangup()', 'HandleFocusChange()',
        'TekExpose()', 'Error()', 'Exit()' - forces changes in
        various places.</li>

        <li>adjusted prototypes that pass 'Boolean' arguments to
        use 'int' (this is the "correct" ANSI approach to extended
        compiles; it's worth mentioning that gcc doesn't meet the
        ANSI spec here). I used gcc -Wconversion to find these, but
        there's a lot of unrelated warnings that are due to setting
        NARROWPROTO in the config - n/c.</li>

        <li>renamed 'term' parameters to avoid gcc -Wshadow warning
        - n/c</li>
      </ul>
    </li>
  </ul>

  <h1><a name="xterm_01" id="xterm_01">Patch #1 - 1996/1/6</a></h1>

  <p>This is my first cleanup patch for xterm. It addresses all of
  the gcc warnings for -Wall, -Wmissing-prototypes and
  -Wstrict-prototypes that I can change without modifying the
  object code. (I'm compiling this with gcc 2.7.0 for an aout
  target, which makes it simple to compare objects. When I do
  ELF-only, I've got a tool that compares that sort of thing as
  well).</p>

  <p>Briefly, this patch adds (and uses) two header files in the
  xterm directory:</p>
  <pre>
        proto.h
        xterm.h
</pre>

  <p>I expect this to be the biggest patch by far. However (barring
  a misplaced prototype), it shouldn't break anything, since the
  intent of the patch is to provide missing declarations.</p>
</body>
</html>
